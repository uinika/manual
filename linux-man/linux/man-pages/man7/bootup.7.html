
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
        "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <link rel="stylesheet" type="text/css" href="../../../style.css" title="style" />
    <link rel="stylesheet" type="text/css" href="../style.css" title="style" />
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />

    <title>bootup(7) - Linux manual page</title>
</head>

<body>

<div class="page-top"><a id="top_of_page"></a></div>
<!--%%%TOP_BAR%%%-->
    <div class="nav-bar">
        <table class="nav-table">
            <tr>
                <td class="nav-cell">
                    <p class="nav-text">
                        <a href="http://man7.org/index.html">man7.org</a> &gt; Linux &gt; <a href="../index.html">man-pages</a>
                    </p>
                </td>
                <td class="training-cell">
                    <p class="training-text"><a class="training-link" href="http://man7.org/training/">Linux/UNIX system programming training</a></p>
                </td>
            </tr>
        </table>
    </div>

<hr class="nav-end" />

<!--%%%PAGE_START%%%-->


<table class="sec-table">
<tr>
    <td>
        <p class="section-dir">
<a href="#NAME">NAME</a> | <a href="#DESCRIPTION">DESCRIPTION</a> | <a href="#SYSTEM_MANAGER_BOOTUP">SYSTEM&nbsp;MANAGER&nbsp;BOOTUP</a> | <a href="#BOOTUP_IN_THE_INITIAL_RAM_DISK_(INITRD)">BOOTUP&nbsp;IN&nbsp;THE&nbsp;INITIAL&nbsp;RAM&nbsp;DISK&nbsp;(INITRD)</a> | <a href="#SYSTEM_MANAGER_SHUTDOWN">SYSTEM&nbsp;MANAGER&nbsp;SHUTDOWN</a> | <a href="#SEE_ALSO">SEE&nbsp;ALSO</a> | <a href="#COLOPHON">COLOPHON</a>
        </p>
    </td>
    <td class="search-box">
        <div class="man-search-box">

            <form method="get" action="http://www.google.com/search">
                <fieldset class="man-search">
                    <input type="text" name="q" size="10" maxlength="255" value="" />
                    <input type="hidden" name="sitesearch" value="man7.org/linux/man-pages" />
                    <input type="submit" name="sa" value="Search online pages" />
                </fieldset>
            </form>

        </div>
    </td>
    <td> </td>
</tr>
</table>

<pre>
<span class="headline">BOOTUP(7)                          bootup                          BOOTUP(7)</span>
</pre>
<h2><a id="NAME" href="#NAME"></a>NAME  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       bootup - System bootup process
</pre>
<h2><a id="DESCRIPTION" href="#DESCRIPTION"></a>DESCRIPTION  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       A number of different components are involved in the system boot.
       Immediately after power-up, the system BIOS will do minimal hardware
       initialization, and hand control over to a boot loader stored on a
       persistent storage device. This boot loader will then invoke an OS
       kernel from disk (or the network). In the Linux case, this kernel
       (optionally) extracts and executes an initial RAM disk image
       (initrd), such as generated by <a href="../man8/dracut.8.html">dracut(8)</a>, which looks for the root
       file system (possibly using <a href="../man1/systemd.1.html">systemd(1)</a> for this). After the root file
       system is found and mounted, the initrd hands over control to the
       host's system manager (such as <a href="../man1/systemd.1.html">systemd(1)</a>) stored on the OS image,
       which is then responsible for probing all remaining hardware,
       mounting all necessary file systems and spawning all configured
       services.

       On shutdown, the system manager stops all services, unmounts all file
       systems (detaching the storage technologies backing them), and then
       (optionally) jumps back into the initrd code which unmounts/detaches
       the root file system and the storage it resides on. As a last step,
       the system is powered down.

       Additional information about the system boot process may be found in
       <a href="boot.7.html">boot(7)</a>.
</pre>
<h2><a id="SYSTEM_MANAGER_BOOTUP" href="#SYSTEM_MANAGER_BOOTUP"></a>SYSTEM MANAGER BOOTUP  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       At boot, the system manager on the OS image is responsible for
       initializing the required file systems, services and drivers that are
       necessary for operation of the system. On <a href="../man1/systemd.1.html">systemd(1)</a> systems, this
       process is split up in various discrete steps which are exposed as
       target units. (See <a href="../man5/systemd.target.5.html">systemd.target(5)</a> for detailed information about
       target units.) The boot-up process is highly parallelized so that the
       order in which specific target units are reached is not
       deterministic, but still adheres to a limited amount of ordering
       structure.

       When systemd starts up the system, it will activate all units that
       are dependencies of default.target (as well as recursively all
       dependencies of these dependencies). Usually, default.target is
       simply an alias of graphical.target or multi-user.target, depending
       on whether the system is configured for a graphical UI or only for a
       text console. To enforce minimal ordering between the units pulled
       in, a number of well-known target units are available, as listed on
       <a href="systemd.special.7.html">systemd.special(7)</a>.

       The following chart is a structural overview of these well-known
       units and their position in the boot-up logic. The arrows describe
       which units are pulled in and ordered before which other units. Units
       near the top are started before units nearer to the bottom of the
       chart.

           local-fs-pre.target
                    |
                    v
           (various mounts and   (various swap   (various cryptsetup
            fsck services...)     devices...)        devices...)       (various low-level   (various low-level
                    |                  |                  |             services: udevd,     API VFS mounts:
                    v                  v                  v             tmpfiles, random     mqueue, configfs,
             local-fs.target      swap.target     cryptsetup.target    seed, sysctl, ...)      debugfs, ...)
                    |                  |                  |                    |                    |
                    \__________________|_________________ | ___________________|____________________/
                                                         \|/
                                                          v
                                                   sysinit.target
                                                          |
                     ____________________________________/|\________________________________________
                    /                  |                  |                    |                    \
                    |                  |                  |                    |                    |
                    v                  v                  |                    v                    v
                (various           (various               |                (various          rescue.service
               timers...)          paths...)              |               sockets...)               |
                    |                  |                  |                    |                    v
                    v                  v                  |                    v              <i>rescue.target</i>
              timers.target      paths.target             |             sockets.target
                    |                  |                  |                    |
                    v                  \_________________ | ___________________/
                                                         \|/
                                                          v
                                                    basic.target
                                                          |
                     ____________________________________/|                                 emergency.service
                    /                  |                  |                                         |
                    |                  |                  |                                         v
                    v                  v                  v                                 <i>emergency.target</i>
                display-        (various system    (various system
            manager.service         services           services)
                    |             required for            |
                    |            graphical UIs)           v
                    |                  |           <i>multi-user.target</i>
                    |                  |                  |
                    \_________________ | _________________/
                                      \|/
                                       v
                             <i>graphical.target</i>

       Target units that are commonly used as boot targets are <i>emphasized</i>.
       These units are good choices as goal targets, for example by passing
       them to the <i>systemd.unit=</i> kernel command line option (see <a href="../man1/systemd.1.html">systemd(1)</a>)
       or by symlinking default.target to them.

       timers.target is pulled-in by basic.target asynchronously. This
       allows timers units to depend on services which become only available
       later in boot.
</pre>
<h2><a id="BOOTUP_IN_THE_INITIAL_RAM_DISK_(INITRD)" href="#BOOTUP_IN_THE_INITIAL_RAM_DISK_(INITRD)"></a>BOOTUP IN THE INITIAL RAM DISK (INITRD)  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The initial RAM disk implementation (initrd) can be set up using
       systemd as well. In this case, boot up inside the initrd follows the
       following structure.

       The default target in the initrd is initrd.target. The bootup process
       begins identical to the system manager bootup (see above) until it
       reaches basic.target. From there, systemd approaches the special
       target initrd.target. Before any file systems are mounted, it must be
       determined whether the system will resume from hibernation or proceed
       with normal boot. This is accomplished by
       systemd-hibernate-resume@.service which must be finished before
       local-fs-pre.target, so no filesystems can be mounted before the
       check is complete. When the root device becomes available,
       initd-root-device.target is reached. If the root device can be
       mounted at /sysroot, the sysroot.mount unit becomes active and
       initrd-root-fs.target is reached. The service
       initrd-parse-etc.service scans /sysroot/etc/fstab for a possible /usr
       mount point and additional entries marked with the <i>x-initrd.mount</i>
       option. All entries found are mounted below /sysroot, and
       initrd-fs.target is reached. The service initrd-cleanup.service
       isolates to the initrd-switch-root.target, where cleanup services can
       run. As the very last step, the initrd-switch-root.service is
       activated, which will cause the system to switch its root to
       /sysroot.

                                                          : (beginning identical to above)
                                                          :
                                                          v
                                                    basic.target
                                                          |                                 emergency.service
                                   ______________________/|                                         |
                                  /                       |                                         v
                                  |            initrd-root-device.target                    <i>emergency.target</i>
                                  |                       |
                                  |                       v
                                  |                  sysroot.mount
                                  |                       |
                                  |                       v
                                  |             initrd-root-fs.target
                                  |                       |
                                  |                       v
                                  v            initrd-parse-etc.service
                           (custom initrd                 |
                            services...)                  v
                                  |            (sysroot-usr.mount and
                                  |             various mounts marked
                                  |               with fstab option
                                  |              x-initrd.mount...)
                                  |                       |
                                  |                       v
                                  |                initrd-fs.target
                                  \______________________ |
                                                         \|
                                                          v
                                                     initrd.target
                                                          |
                                                          v
                                                initrd-cleanup.service
                                                     isolates to
                                               initrd-switch-root.target
                                                          |
                                                          v
                                   ______________________/|
                                  /                       v
                                  |        initrd-udevadm-cleanup-db.service
                                  v                       |
                           (custom initrd                 |
                            services...)                  |
                                  \______________________ |
                                                         \|
                                                          v
                                              initrd-switch-root.target
                                                          |
                                                          v
                                              initrd-switch-root.service
                                                          |
                                                          v
                                                Transition to Host OS
</pre>
<h2><a id="SYSTEM_MANAGER_SHUTDOWN" href="#SYSTEM_MANAGER_SHUTDOWN"></a>SYSTEM MANAGER SHUTDOWN  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       System shutdown with systemd also consists of various target units
       with some minimal ordering structure applied:

                                             (conflicts with  (conflicts with
                                               all system     all file system
                                                services)     mounts, swaps,
                                                    |           cryptsetup
                                                    |          devices, ...)
                                                    |                |
                                                    v                v
                                             shutdown.target    umount.target
                                                    |                |
                                                    \_______   ______/
                                                            \ /
                                                             v
                                                    (various low-level
                                                         services)
                                                             |
                                                             v
                                                       final.target
                                                             |
                       _____________________________________/ \_________________________________
                      /                         |                        |                      \
                      |                         |                        |                      |
                      v                         v                        v                      v
           systemd-reboot.service   systemd-poweroff.service   systemd-halt.service   systemd-kexec.service
                      |                         |                        |                      |
                      v                         v                        v                      v
               <i>reboot.target</i>             <i>poweroff.target</i>            <i>halt.target</i>           <i>kexec.target</i>

       Commonly used system shutdown targets are <i>emphasized</i>.
</pre>
<h2><a id="SEE_ALSO" href="#SEE_ALSO"></a>SEE ALSO  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <a href="../man1/systemd.1.html">systemd(1)</a>, <a href="boot.7.html">boot(7)</a>, <a href="systemd.special.7.html">systemd.special(7)</a>, <a href="../man5/systemd.target.5.html">systemd.target(5)</a>, <a href="../man8/dracut.8.html">dracut(8)</a>
</pre>
<h2><a id="COLOPHON" href="#COLOPHON"></a>COLOPHON  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       This page is part of the <i>systemd</i> (systemd system and service manager)
       project.  Information about the project can be found at 
       ⟨<a href="http://www.freedesktop.org/wiki/Software/systemd">http://www.freedesktop.org/wiki/Software/systemd</a>⟩.  If you have a bug
       report for this manual page, see 
       ⟨<a href="http://www.freedesktop.org/wiki/Software/systemd/#bugreports">http://www.freedesktop.org/wiki/Software/systemd/#bugreports</a>⟩.  This
       page was obtained from the project's upstream Git repository 
       ⟨<a href="https://github.com/systemd/systemd.git">https://github.com/systemd/systemd.git</a>⟩ on 2017-07-05.  If you dis‐
       cover any rendering problems in this HTML version of the page, or you
       believe there is a better or more up-to-date source for the page, or
       you have corrections or improvements to the information in this
       COLOPHON (which is <i>not</i> part of the original manual page), send a mail
       to man-pages@man7.org

<span class="footline">systemd 234                                                        BOOTUP(7)</span>
</pre>

<hr class="end-man-text" />
<p>Pages that refer to this page: 
    <a href="../man1/systemd.1.html">systemd(1)</a>,&nbsp; 
    <a href="boot.7.html">boot(7)</a>,&nbsp; 
    <a href="dracut.bootup.7.html">dracut.bootup(7)</a>,&nbsp; 
    <a href="systemd.directives.7.html">systemd.directives(7)</a>,&nbsp; 
    <a href="systemd.index.7.html">systemd.index(7)</a>,&nbsp; 
    <a href="systemd.special.7.html">systemd.special(7)</a>
</p>
<hr/>

 
<hr class="start-footer" />

<div class="footer"> 

<table class="colophon-table">
    <tr>
    <td class="pub-info">
        <p>
            HTML rendering created 2017-07-13
            by <a href="http://man7.org/mtk/index.html">Michael Kerrisk</a>, 
            author of 
            <a href="http://man7.org/tlpi/"><em>The Linux Programming Interface</em></a>, 
            maintainer of the 
            <a href="https://www.kernel.org/doc/man-pages/">Linux <em>man-pages</em> project</a>.
        </p>
        <p>
            For details of in-depth
            <strong>Linux/UNIX system programming training courses</strong>
            that I teach, look <a href="http://man7.org/training/">here</a>.
        </p>
        <p>
            Hosting by <a href="http://www.jambit.com/index_en.html">jambit GmbH</a>.
        </p>
        <p>
            <a href="http://validator.w3.org/check?uri=referer">
            <img src="http://www.w3.org/Icons/valid-xhtml11"
                alt="Valid XHTML 1.1" height="31" width="88" />
            </a>
        </p>
    </td>
    <td class="colophon-divider">
    </td>
    <td class="tlpi-cover">
        <a href="http://man7.org/tlpi/"><img src="../../../tlpi/cover/TLPI-front-cover-vsmall.png" alt="Cover of TLPI" /></a>
    </td>
    </tr>
</table>

</div>

<hr class="end-footer" />



<!--BEGIN-SITETRACKING-->
<!-- SITETRACKING.man7.org_linux_man-pages -->

<!-- Start of StatCounter Code (xhtml) -->

<script type="text/javascript">
//<![CDATA[
var sc_project=7422636; 
var sc_invisible=1; 
var sc_security="9b6714ff"; 
//]]>
</script>
<script type="text/javascript"
src="../../../../www.statcounter.com/counter/counter_xhtml.js"></script>
<noscript><div class="statcounter"><a title="website
statistics" href="http://statcounter.com/"
class="statcounter"><img class="statcounter"
src="http://c.statcounter.com/7422636/0/9b6714ff/1/"
alt="website statistics" /></a></div></noscript>

<!-- End of StatCounter Code -->


<!-- Start of Google Analytics Code -->

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-9830363-8']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<!-- End of Google Analytics Code -->

<!--END-SITETRACKING-->

</body>
</html>
