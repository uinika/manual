
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
        "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <link rel="stylesheet" type="text/css" href="../../../style.css" title="style" />
    <link rel="stylesheet" type="text/css" href="../style.css" title="style" />
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />

    <title>xfs_io(8) - Linux manual page</title>
</head>

<body>

<div class="page-top"><a id="top_of_page"></a></div>
<!--%%%TOP_BAR%%%-->
    <div class="nav-bar">
        <table class="nav-table">
            <tr>
                <td class="nav-cell">
                    <p class="nav-text">
                        <a href="http://man7.org/index.html">man7.org</a> &gt; Linux &gt; <a href="../index.html">man-pages</a>
                    </p>
                </td>
                <td class="training-cell">
                    <p class="training-text"><a class="training-link" href="http://man7.org/training/">Linux/UNIX system programming training</a></p>
                </td>
            </tr>
        </table>
    </div>

<hr class="nav-end" />

<!--%%%PAGE_START%%%-->


<table class="sec-table">
<tr>
    <td>
        <p class="section-dir">
<a href="#NAME">NAME</a> | <a href="#SYNOPSIS">SYNOPSIS</a> | <a href="#DESCRIPTION">DESCRIPTION</a> | <a href="#OPTIONS">OPTIONS</a> | <a href="#CONCEPTS">CONCEPTS</a> | <a href="#FILE_I/O_COMMANDS">FILE&nbsp;I/O&nbsp;COMMANDS</a> | <a href="#MEMORY_MAPPED_I/O_COMMANDS">MEMORY&nbsp;MAPPED&nbsp;I/O&nbsp;COMMANDS</a> | <a href="#OTHER_COMMANDS">OTHER&nbsp;COMMANDS</a> | <a href="#SEE_ALSO">SEE&nbsp;ALSO</a> | <a href="#COLOPHON">COLOPHON</a>
        </p>
    </td>
    <td class="search-box">
        <div class="man-search-box">

            <form method="get" action="http://www.google.com/search">
                <fieldset class="man-search">
                    <input type="text" name="q" size="10" maxlength="255" value="" />
                    <input type="hidden" name="sitesearch" value="man7.org/linux/man-pages" />
                    <input type="submit" name="sa" value="Search online pages" />
                </fieldset>
            </form>

        </div>
    </td>
    <td> </td>
</tr>
</table>

<pre>
<span class="headline">xfs_io(8)                  System Manager's Manual                 xfs_io(8)</span>
</pre>
<h2><a id="NAME" href="#NAME"></a>NAME  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       xfs_io - debug the I/O path of an XFS filesystem
</pre>
<h2><a id="SYNOPSIS" href="#SYNOPSIS"></a>SYNOPSIS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <b>xfs_io </b>[ <b>-adfimrRstxT </b>] [ <b>-c </b><i>cmd</i> ] ... [ <b>-C </b><i>cmd</i> ] ... [ <b>-p </b><i>prog</i> ] <i>[</i>
       <i>file ]</i>
       <b>xfs_io -V</b>
</pre>
<h2><a id="DESCRIPTION" href="#DESCRIPTION"></a>DESCRIPTION  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <b>xfs_io </b>is a debugging tool like <a href="xfs_db.8.html">xfs_db(8)</a>, but is aimed at examining
       the regular file I/O paths rather than the raw XFS volume itself.
       These code paths include not only the obvious read/write/mmap
       interfaces for manipulating files, but also cover all of the XFS
       extensions (such as space preallocation, additional inode flags,
       etc).
</pre>
<h2><a id="OPTIONS" href="#OPTIONS"></a>OPTIONS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <b>xfs_io </b>commands may be run interactively (the default) or as
       arguments on the command line.  Interactive mode always runs commands
       on the current open file, whilst commands run from the command line
       may be repeated on all open files rather than just the current open
       file.  In general, open file iteration will occur for commands that
       operate on file content or state. In contrast, commands that operate
       on filesystem or system-wide state will only be run on the current
       file regardless of how many files are currently open.  Multiple
       arguments may be given on the command line and they are run in the
       sequence given. The program exits one all commands have been run.

       <b>-c </b><i>cmd</i>    Run the specified command on all currently open files.  To
                 maintain compatibility with historical usage, commands that
                 can not be run on all open files will still be run but only
                 execute once on the current open file.  Multiple <b>-c</b>
                 arguments may be given and may be interleaved on the
                 command line in any order with <b>-C </b>commands.

       <b>-C </b><i>cmd</i>    Run the specified command only on the current open file.
                 Multiple <b>-C </b>arguments may be given and may be interleaved
                 on the command line in any order with <b>-c </b>commands.

       <b>-p </b><i>prog</i>   Set the program name for prompts and some error messages,
                 the default value is <b>xfs_io</b>.

       <b>-f        </b>Create <i>file</i> if it does not already exist.

       <b>-r        </b>Open <i>file</i> read-only, initially. This is required if <i>file</i> is
                 immutable or append-only.

       <b>-i        </b>Start an idle thread. The purpose of this idle thread is to
                 test io from a multi threaded process. With single threaded
                 process, the file table is not shared and file structs are
                 not reference counted.  Spawning an idle thread can help
                 detecting file struct reference leaks.

       <b>-x        </b>Expert mode. Dangerous commands are only available in this
                 mode.  These commands also tend to require additional
                 privileges.

       <b>-V        </b>Prints the version number and exits.

       The other <a href="../man2/open.2.html">open(2)</a> options described below are also available from the
       command line.
</pre>
<h2><a id="CONCEPTS" href="#CONCEPTS"></a>CONCEPTS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <b>xfs_io </b>maintains a number of open files and memory mappings.  Files
       can be initially opened on the command line (optionally), and
       additional files can also be opened later.

       <b>xfs_io </b>commands can be broken up into three groups.  Some commands
       are aimed at doing regular file I/O - read, write, sync, space
       preallocation, etc.

       The second set of commands exist for manipulating memory mapped
       regions of a file - mapping, accessing, storing, unmapping, flushing,
       etc.

       The remaining commands are for the navigation and display of data
       structures relating to the open files, mappings, and the filesystems
       where they reside.

       Many commands have extensive online help. Use the <b>help </b>command for
       more details on any command.
</pre>
<h2><a id="FILE_I/O_COMMANDS" href="#FILE_I/O_COMMANDS"></a>FILE I/O COMMANDS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <b>file [ </b><i>N</i> <b>]</b>
              Display a list of all open files and (optionally) switch to an
              alternate current open file.

       <b>open [[ -acdfrstRT ] </b><i>path</i> <b>]</b>
              Closes the current file, and opens the file specified by <i>path</i>
              instead. Without any arguments, displays statistics about the
              current file - see the <b>stat </b>command.
                 <b>-a  </b>opens append-only (O_APPEND).
                 <b>-d  </b>opens for direct I/O (O_DIRECT).
                 <b>-f  </b>creates the file if it doesn't already exist (O_CREAT).
                 <b>-r  </b>opens read-only (O_RDONLY).
                 <b>-s  </b>opens for synchronous I/O (O_SYNC).
                 <b>-t  </b>truncates on open (O_TRUNC).
                 <b>-n  </b>opens in non-blocking mode if possible (O_NONBLOCK).
                 <b>-T  </b>create a temporary file not linked into the filesystem
                     namespace (O_TMPFILE).  The pathname passed must refer
                     to a directory which is treated as virtual parent for
                     the newly created invisible file.  Can not be used
                     together with the <b>-r </b>option.
                 <b>-R  </b>marks the file as a realtime XFS file after opening it,
                     if it is not already marked as such.

       <b>o      </b>See the <b>open </b>command.

       <b>close  </b>Closes the current open file, marking the next open file as
              current (if one exists).

       <b>c      </b>See the <b>close </b>command.

       <b>pread [ -b </b><i>bsize</i> <b>] [ -v ] [ -FBR [ -Z </b><i>seed</i> <b>] ] [ -V </b><i>vectors</i> <b>] </b><i>offset</i>
       <i>length</i>
              Reads a range of bytes in a specified blocksize from the given
              <i>offset</i>.
                 <b>-b  </b>can be used to set the blocksize into which the <a href="../man2/read.2.html">read(2)</a>
                     requests will be split. The default blocksize is 4096
                     bytes.
                 <b>-v  </b>dump the contents of the buffer after reading, by
                     default only the count of bytes actually read is
                     dumped.
                 <b>-F  </b>read the buffers in a forwards sequential direction.
                 <b>-B  </b>read the buffers in a reserve sequential direction.
                 <b>-R  </b>read the buffers in the give range in a random order.
                 <b>-Z seed</b>
                     specify the random number seed used for random reads.
                 <b>-V vectors</b>
                     Use the vectored IO read syscall <a href="../man2/preadv.2.html">preadv(2)</a> with a
                     number of blocksize length iovecs. The number of iovecs
                     is set by the <i>vectors</i> parameter.

       <b>r      </b>See the <b>pread </b>command.

       <b>pwrite [ -i </b><i>file</i> <b>] [ -d ] [ -s </b><i>skip</i> <b>] [ -b </b><i>size</i> <b>] [ -S </b><i>seed</i> <b>] [ -FBR</b>
       <b>[ -Z </b><i>zeed</i> <b>] ] [ -wW ] [ -V </b><i>vectors</i> <b>] </b><i>offset length</i>
              Writes a range of bytes in a specified blocksize from the
              given <i>offset</i>.  The bytes written can be either a set pattern
              or read in from another file before writing.
                 <b>-i  </b>allows an input <i>file</i> to be specified as the source of
                     the data to be written.
                 <b>-d  </b>causes direct I/O, rather than the usual buffered I/O,
                     to be used when reading the input file.
                 <b>-s  </b>specifies the number of bytes to <i>skip</i> from the start of
                     the input file before starting to read.
                 <b>-b  </b>used to set the blocksize into which the <a href="../man2/write.2.html">write(2)</a>
                     requests will be split. The default blocksize is 4096
                     bytes.
                 <b>-S  </b>used to set the (repeated) fill pattern which is used
                     when the data to write is not coming from a file.  The
                     default buffer fill pattern value is 0xcdcdcdcd.
                 <b>-F  </b>write the buffers in a forwards sequential direction.
                 <b>-B  </b>write the buffers in a reserve sequential direction.
                 <b>-R  </b>write the buffers in the give range in a random order.
                 <b>-Z seed</b>
                     specify the random number seed used for random write
                 <b>-w  </b>call <a href="../man2/fdatasync.2.html">fdatasync(2)</a> once all writes are complete
                     (included in timing results)
                 <b>-W  </b>call <a href="../man2/fsync.2.html">fsync(2)</a> once all writes are complete (included in
                     timing results)
                 <b>-V vectors</b>
                     Use the vectored IO write syscall <a href="../man2/pwritev.2.html">pwritev(2)</a> with a
                     number of blocksize length iovecs. The number of iovecs
                     is set by the <i>vectors</i> parameter.

       <b>w      </b>See the <b>pwrite </b>command.

       <b>bmap [ -acdelpv ] [ -n </b><i>nx</i> <b>]</b>
              Prints the block mapping for the current open file. Refer to
              the <a href="xfs_bmap.8.html">xfs_bmap(8)</a> manual page for complete documentation.

       <b>fiemap [ -alv ] [ -n </b><i>nx</i> <b>]</b>
              Prints the block mapping for the current open file using the
              fiemap ioctl.  Options behave as described in the <a href="xfs_bmap.8.html">xfs_bmap(8)</a>
              manual page.

       <b>extsize [ -R | -D ] [ </b><i>value</i> <b>]</b>
              Display and/or modify the preferred extent size used when
              allocating space for the currently open file. If the <b>-R </b>option
              is specified, a recursive descent is performed for all
              directory entries below the currently open file (<b>-D </b>can be
              used to restrict the output to directories only).  If the
              target file is a directory, then the inherited extent size is
              set for that directory (new files created in that directory
              inherit that extent size).  The <i>value</i> should be specified in
              bytes, or using one of the usual units suffixes (k, m, g, b,
              etc). The extent size is always reported in units of bytes.

       <b>cowextsize [ -R | -D ] [ </b><i>value</i> <b>]</b>
              Display and/or modify the preferred copy-on-write extent size
              used when allocating space for the currently open file. If the
              <b>-R </b>option is specified, a recursive descent is performed for
              all directory entries below the currently open file (<b>-D </b>can be
              used to restrict the output to directories only).  If the
              target file is a directory, then the inherited CoW extent size
              is set for that directory (new files created in that directory
              inherit that CoW extent size).  The <i>value</i> should be specified
              in bytes, or using one of the usual units suffixes (k, m, g,
              b, etc). The extent size is always reported in units of bytes.

       <b>allocsp </b><i>size</i> <b>0</b>
              Sets the size of the file to <i>size</i> and zeroes any additional
              space allocated using the XFS_IOC_ALLOCSP/XFS_IOC_FREESP
              system call described in the <a href="../man3/xfsctl.3.html">xfsctl(3)</a> manual page.  <b>allocsp</b>
              and <b>freesp </b>do exactly the same thing.

       <b>freesp </b><i>size</i> <b>0</b>
              See the <b>allocsp </b>command.

       <b>fadvise [ -r | -s | [[ -d | -n | -w ] </b><i>offset length</i> <b>]]</b>
              On platforms which support it, allows hints be given to the
              system regarding the expected I/O patterns on the file.  The
              range arguments are required by some advise commands ([*]
              below), and the others must have no range arguments.  With no
              arguments, the POSIX_FADV_NORMAL advice is implied (default
              readahead).
                 <b>-d  </b>the data will not be accessed again in the near future
                     (POSIX_FADV_DONTNEED[*]).
                 <b>-n  </b>data will be accessed once and not be reused
                     (POSIX_FADV_NOREUSE[*]).
                 <b>-r  </b>expect access to data in random order
                     (POSIX_FADV_RANDOM), which sets readahead to zero.
                 <b>-s  </b>expect access to data in sequential order
                     (POSIX_FADV_SEQUENTIAL), which doubles the default
                     readahead on the file.
                 <b>-w  </b>advises the specified data will be needed again
                     (POSIX_FADV_WILLNEED[*]) which forces the maximum
                     readahead.

       <b>fdatasync</b>
              Calls <a href="../man2/fdatasync.2.html">fdatasync(2)</a> to flush the file's in-core data to disk.

       <b>fsync  </b>Calls <a href="../man2/fsync.2.html">fsync(2)</a> to flush all in-core file state to disk.

       <b>s      </b>See the <b>fsync </b>command.

       <b>sync_range [ -a | -b | -w ] offset length</b>
              On platforms which support it, allows control of syncing a
              range of the file to disk. With no options,
              SYNC_FILE_RANGE_WRITE is implied on the range supplied.
                 <b>-a  </b>wait for IO in the given range to finish after writing
                     (SYNC_FILE_RANGE_WAIT_AFTER).
                 <b>-b  </b>wait for IO in the given range to finish before writing
                     (SYNC_FILE_RANGE_WAIT_BEFORE).
                 <b>-w  </b>start writeback of dirty data in the given range
                     (SYNC_FILE_RANGE_WRITE).

       <b>sync   </b>Calls <a href="../man2/sync.2.html">sync(2)</a> to flush all filesystems' in-core data to disk.

       <b>syncfs </b>Calls <a href="../man2/syncfs.2.html">syncfs(2)</a> to flush this filesystem's in-core data to
              disk.

       <b>resvsp </b><i>offset length</i>
              Allocates reserved, unwritten space for part of a file using
              the XFS_IOC_RESVSP system call described in the <a href="../man3/xfsctl.3.html">xfsctl(3)</a>
              manual page.

       <b>unresvsp </b><i>offset length</i>
              Frees reserved space for part of a file using the
              XFS_IOC_UNRESVSP system call described in the <a href="../man3/xfsctl.3.html">xfsctl(3)</a> manual
              page.

       <b>falloc [ -k ] </b><i>offset length</i>
              Allocates reserved, unwritten space for part of a file using
              the fallocate routine as described in the <a href="../man2/fallocate.2.html">fallocate(2)</a> manual
              page.
                 <b>-k  </b>will set the FALLOC_FL_KEEP_SIZE flag as described in
                     <a href="../man2/fallocate.2.html">fallocate(2)</a>.

       <b>fcollapse </b><i>offset length</i>
              Call fallocate with FALLOC_FL_COLLAPSE_RANGE flag as described
              in the <a href="../man2/fallocate.2.html">fallocate(2)</a> manual page to de-allocates blocks and
              eliminates the hole created in this process by shifting data
              blocks into the hole.

       <b>finsert </b><i>offset length</i>
              Call fallocate with FALLOC_FL_INSERT_RANGE flag as described
              in the <a href="../man2/fallocate.2.html">fallocate(2)</a> manual page to create the hole by shifting
              data blocks.

       <b>fpunch </b><i>offset length</i>
              Punches (de-allocates) blocks in the file by calling fallocate
              with the FALLOC_FL_PUNCH_HOLE flag as described in the
              <a href="../man2/fallocate.2.html">fallocate(2)</a> manual page.

       <b>funshare </b><i>offset length</i>
              Call fallocate with FALLOC_FL_UNSHARE_RANGE flag as described
              in the <a href="../man2/fallocate.2.html">fallocate(2)</a> manual page to unshare all shared blocks
              within the range.

       <b>fzero </b><i>offset length</i>
              Call fallocate with FALLOC_FL_ZERO_RANGE flag as described in
              the <a href="../man2/fallocate.2.html">fallocate(2)</a> manual page to allocate and zero blocks
              within the range.

       <b>zero </b><i>offset length</i>
              Call xfsctl with <b>XFS_IOC_ZERO_RANGE </b>as described in the
              <a href="../man3/xfsctl.3.html">xfsctl(3)</a> manual page to allocate and zero blocks within the
              range.

       <b>truncate </b><i>offset</i>
              Truncates the current file at the given offset using
              <a href="../man2/ftruncate.2.html">ftruncate(2)</a>.

       <b>sendfile -i </b><i>srcfile</i> <b>| -f </b><i>N</i> <b>[ </b><i>offset length</i> <b>]</b>
              On platforms which support it, allows a direct in-kernel copy
              between two file descriptors. The current open file is the
              target, the source must be specified as another open file (<b>-f</b>)
              or by path (<b>-i</b>).

       <b>readdir [ -v ] [ -o </b><i>offset</i> <b>] [ -l </b><i>length</i> <b>]</b>
              Read a range of directory entries from a given offset of a
              directory.
                 <b>-v  </b>verbose mode - dump dirent content as defined in
                     <a href="../man3/readdir.3.html">readdir(3)</a>
                 <b>-o  </b>specify starting <i>offset</i>
                 <b>-l  </b>specify total <i>length</i> to read (in bytes)

       <b>seek  -a | -d | -h [ -r ] [ -s ] offset</b>
              On platforms that support the <a href="../man2/lseek.2.html">lseek(2)</a> <b>SEEK_DATA </b>and <b>SEEK_HOLE</b>
              options, display the offsets of the specified segments.
                 <b>-a  </b>Display both <b>data </b>and <b>hole </b>segments starting at the
                     specified <b>offset.</b>
                 <b>-d  </b>Display the <b>data </b>segment starting at the specified
                     <b>offset.</b>
                 <b>-h  </b>Display the <b>hole </b>segment starting at the specified
                     <b>offset.</b>
                 <b>-r  </b>Recursively display all the specified segments starting
                     at the specified <b>offset.</b>
                 <b>-s  </b>Display the starting lseek(2) offset. This offset will
                     be a calculated value when both data and holes are
                     displayed together or performing a recusively display.

       <b>reflink  [ -C ] [ -q ] src_file [src_offset dst_offset length]</b>
              On filesystems that support the <b>FICLONERANGE </b>or
              <b>BTRFS_IOC_CLONE_RANGE </b>ioctls, map <i>length</i> bytes at offset
              <i>dst_offset</i> in the open file to the same physical blocks that
              are mapped at offset <i>src_offset</i> in the file <i>src_file</i> ,
              replacing any contents that may already have been there.  If a
              program writes into a reflinked block range of either file,
              the dirty blocks will be cloned, written to, and remapped
              ("copy on write") in the affected file, leaving the other
              file(s) unchanged.  If src_offset, dst_offset, and length are
              omitted, all contents of src_file will be reflinked into the
              open file.
                 <b>-C  </b>Print timing statistics in a condensed format.
                 <b>-q  </b>Do not print timing statistics at all.

       <b>dedupe  [ -C ] [ -q ] src_file src_offset dst_offset length</b>
              On filesystems that support the <b>FIDEDUPERANGE </b>or
              <b>BTRFS_IOC_FILE_EXTENT_SAME </b>ioctls, map <i>length</i> bytes at offset
              <i>dst_offset</i> in the open file to the same physical blocks that
              are mapped at offset <i>src_offset</i> in the file <i>src_file</i> , but
              only if the contents of both ranges are identical.  This is
              known as block-based deduplication.  If a program writes into
              a reflinked block range of either file, the dirty blocks will
              be cloned, written to, and remapped ("copy on write") in the
              affected file, leaving the other file(s) unchanged.
                 <b>-C  </b>Print timing statistics in a condensed format.
                 <b>-q  </b>Do not print timing statistics at all.

       <b>copy_range [ -s </b><i>src_offset</i> <b>] [ -d </b><i>dst_offset</i> <b>] [ -l </b><i>length</i> <b>] src_file</b>
              On filesystems that support the <a href="../man2/copy_file_range.2.html">copy_file_range(2)</a> system
              call, copies data from the <i>src_file</i> into the open file.  If
              <i>src_offset</i>, <i>dst_offset</i>, and <i>length</i> are omitted the contents of
              src_file will be copied to the beginning of the open file,
              overwriting any data already there.
                 <b>-s  </b>Copy data from <i>src_file</i> beginning from <i>src_offset</i>.
                 <b>-d  </b>Copy data into the open file beginning at <i>dst_offset</i>.
                 <b>-l  </b>Copy up to <i>length</i> bytes of data.

       <b>utimes </b><i>atime_sec atime_nsec mtime_sec mtime_nsec</i>
              The utimes command changes the atime and mtime of the current
              file.  sec uses UNIX timestamp notation and is the seconds
              elapsed since 1970-01-01 00:00:00 UTC.  nsec is the
              nanoseconds since the sec. This value needs to be in the range
              0-999999999 with UTIME_NOW and UTIME_OMIT being exceptions.
              Each (sec, nsec) pair constitutes a single timestamp value.
</pre>
<h2><a id="MEMORY_MAPPED_I/O_COMMANDS" href="#MEMORY_MAPPED_I/O_COMMANDS"></a>MEMORY MAPPED I/O COMMANDS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <b>mmap [ </b><i>N</i> <b>| [[ -rwx ] [-s </b><i>size</i> <b>] </b><i>offset length</i> <b>]]</b>
              With no arguments, <b>mmap </b>shows the current mappings. Specifying
              a single numeric argument <i>N</i> sets the current mapping. If two
              arguments are specified (a range specified by <i>offset</i> and
              <i>length</i>), a new mapping is created spanning the range, and the
              protection mode can be given as a combination of PROT_READ
              (<b>-r</b>), PROT_WRITE (<b>-w</b>), and PROT_EXEC (<b>-x</b>).  <b>-s </b><i>size</i> is used to
              do a mmap(size) &amp;&amp; munmap(size) operation at first, try to
              reserve some extendible free memory space, if <i>size</i> is bigger
              than <i>length</i> parameter. But there's not guarantee that the
              memory after <i>length</i> ( up to <i>size</i> ) will stay free.  <b>e.g.</b>
              "mmap -rw -s 8192 1024" will mmap 0 ~ 1024 bytes memory, but
              try to reserve 1024 ~ 8192 free space(no guarantee). This free
              space will helpful for "mremap 8192" without MREMAP_MAYMOVE
              flag.

       <b>mm     </b>See the <b>mmap </b>command.

       <b>mremap [ -f &lt;new_address&gt; ] [ -m ] </b><i>new_length</i>
              Changes the current mapping size to <i>new_length</i>.  Whether the
              mapping may be moved is controlled by the flags passed;
              MREMAP_FIXED (<b>-f</b>), or MREMAP_MAYMOVE (<b>-m</b>).  <i>new_length</i>
              specifies a page-aligned address to which the mapping must be
              moved. It can be setted to 139946004389888, 4096k or 1g etc.

       <b>mrm    </b>See the <b>mremap </b>command.

       <b>munmap </b>Unmaps the current memory mapping.

       <b>mu     </b>See the <b>munmap </b>command.

       <b>mread [ -f | -v ] [ -r ] [ </b><i>offset length</i> <b>]</b>
              Accesses a segment of the current memory mapping, optionally
              dumping it to the standard output stream (with <b>-v </b>or <b>-f</b>
              option) for inspection. The accesses are performed
              sequentially from the start <i>offset</i> by default, but can also be
              done from the end backwards through the mapping if the <b>-r</b>
              option in specified.  The two verbose modes differ only in the
              relative offsets they display, the <b>-f </b>option is relative to
              file start, whereas <b>-v </b>shows offsets relative to the start of
              the mapping.

       <b>mr     </b>See the <b>mread </b>command.

       <b>mwrite [ -r ] [ -S </b><i>seed</i> <b>] [ </b><i>offset length</i> <b>]</b>
              Stores a byte into memory for a range within a mapping.  The
              default stored value is 'X', repeated to fill the range
              specified, but this can be changed using the <b>-S </b>option.  The
              memory stores are performed sequentially from the start offset
              by default, but can also be done from the end backwards
              through the mapping if the <b>-r </b>option in specified.

       <b>mw     </b>See the <b>mwrite </b>command.

       <b>msync [ -i ] [ -a | -s ] [ </b><i>offset length</i> <b>]</b>
              Writes all modified copies of pages over the specified range
              (or entire mapping if no range specified) to their backing
              storage locations.  Also, optionally invalidates (<b>-i</b>) so that
              subsequent references to the pages will be obtained from their
              backing storage locations (instead of cached copies).  The
              flush can be done synchronously (<b>-s) </b>or asynchronously (<b>-a</b>).

       <b>ms     </b>See the <b>msync </b>command.

       <b>madvise [ -d | -r | -s | -w ] [ </b><i>offset length</i> <b>]</b>
              Modifies page cache behavior when operating on the current
              mapping.  The range arguments are required by some advise
              commands ([*] below).  With no arguments, the
              POSIX_MADV_NORMAL advice is implied (default readahead).
                 <b>-d  </b>the pages will not be needed (POSIX_MADV_DONTNEED[*]).
                 <b>-r  </b>expect random page references (POSIX_MADV_RANDOM),
                     which sets readahead to zero.
                 <b>-s  </b>expect sequential page references
                     (POSIX_MADV_SEQUENTIAL), which doubles the default
                     readahead on the file.
                 <b>-w  </b>advises the specified pages will be needed again
                     (POSIX_MADV_WILLNEED[*]) which forces the maximum
                     readahead.

       <b>mincore</b>
              Dumps a list of pages or ranges of pages that are currently in
              core, for the current memory mapping.
</pre>
<h2><a id="OTHER_COMMANDS" href="#OTHER_COMMANDS"></a>OTHER COMMANDS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <b>help [ </b>command <b>]</b>
              Display a brief description of one or all commands.

       <b>print  </b>Display a list of all open files and memory mapped regions.
              The current file and current mapping are distinguishable from
              any others.

       <b>p      </b>See the <b>print </b>command.

       <b>quit   </b>Exit <b>xfs_io</b>.

       <b>q      </b>See the <b>quit </b>command.

       <b>lsattr </b>[ <b>-R </b>| <b>-D </b>| <b>-a </b>| <b>-v </b>]
              List extended inode flags on the currently open file. If the
              <b>-R </b>option is specified, a recursive descent is performed for
              all directory entries below the currently open file (<b>-D </b>can be
              used to restrict the output to directories only).  This is a
              depth first descent, it does not follow symlinks and it also
              does not cross mount points.

       <b>chattr </b>[ <b>-R </b>| <b>-D </b>] [ <b>+</b>/<b>-riasAdtPneEfSxC </b>]
              Change extended inode flags on the currently open file. The <b>-R</b>
              and <b>-D </b>options have the same meaning as above. The mapping
              between each letter and the inode flags (refer to <a href="../man3/xfsctl.3.html">xfsctl(3)</a>
              for the full list) is available via the <b>help </b>command.

       <b>freeze </b>Suspend all write I/O requests to the filesystem of the
              current file.  Only available in expert mode and requires
              privileges.

       <b>thaw   </b>Undo the effects of a filesystem freeze operation.  Only
              available in expert mode and requires privileges.

       <b>flink </b><i>path</i>
              Link the currently open file descriptor into the filesystem
              namespace.

       <b>inject [ </b><i>tag</i> <b>]</b>
              Inject errors into a filesystem to observe filesystem behavior
              at specific points under adverse conditions. Without the <i>tag</i>
              argument, displays the list of error tags available.  Only
              available in expert mode and requires privileges.

       <b>resblks [ </b><i>blocks</i> <b>]</b>
              Get and/or set count of reserved filesystem blocks using the
              XFS_IOC_GET_RESBLKS or XFS_IOC_SET_RESBLKS system calls.  Note
              -- this can be useful for exercising out of space behavior.
              Only available in expert mode and requires privileges.

       <b>shutdown </b>[ <b>-f </b>]
              Force the filesystem to shutdown (with or without flushing the
              log).  Only available in expert mode and requires privileges.

       <b>stat </b>[ <b>-v</b>|<b>-r </b>]
              Selected statistics from <a href="../man2/stat.2.html">stat(2)</a> and the XFS_IOC_GETXATTR
              system call on the current file. If the <b>-v </b>option is
              specified, the atime (last access), mtime (last modify), and
              ctime (last change) timestamps are also displayed.  The <b>-r</b>
              option dumps raw fields from the stat structure.

       <b>statx [ -v|-r ][ -m </b><i>basic</i> <b>| -m </b><i>all</i> <b>| -m </b><i>&lt;mask&gt;</i> <b>][ -FD ]</b>
              Selected statistics from <a href="../man2/stat.2.html">stat(2)</a> and the XFS_IOC_GETXATTR
              system call on the current file.
                 <b>-v  </b>Show timestamps.
                 <b>-r  </b>Dump raw statx structure values.
                 <b>-m basic</b>
                     Set the field mask for the statx call to
                     STATX_BASIC_STATS.
                 <b>-m all</b>
                     Set the the field mask for the statx call to STATX_ALL
                     (default).
                 <b>-m &lt;mask&gt;</b>
                     Specify a numeric field mask for the statx call.
                 <b>-F  </b>Force the attributes to be synced with the server.
                 <b>-D  </b>Don't sync attributes with the server.

       <b>statfs </b>Selected statistics from <a href="../man2/statfs.2.html">statfs(2)</a> and the XFS_IOC_FSGEOMETRY
              system call on the filesystem where the current file resides.

       <b>chproj </b>[ <b>-R</b>|<b>-D </b>]
              Modifies the project identifier associated with the current
              path. The <b>-R </b>option will recursively descend if the current
              path is a directory. The <b>-D </b>option will also recursively
              descend, only setting modifying projects on subdirectories.
              See the <a href="xfs_quota.8.html">xfs_quota(8)</a> manual page for more information about
              project identifiers.

       <b>lsproj </b>[ <b>-R</b>|<b>-D </b>]
              Displays the project identifier associated with the current
              path. The <b>-R </b>and <b>-D </b>options behave as described above, in
              <b>chproj.</b>

       <b>parent </b>[ <b>-cpv </b>]
              By default this command prints out the parent inode numbers,
              inode generation numbers and basenames of all the hardlinks
              which point to the inode of the current file.
                 <b>-p  </b>the output is similar to the default output except
                     pathnames up to the mount-point are printed out instead
                     of the component name.
                 <b>-c  </b>the file's filesystem will check all the parent
                     attributes for consistency.
                 <b>-v  </b>verbose output will be printed.
              <b>[NOTE: Not currently operational on Linux.]</b>

       <b>inode  [ [ -n ] </b><i>number</i> <b>] [ -v ]</b>
              The inode command queries physical information about an inode.
              With no arguments, it will return 1 or 0, indicating whether
              or not any inode numbers greater than 32 bits are currently in
              use in the filesystem.  If given an inode <i>number</i> as an
              argument, the command will return the same inode <i>number</i> if it
              is in use, or 0 if not. With <b>-n </b><i>number</i> , the next used inode
              number after this <i>number</i> will be returned, or zero if the
              supplied inode number is the highest one in use. With <b>-v </b>the
              command will also report the number of bits (32 or 64) used by
              the inode <i>number</i> printed in the result; if no inode <i>number</i> was
              specified on the command line, the maximum possible inode
              number in the system will be printed along with its size.

       <b>set_encpolicy [ -c </b><i>mode</i> <b>] [ -n </b><i>mode</i> <b>] [ -f </b><i>flags</i> <b>] [ -v </b><i>version</i> <b>] [</b>
       <i>keydesc</i> <b>]</b>
              On filesystems that support encryption, assign an encryption
              policy to the current file.  <i>keydesc</i> is a 16-byte hex string
              which identifies the encryption key to use.  If not specified,
              a "default" key descriptor of all 0's will be used.
                 <b>-c </b><i>mode</i>
                     contents encryption mode (e.g. AES-256-XTS)
                 <b>-n </b><i>mode</i>
                     filenames encryption mode (e.g. AES-256-CTS)
                 <b>-f </b><i>flags</i>
                     policy flags (numeric)
                 <b>-v </b><i>version</i>
                     version of policy structure (numeric)

       <b>get_encpolicy</b>
              On filesystems that support encryption, display the encryption
              policy of the current file.
</pre>
<h2><a id="SEE_ALSO" href="#SEE_ALSO"></a>SEE ALSO  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <a href="mkfs.xfs.8.html">mkfs.xfs(8)</a>, <a href="../man3/xfsctl.3.html">xfsctl(3)</a>, <a href="xfs_bmap.8.html">xfs_bmap(8)</a>, <a href="xfs_db.8.html">xfs_db(8)</a>, <a href="../man5/xfs.5.html">xfs(5)</a>, <a href="../man2/fdatasync.2.html">fdatasync(2)</a>,
       <a href="../man2/fstat.2.html">fstat(2)</a>, <a href="../man2/fstatfs.2.html">fstatfs(2)</a>, <a href="../man2/fsync.2.html">fsync(2)</a>, <a href="../man2/ftruncate.2.html">ftruncate(2)</a>, <a href="../man3/futimens.3.html">futimens(3)</a>, <a href="../man2/mmap.2.html">mmap(2)</a>,
       <a href="../man2/msync.2.html">msync(2)</a>, <a href="../man2/open.2.html">open(2)</a>, <a href="../man2/pread.2.html">pread(2)</a>, <a href="../man2/pwrite.2.html">pwrite(2)</a>, <a href="../man3/readdir.3.html">readdir(3)</a>.
</pre>
<h2><a id="COLOPHON" href="#COLOPHON"></a>COLOPHON  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       This page is part of the <i>xfsprogs</i> (utilities for XFS filesystems)
       project.  Information about the project can be found at 
       ⟨<a href="http://xfs.org/">http://xfs.org/</a>⟩.  If you have a bug report for this manual page, see
       ⟨<a href="http://oss.sgi.com/bugzilla/buglist.cgi?product=XFS">http://oss.sgi.com/bugzilla/buglist.cgi?product=XFS</a>⟩.  This page was
       obtained from the project's upstream Git repository 
       ⟨git://oss.sgi.com/xfs/cmds/xfsprogs⟩ on 2017-07-05.  If you discover
       any rendering problems in this HTML version of the page, or you
       believe there is a better or more up-to-date source for the page, or
       you have corrections or improvements to the information in this
       COLOPHON (which is <i>not</i> part of the original manual page), send a mail
       to man-pages@man7.org

<span class="footline">                                                                   xfs_io(8)</span>
</pre>

<hr class="end-man-text" />
<p>Pages that refer to this page: 
    <a href="xfs_fsr.8.html">xfs_fsr(8)</a>
</p>
<hr/>

 
<hr class="start-footer" />

<div class="footer"> 

<table class="colophon-table">
    <tr>
    <td class="pub-info">
        <p>
            HTML rendering created 2017-07-13
            by <a href="http://man7.org/mtk/index.html">Michael Kerrisk</a>, 
            author of 
            <a href="http://man7.org/tlpi/"><em>The Linux Programming Interface</em></a>, 
            maintainer of the 
            <a href="https://www.kernel.org/doc/man-pages/">Linux <em>man-pages</em> project</a>.
        </p>
        <p>
            For details of in-depth
            <strong>Linux/UNIX system programming training courses</strong>
            that I teach, look <a href="http://man7.org/training/">here</a>.
        </p>
        <p>
            Hosting by <a href="http://www.jambit.com/index_en.html">jambit GmbH</a>.
        </p>
        <p>
            <a href="http://validator.w3.org/check?uri=referer">
            <img src="http://www.w3.org/Icons/valid-xhtml11"
                alt="Valid XHTML 1.1" height="31" width="88" />
            </a>
        </p>
    </td>
    <td class="colophon-divider">
    </td>
    <td class="tlpi-cover">
        <a href="http://man7.org/tlpi/"><img src="../../../tlpi/cover/TLPI-front-cover-vsmall.png" alt="Cover of TLPI" /></a>
    </td>
    </tr>
</table>

</div>

<hr class="end-footer" />



<!--BEGIN-SITETRACKING-->
<!-- SITETRACKING.man7.org_linux_man-pages -->

<!-- Start of StatCounter Code (xhtml) -->

<script type="text/javascript">
//<![CDATA[
var sc_project=7422636; 
var sc_invisible=1; 
var sc_security="9b6714ff"; 
//]]>
</script>
<script type="text/javascript"
src="../../../../www.statcounter.com/counter/counter_xhtml.js"></script>
<noscript><div class="statcounter"><a title="website
statistics" href="http://statcounter.com/"
class="statcounter"><img class="statcounter"
src="http://c.statcounter.com/7422636/0/9b6714ff/1/"
alt="website statistics" /></a></div></noscript>

<!-- End of StatCounter Code -->


<!-- Start of Google Analytics Code -->

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-9830363-8']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<!-- End of Google Analytics Code -->

<!--END-SITETRACKING-->

</body>
</html>
