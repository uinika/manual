
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
        "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <link rel="stylesheet" type="text/css" href="../../../style.css" title="style" />
    <link rel="stylesheet" type="text/css" href="../style.css" title="style" />
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />

    <title>systemd-machine-id-setup(1) - Linux manual page</title>
</head>

<body>

<div class="page-top"><a id="top_of_page"></a></div>
<!--%%%TOP_BAR%%%-->
    <div class="nav-bar">
        <table class="nav-table">
            <tr>
                <td class="nav-cell">
                    <p class="nav-text">
                        <a href="http://man7.org/index.html">man7.org</a> &gt; Linux &gt; <a href="../index.html">man-pages</a>
                    </p>
                </td>
                <td class="training-cell">
                    <p class="training-text"><a class="training-link" href="http://man7.org/training/">Linux/UNIX system programming training</a></p>
                </td>
            </tr>
        </table>
    </div>

<hr class="nav-end" />

<!--%%%PAGE_START%%%-->


<table class="sec-table">
<tr>
    <td>
        <p class="section-dir">
<a href="#NAME">NAME</a> | <a href="#SYNOPSIS">SYNOPSIS</a> | <a href="#DESCRIPTION">DESCRIPTION</a> | <a href="#OPTIONS">OPTIONS</a> | <a href="#EXIT_STATUS">EXIT&nbsp;STATUS</a> | <a href="#SEE_ALSO">SEE&nbsp;ALSO</a> | <a href="#NOTES">NOTES</a> | <a href="#COLOPHON">COLOPHON</a>
        </p>
    </td>
    <td class="search-box">
        <div class="man-search-box">

            <form method="get" action="http://www.google.com/search">
                <fieldset class="man-search">
                    <input type="text" name="q" size="10" maxlength="255" value="" />
                    <input type="hidden" name="sitesearch" value="man7.org/linux/man-pages" />
                    <input type="submit" name="sa" value="Search online pages" />
                </fieldset>
            </form>

        </div>
    </td>
    <td> </td>
</tr>
</table>

<pre>
<span class="headline">SYSTEMD-MACHINE-ID-SETUP(1)ystemd-machine-id-setupYSTEMD-MACHINE-ID-SETUP(1)</span>
</pre>
<h2><a id="NAME" href="#NAME"></a>NAME  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       systemd-machine-id-setup - Initialize the machine ID in
       /etc/machine-id
</pre>
<h2><a id="SYNOPSIS" href="#SYNOPSIS"></a>SYNOPSIS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <b>systemd-machine-id-setup</b>
</pre>
<h2><a id="DESCRIPTION" href="#DESCRIPTION"></a>DESCRIPTION  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <b>systemd-machine-id-setup </b>may be used by system installer tools to
       initialize the machine ID stored in /etc/machine-id at install time,
       with a provisioned or randomly generated ID. See <a href="../man5/machine-id.5.html">machine-id(5)</a> for
       more information about this file.

       If the tool is invoked without the <b>--commit </b>switch, /etc/machine-id
       is initialized with a valid, new machined ID if it is missing or
       empty. The new machine ID will be acquired in the following fashion:

        1. If a valid D-Bus machine ID is already configured for the system,
           the D-Bus machine ID is copied and used to initialize the machine
           ID in /etc/machine-id.

        2. If run inside a KVM virtual machine and a UUID is configured (via
           the <b>-uuid </b>option), this UUID is used to initialize the machine
           ID. The caller must ensure that the UUID passed is sufficiently
           unique and is different for every booted instance of the VM.

        3. Similarly, if run inside a Linux container environment and a UUID
           is configured for the container, this is used to initialize the
           machine ID. For details, see the documentation of the <b>Container</b>
           <b>Interface</b><b></b>[1].

        4. Otherwise, a new ID is randomly generated.

       The <b>--commit </b>switch may be used to commit a transient machined ID to
       disk, making it persistent. For details, see below.

       Use <a href="systemd-firstboot.1.html">systemd-firstboot(1)</a> to initialize the machine ID on mounted (but
       not booted) system images.
</pre>
<h2><a id="OPTIONS" href="#OPTIONS"></a>OPTIONS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The following options are understood:

       <b>--root=</b><i>root</i>
           Takes a directory path as argument. All paths operated will be
           prefixed with the given alternate <i>root</i> path, including the path
           for /etc/machine-id itself.

       <b>--commit</b>
           Commit a transient machine ID to disk. This command may be used
           to convert a transient machine ID into a persistent one. A
           transient machine ID file is one that was bind mounted from a
           memory file system (usually "tmpfs") to /etc/machine-id during
           the early phase of the boot process. This may happen because /etc
           is initially read-only and was missing a valid machine ID file at
           that point.

           This command will execute no operation if /etc/machine-id is not
           mounted from a memory file system, or if /etc is read-only. The
           command will write the current transient machine ID to disk and
           unmount the /etc/machine-id mount point in a race-free manner to
           ensure that this file is always valid and accessible for other
           processes.

           This command is primarily used by the
           <a href="../man8/systemd-machine-id-commit.service.8.html">systemd-machine-id-commit.service(8)</a> early boot service.

       <b>--print</b>
           Print the machine ID generated or committed after the operation
           is complete.

       <b>-h</b>, <b>--help</b>
           Print a short help text and exit.

       <b>--version</b>
           Print a short version string and exit.
</pre>
<h2><a id="EXIT_STATUS" href="#EXIT_STATUS"></a>EXIT STATUS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       On success, 0 is returned, a non-zero failure code otherwise.
</pre>
<h2><a id="SEE_ALSO" href="#SEE_ALSO"></a>SEE ALSO  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <a href="systemd.1.html">systemd(1)</a>, <a href="../man5/machine-id.5.html">machine-id(5)</a>, <a href="../man8/systemd-machine-id-commit.service.8.html">systemd-machine-id-commit.service(8)</a>,
       <b>dbus-uuidgen</b>(1), <a href="systemd-firstboot.1.html">systemd-firstboot(1)</a>
</pre>
<h2><a id="NOTES" href="#NOTES"></a>NOTES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
        1. Container Interface
           <a href="https://www.freedesktop.org/wiki/Software/systemd/ContainerInterface">https://www.freedesktop.org/wiki/Software/systemd/ContainerInterface</a>
</pre>
<h2><a id="COLOPHON" href="#COLOPHON"></a>COLOPHON  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       This page is part of the <i>systemd</i> (systemd system and service manager)
       project.  Information about the project can be found at 
       ⟨<a href="http://www.freedesktop.org/wiki/Software/systemd">http://www.freedesktop.org/wiki/Software/systemd</a>⟩.  If you have a bug
       report for this manual page, see 
       ⟨<a href="http://www.freedesktop.org/wiki/Software/systemd/#bugreports">http://www.freedesktop.org/wiki/Software/systemd/#bugreports</a>⟩.  This
       page was obtained from the project's upstream Git repository 
       ⟨<a href="https://github.com/systemd/systemd.git">https://github.com/systemd/systemd.git</a>⟩ on 2017-07-05.  If you dis‐
       cover any rendering problems in this HTML version of the page, or you
       believe there is a better or more up-to-date source for the page, or
       you have corrections or improvements to the information in this
       COLOPHON (which is <i>not</i> part of the original manual page), send a mail
       to man-pages@man7.org

<span class="footline">systemd 234                                      SYSTEMD-MACHINE-ID-SETUP(1)</span>
</pre>

<hr class="end-man-text" />
<p>Pages that refer to this page: 
    <a href="systemd-firstboot.1.html">systemd-firstboot(1)</a>,&nbsp; 
    <a href="../man5/machine-id.5.html">machine-id(5)</a>,&nbsp; 
    <a href="../man7/lvmsystemid.7.html">lvmsystemid(7)</a>,&nbsp; 
    <a href="../man7/systemd.directives.7.html">systemd.directives(7)</a>,&nbsp; 
    <a href="../man7/systemd.index.7.html">systemd.index(7)</a>,&nbsp; 
    <a href="../man8/systemd-machine-id-commit.service.8.html">systemd-machine-id-commit.service(8)</a>
</p>
<hr/>

 
<hr class="start-footer" />

<div class="footer"> 

<table class="colophon-table">
    <tr>
    <td class="pub-info">
        <p>
            HTML rendering created 2017-07-13
            by <a href="http://man7.org/mtk/index.html">Michael Kerrisk</a>, 
            author of 
            <a href="http://man7.org/tlpi/"><em>The Linux Programming Interface</em></a>, 
            maintainer of the 
            <a href="https://www.kernel.org/doc/man-pages/">Linux <em>man-pages</em> project</a>.
        </p>
        <p>
            For details of in-depth
            <strong>Linux/UNIX system programming training courses</strong>
            that I teach, look <a href="http://man7.org/training/">here</a>.
        </p>
        <p>
            Hosting by <a href="http://www.jambit.com/index_en.html">jambit GmbH</a>.
        </p>
        <p>
            <a href="http://validator.w3.org/check?uri=referer">
            <img src="http://www.w3.org/Icons/valid-xhtml11"
                alt="Valid XHTML 1.1" height="31" width="88" />
            </a>
        </p>
    </td>
    <td class="colophon-divider">
    </td>
    <td class="tlpi-cover">
        <a href="http://man7.org/tlpi/"><img src="../../../tlpi/cover/TLPI-front-cover-vsmall.png" alt="Cover of TLPI" /></a>
    </td>
    </tr>
</table>

</div>

<hr class="end-footer" />



<!--BEGIN-SITETRACKING-->
<!-- SITETRACKING.man7.org_linux_man-pages -->

<!-- Start of StatCounter Code (xhtml) -->

<script type="text/javascript">
//<![CDATA[
var sc_project=7422636; 
var sc_invisible=1; 
var sc_security="9b6714ff"; 
//]]>
</script>
<script type="text/javascript"
src="../../../../www.statcounter.com/counter/counter_xhtml.js"></script>
<noscript><div class="statcounter"><a title="website
statistics" href="http://statcounter.com/"
class="statcounter"><img class="statcounter"
src="http://c.statcounter.com/7422636/0/9b6714ff/1/"
alt="website statistics" /></a></div></noscript>

<!-- End of StatCounter Code -->


<!-- Start of Google Analytics Code -->

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-9830363-8']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<!-- End of Google Analytics Code -->

<!--END-SITETRACKING-->

</body>
</html>
