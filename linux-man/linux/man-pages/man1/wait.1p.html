
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
        "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <link rel="stylesheet" type="text/css" href="../../../style.css" title="style" />
    <link rel="stylesheet" type="text/css" href="../style.css" title="style" />
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />

    <title>wait.1p - Linux manual page</title>
</head>

<body>

<div class="page-top"><a id="top_of_page"></a></div>
<!--%%%TOP_BAR%%%-->
    <div class="nav-bar">
        <table class="nav-table">
            <tr>
                <td class="nav-cell">
                    <p class="nav-text">
                        <a href="http://man7.org/index.html">man7.org</a> &gt; Linux &gt; <a href="../index.html">man-pages</a>
                    </p>
                </td>
                <td class="training-cell">
                    <p class="training-text"><a class="training-link" href="http://man7.org/training/">Linux/UNIX system programming training</a></p>
                </td>
            </tr>
        </table>
    </div>

<hr class="nav-end" />

<!--%%%PAGE_START%%%-->


<table class="sec-table">
<tr>
    <td>
        <p class="section-dir">
<a href="#PROLOG">PROLOG</a> | <a href="#NAME">NAME</a> | <a href="#SYNOPSIS">SYNOPSIS</a> | <a href="#DESCRIPTION">DESCRIPTION</a> | <a href="#OPTIONS">OPTIONS</a> | <a href="#OPERANDS">OPERANDS</a> | <a href="#STDIN">STDIN</a> | <a href="#INPUT_FILES">INPUT&nbsp;FILES</a> | <a href="#ENVIRONMENT_VARIABLES">ENVIRONMENT&nbsp;VARIABLES</a> | <a href="#ASYNCHRONOUS_EVENTS">ASYNCHRONOUS&nbsp;EVENTS</a> | <a href="#STDOUT">STDOUT</a> | <a href="#STDERR">STDERR</a> | <a href="#OUTPUT_FILES">OUTPUT&nbsp;FILES</a> | <a href="#EXTENDED_DESCRIPTION">EXTENDED&nbsp;DESCRIPTION</a> | <a href="#EXIT_STATUS">EXIT&nbsp;STATUS</a> | <a href="#CONSEQUENCES_OF_ERRORS">CONSEQUENCES&nbsp;OF&nbsp;ERRORS</a> | <a href="#APPLICATION_USAGE">APPLICATION&nbsp;USAGE</a> | <a href="#EXAMPLES">EXAMPLES</a> | <a href="#RATIONALE">RATIONALE</a> | <a href="#FUTURE_DIRECTIONS">FUTURE&nbsp;DIRECTIONS</a> | <a href="#SEE_ALSO">SEE&nbsp;ALSO</a> | <a href="#COPYRIGHT">COPYRIGHT</a>
        </p>
    </td>
    <td class="search-box">
        <div class="man-search-box">

            <form method="get" action="http://www.google.com/search">
                <fieldset class="man-search">
                    <input type="text" name="q" size="10" maxlength="255" value="" />
                    <input type="hidden" name="sitesearch" value="man7.org/linux/man-pages" />
                    <input type="submit" name="sa" value="Search online pages" />
                </fieldset>
            </form>

        </div>
    </td>
    <td> </td>
</tr>
</table>

<pre>
<span class="headline">WAIT(1P)                  POSIX Programmer's Manual                 WAIT(1P)</span>
</pre>
<h2><a id="PROLOG" href="#PROLOG"></a>PROLOG  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       This manual page is part of the POSIX Programmer's Manual.  The Linux
       implementation of this interface may differ (consult the
       corresponding Linux manual page for details of Linux behavior), or
       the interface may not be implemented on Linux.
</pre>
<h2><a id="NAME" href="#NAME"></a>NAME  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       wait — await process completion
</pre>
<h2><a id="SYNOPSIS" href="#SYNOPSIS"></a>SYNOPSIS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       wait <b>[</b><i>pid</i>...<b>]</b>
</pre>
<h2><a id="DESCRIPTION" href="#DESCRIPTION"></a>DESCRIPTION  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       When an asynchronous list (see <i>Section 2.9.3.1</i>, <i>Examples</i>) is started
       by the shell, the process ID of the last command in each element of
       the asynchronous list shall become known in the current shell
       execution environment; see <i>Section 2.12</i>, <i>Shell Execution Environment</i>.

       If the <i>wait</i> utility is invoked with no operands, it shall wait until
       all process IDs known to the invoking shell have terminated and exit
       with a zero exit status.

       If one or more <i>pid</i> operands are specified that represent known
       process IDs, the <i>wait</i> utility shall wait until all of them have
       terminated. If one or more <i>pid</i> operands are specified that represent
       unknown process IDs, <i>wait</i> shall treat them as if they were known
       process IDs that exited with exit status 127. The exit status
       returned by the <i>wait</i> utility shall be the exit status of the process
       requested by the last <i>pid</i> operand.

       The known process IDs are applicable only for invocations of <i>wait</i> in
       the current shell execution environment.
</pre>
<h2><a id="OPTIONS" href="#OPTIONS"></a>OPTIONS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       None.
</pre>
<h2><a id="OPERANDS" href="#OPERANDS"></a>OPERANDS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The following operand shall be supported:

       <i>pid</i>       One of the following:

                  1. The unsigned decimal integer process ID of a command,
                     for which the utility is to wait for the termination.

                  2. A job control job ID (see the Base Definitions volume
                     of POSIX.1‐2008, <i>Section 3.204</i>, <i>Job Control Job ID</i>)
                     that identifies a background process group to be waited
                     for. The job control job ID notation is applicable only
                     for invocations of <i>wait</i> in the current shell execution
                     environment; see <i>Section 2.12</i>, <i>Shell Execution</i>
                     <i>Environment</i>.  The exit status of <i>wait</i> shall be
                     determined by the last command in the pipeline.

                     <b>Note:     </b>The job control job ID type of <i>pid</i> is only
                               available on systems supporting the User
                               Portability Utilities option.
</pre>
<h2><a id="STDIN" href="#STDIN"></a>STDIN  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       Not used.
</pre>
<h2><a id="INPUT_FILES" href="#INPUT_FILES"></a>INPUT FILES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       None.
</pre>
<h2><a id="ENVIRONMENT_VARIABLES" href="#ENVIRONMENT_VARIABLES"></a>ENVIRONMENT VARIABLES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The following environment variables shall affect the execution of
       <i>wait</i>:

       <i>LANG</i>      Provide a default value for the internationalization
                 variables that are unset or null. (See the Base Definitions
                 volume of POSIX.1‐2008, <i>Section 8.2</i>, <i>Internationalization</i>
                 <i>Variables</i> for the precedence of internationalization
                 variables used to determine the values of locale
                 categories.)

       <i>LC_ALL</i>    If set to a non-empty string value, override the values of
                 all the other internationalization variables.

       <i>LC_CTYPE</i>  Determine the locale for the interpretation of sequences of
                 bytes of text data as characters (for example, single-byte
                 as opposed to multi-byte characters in arguments).

       <i>LC_MESSAGES</i>
                 Determine the locale that should be used to affect the
                 format and contents of diagnostic messages written to
                 standard error.

       <i>NLSPATH</i>   Determine the location of message catalogs for the
                 processing of <i>LC_MESSAGES</i>.
</pre>
<h2><a id="ASYNCHRONOUS_EVENTS" href="#ASYNCHRONOUS_EVENTS"></a>ASYNCHRONOUS EVENTS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       Default.
</pre>
<h2><a id="STDOUT" href="#STDOUT"></a>STDOUT  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       Not used.
</pre>
<h2><a id="STDERR" href="#STDERR"></a>STDERR  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The standard error shall be used only for diagnostic messages.
</pre>
<h2><a id="OUTPUT_FILES" href="#OUTPUT_FILES"></a>OUTPUT FILES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       None.
</pre>
<h2><a id="EXTENDED_DESCRIPTION" href="#EXTENDED_DESCRIPTION"></a>EXTENDED DESCRIPTION  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       None.
</pre>
<h2><a id="EXIT_STATUS" href="#EXIT_STATUS"></a>EXIT STATUS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       If one or more operands were specified, all of them have terminated
       or were not known by the invoking shell, and the status of the last
       operand specified is known, then the exit status of <i>wait</i> shall be the
       exit status information of the command indicated by the last operand
       specified. If the process terminated abnormally due to the receipt of
       a signal, the exit status shall be greater than 128 and shall be
       distinct from the exit status generated by other signals, but the
       exact value is unspecified. (See the <i>kill</i> <b>−l </b>option.) Otherwise, the
       <i>wait</i> utility shall exit with one of the following values:

           0   The <i>wait</i> utility was invoked with no operands and all process
               IDs known by the invoking shell have terminated.

       1‐126   The <i>wait</i> utility detected an error.

         127   The command identified by the last <i>pid</i> operand specified is
               unknown.
</pre>
<h2><a id="CONSEQUENCES_OF_ERRORS" href="#CONSEQUENCES_OF_ERRORS"></a>CONSEQUENCES OF ERRORS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       Default.

       <i>The following sections are informative.</i>
</pre>
<h2><a id="APPLICATION_USAGE" href="#APPLICATION_USAGE"></a>APPLICATION USAGE  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       On most implementations, <i>wait</i> is a shell built-in. If it is called in
       a subshell or separate utility execution environment, such as one of
       the following:

           <b>(wait)</b>
           <b>nohup wait ...</b>
           <b>find . −exec wait ... \;</b>

       it returns immediately because there are no known process IDs to wait
       for in those environments.

       Historical implementations of interactive shells have discarded the
       exit status of terminated background processes before each shell
       prompt. Therefore, the status of background processes was usually
       lost unless it terminated while <i>wait</i> was waiting for it. This could
       be a serious problem when a job that was expected to run for a long
       time actually terminated quickly with a syntax or initialization
       error because the exit status returned was usually zero if the
       requested process ID was not found. This volume of POSIX.1‐2008
       requires the implementation to keep the status of terminated jobs
       available until the status is requested, so that scripts like:

           <b>j1&amp;</b>
           <b>p1=$!</b>
           <b>j2&amp;</b>
           <b>wait $p1</b>
           <b>echo Job 1 exited with status $?</b>
           <b>wait $!</b>
           <b>echo Job 2 exited with status $?</b>

       work without losing status on any of the jobs. The shell is allowed
       to discard the status of any process if it determines that the
       application cannot get the process ID for that process from the
       shell. It is also required to remember only {CHILD_MAX} number of
       processes in this way. Since the only way to get the process ID from
       the shell is by using the <b>'!'  </b>shell parameter, the shell is allowed
       to discard the status of an asynchronous list if <b>"$!" </b>was not
       referenced before another asynchronous list was started. (This means
       that the shell only has to keep the status of the last asynchronous
       list started if the application did not reference <b>"$!"</b>.  If the
       implementation of the shell is smart enough to determine that a
       reference to <b>"$!" </b>was not saved anywhere that the application can
       retrieve it later, it can use this information to trim the list of
       saved information. Note also that a successful call to <i>wait</i> with no
       operands discards the exit status of all asynchronous lists.)

       If the exit status of <i>wait</i> is greater than 128, there is no way for
       the application to know if the waited-for process exited with that
       value or was killed by a signal.  Since most utilities exit with
       small values, there is seldom any ambiguity. Even in the ambiguous
       cases, most applications just need to know that the asynchronous job
       failed; it does not matter whether it detected an error and failed or
       was killed and did not complete its job normally.
</pre>
<h2><a id="EXAMPLES" href="#EXAMPLES"></a>EXAMPLES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       Although the exact value used when a process is terminated by a
       signal is unspecified, if it is known that a signal terminated a
       process, a script can still reliably determine which signal by using
       <i>kill</i> as shown by the following script:

           <b>sleep 1000&amp;</b>
           <b>pid=$!</b>
           <b>kill −kill $pid</b>
           <b>wait $pid</b>
           <b>echo $pid was terminated by a SIG$(kill −l $?) signal.</b>

       If the following sequence of commands is run in less than 31 seconds:

           <b>sleep 257 | sleep 31 &amp;</b>
           <b>jobs −l %%</b>

       either of the following commands returns the exit status of the
       second <i>sleep</i> in the pipeline:

           <b>wait </b><i>&lt;pid of sleep 31&gt;</i>
           <b>wait %%</b>
</pre>
<h2><a id="RATIONALE" href="#RATIONALE"></a>RATIONALE  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The description of <i>wait</i> does not refer to the <i>waitpid</i>() function from
       the System Interfaces volume of POSIX.1‐2008 because that would
       needlessly overspecify this interface. However, the wording means
       that <i>wait</i> is required to wait for an explicit process when it is
       given an argument so that the status information of other processes
       is not consumed. Historical implementations use the <i>wait</i>() function
       defined in the System Interfaces volume of POSIX.1‐2008 until <i>wait</i>()
       returns the requested process ID or finds that the requested process
       does not exist. Because this means that a shell script could not
       reliably get the status of all background children if a second
       background job was ever started before the first job finished, it is
       recommended that the <i>wait</i> utility use a method such as the
       functionality provided by the <i>waitpid</i>() function.

       The ability to wait for multiple <i>pid</i> operands was adopted from the
       KornShell.

       This new functionality was added because it is needed to determine
       the exit status of any asynchronous list accurately. The only
       compatibility problem that this change creates is for a script like

           <b>while sleep 60 do</b>
               <b>job&amp; echo Job started $(date) as $!  done</b>

       which causes the shell to monitor all of the jobs started until the
       script terminates or runs out of memory. This would not be a problem
       if the loop did not reference <b>"$!" </b>or if the script would
       occasionally <i>wait</i> for jobs it started.
</pre>
<h2><a id="FUTURE_DIRECTIONS" href="#FUTURE_DIRECTIONS"></a>FUTURE DIRECTIONS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       None.
</pre>
<h2><a id="SEE_ALSO" href="#SEE_ALSO"></a>SEE ALSO  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <i>Chapter 2</i>, <i>Shell Command Language</i>, <a href="kill.1p.html">kill(1p)</a>, <a href="sh.1p.html">sh(1p)</a>

       The Base Definitions volume of POSIX.1‐2008, <i>Section 3.204</i>, <i>Job</i>
       <i>Control Job ID</i>, <i>Chapter 8</i>, <i>Environment Variables</i>

       The System Interfaces volume of POSIX.1‐2008, <a href="../man3/wait.3p.html">wait(3p)</a>
</pre>
<h2><a id="COPYRIGHT" href="#COPYRIGHT"></a>COPYRIGHT  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       Portions of this text are reprinted and reproduced in electronic form
       from IEEE Std 1003.1, 2013 Edition, Standard for Information
       Technology -- Portable Operating System Interface (POSIX), The Open
       Group Base Specifications Issue 7, Copyright (C) 2013 by the
       Institute of Electrical and Electronics Engineers, Inc and The Open
       Group.  (This is POSIX.1-2008 with the 2013 Technical Corrigendum 1
       applied.) In the event of any discrepancy between this version and
       the original IEEE and The Open Group Standard, the original IEEE and
       The Open Group Standard is the referee document. The original
       Standard can be obtained online at <a href="http://www.unix.org/online.html">http://www.unix.org/online.html</a> .

       Any typographical or formatting errors that appear in this page are
       most likely to have been introduced during the conversion of the
       source files to man page format. To report such errors, see
       <a href="https://www.kernel.org/doc/man-pages/reporting_bugs.html">https://www.kernel.org/doc/man-pages/reporting_bugs.html</a> .

<span class="footline">IEEE/The Open Group                 2013                            WAIT(1P)</span>
</pre>

<hr class="end-man-text" />
<p>Pages that refer to this page: 
    <a href="bg.1p.html">bg(1p)</a>,&nbsp; 
    <a href="fg.1p.html">fg(1p)</a>,&nbsp; 
    <a href="jobs.1p.html">jobs(1p)</a>,&nbsp; 
    <a href="kill.1p.html">kill(1p)</a>,&nbsp; 
    <a href="sleep.1p.html">sleep(1p)</a>
</p>
<hr/>

 
<hr class="start-footer" />

<div class="footer"> 

<table class="colophon-table">
    <tr>
    <td class="pub-info">
        <p>
            HTML rendering created 2017-07-13
            by <a href="http://man7.org/mtk/index.html">Michael Kerrisk</a>, 
            author of 
            <a href="http://man7.org/tlpi/"><em>The Linux Programming Interface</em></a>, 
            maintainer of the 
            <a href="https://www.kernel.org/doc/man-pages/">Linux <em>man-pages</em> project</a>.
        </p>
        <p>
            For details of in-depth
            <strong>Linux/UNIX system programming training courses</strong>
            that I teach, look <a href="http://man7.org/training/">here</a>.
        </p>
        <p>
            Hosting by <a href="http://www.jambit.com/index_en.html">jambit GmbH</a>.
        </p>
        <p>
            <a href="http://validator.w3.org/check?uri=referer">
            <img src="http://www.w3.org/Icons/valid-xhtml11"
                alt="Valid XHTML 1.1" height="31" width="88" />
            </a>
        </p>
    </td>
    <td class="colophon-divider">
    </td>
    <td class="tlpi-cover">
        <a href="http://man7.org/tlpi/"><img src="../../../tlpi/cover/TLPI-front-cover-vsmall.png" alt="Cover of TLPI" /></a>
    </td>
    </tr>
</table>

</div>

<hr class="end-footer" />



<!--BEGIN-SITETRACKING-->
<!-- SITETRACKING.man7.org_linux_man-pages -->

<!-- Start of StatCounter Code (xhtml) -->

<script type="text/javascript">
//<![CDATA[
var sc_project=7422636; 
var sc_invisible=1; 
var sc_security="9b6714ff"; 
//]]>
</script>
<script type="text/javascript"
src="../../../../www.statcounter.com/counter/counter_xhtml.js"></script>
<noscript><div class="statcounter"><a title="website
statistics" href="http://statcounter.com/"
class="statcounter"><img class="statcounter"
src="http://c.statcounter.com/7422636/0/9b6714ff/1/"
alt="website statistics" /></a></div></noscript>

<!-- End of StatCounter Code -->


<!-- Start of Google Analytics Code -->

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-9830363-8']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<!-- End of Google Analytics Code -->

<!--END-SITETRACKING-->

</body>
</html>
