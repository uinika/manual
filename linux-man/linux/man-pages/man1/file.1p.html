
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
        "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <link rel="stylesheet" type="text/css" href="../../../style.css" title="style" />
    <link rel="stylesheet" type="text/css" href="../style.css" title="style" />
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />

    <title>file.1p - Linux manual page</title>
</head>

<body>

<div class="page-top"><a id="top_of_page"></a></div>
<!--%%%TOP_BAR%%%-->
    <div class="nav-bar">
        <table class="nav-table">
            <tr>
                <td class="nav-cell">
                    <p class="nav-text">
                        <a href="http://man7.org/index.html">man7.org</a> &gt; Linux &gt; <a href="../index.html">man-pages</a>
                    </p>
                </td>
                <td class="training-cell">
                    <p class="training-text"><a class="training-link" href="http://man7.org/training/">Linux/UNIX system programming training</a></p>
                </td>
            </tr>
        </table>
    </div>

<hr class="nav-end" />

<!--%%%PAGE_START%%%-->


<table class="sec-table">
<tr>
    <td>
        <p class="section-dir">
<a href="#PROLOG">PROLOG</a> | <a href="#NAME">NAME</a> | <a href="#SYNOPSIS">SYNOPSIS</a> | <a href="#DESCRIPTION">DESCRIPTION</a> | <a href="#OPTIONS">OPTIONS</a> | <a href="#OPERANDS">OPERANDS</a> | <a href="#STDIN">STDIN</a> | <a href="#INPUT_FILES">INPUT&nbsp;FILES</a> | <a href="#ENVIRONMENT_VARIABLES">ENVIRONMENT&nbsp;VARIABLES</a> | <a href="#ASYNCHRONOUS_EVENTS">ASYNCHRONOUS&nbsp;EVENTS</a> | <a href="#STDOUT">STDOUT</a> | <a href="#STDERR">STDERR</a> | <a href="#OUTPUT_FILES">OUTPUT&nbsp;FILES</a> | <a href="#EXTENDED_DESCRIPTION">EXTENDED&nbsp;DESCRIPTION</a> | <a href="#EXIT_STATUS">EXIT&nbsp;STATUS</a> | <a href="#CONSEQUENCES_OF_ERRORS">CONSEQUENCES&nbsp;OF&nbsp;ERRORS</a> | <a href="#APPLICATION_USAGE">APPLICATION&nbsp;USAGE</a> | <a href="#EXAMPLES">EXAMPLES</a> | <a href="#RATIONALE">RATIONALE</a> | <a href="#FUTURE_DIRECTIONS">FUTURE&nbsp;DIRECTIONS</a> | <a href="#SEE_ALSO">SEE&nbsp;ALSO</a> | <a href="#COPYRIGHT">COPYRIGHT</a>
        </p>
    </td>
    <td class="search-box">
        <div class="man-search-box">

            <form method="get" action="http://www.google.com/search">
                <fieldset class="man-search">
                    <input type="text" name="q" size="10" maxlength="255" value="" />
                    <input type="hidden" name="sitesearch" value="man7.org/linux/man-pages" />
                    <input type="submit" name="sa" value="Search online pages" />
                </fieldset>
            </form>

        </div>
    </td>
    <td> </td>
</tr>
</table>

<pre>
<span class="headline">FILE(1P)                  POSIX Programmer's Manual                 FILE(1P)</span>
</pre>
<h2><a id="PROLOG" href="#PROLOG"></a>PROLOG  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       This manual page is part of the POSIX Programmer's Manual.  The Linux
       implementation of this interface may differ (consult the
       corresponding Linux manual page for details of Linux behavior), or
       the interface may not be implemented on Linux.
</pre>
<h2><a id="NAME" href="#NAME"></a>NAME  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       file — determine file type
</pre>
<h2><a id="SYNOPSIS" href="#SYNOPSIS"></a>SYNOPSIS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       file <b>[</b>−dh<b>] [</b>−M <i>file</i><b>] [</b>−m <i>file</i><b>] </b><i>file</i>...

       file −i <b>[</b>−h<b>] </b><i>file</i>...
</pre>
<h2><a id="DESCRIPTION" href="#DESCRIPTION"></a>DESCRIPTION  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The <i>file</i> utility shall perform a series of tests in sequence on each
       specified <i>file</i> in an attempt to classify it:

        1. If <i>file</i> does not exist, cannot be read, or its file status could
           not be determined, the output shall indicate that the file was
           processed, but that its type could not be determined.

        2. If the file is not a regular file, its file type shall be
           identified.  The file types directory, FIFO, socket, block
           special, and character special shall be identified as such. Other
           implementation-defined file types may also be identified. If <i>file</i>
           is a symbolic link, by default the link shall be resolved and
           <i>file</i> shall test the type of file referenced by the symbolic link.
           (See the <b>−h </b>and <b>−i </b>options below.)

        3. If the length of <i>file</i> is zero, it shall be identified as an empty
           file.

        4. The <i>file</i> utility shall examine an initial segment of <i>file</i> and
           shall make a guess at identifying its contents based on position-
           sensitive tests. (The answer is not guaranteed to be correct; see
           the <b>−d</b>, <b>−M</b>, and <b>−m </b>options below.)

        5. The <i>file</i> utility shall examine <i>file</i> and make a guess at
           identifying its contents based on context-sensitive default
           system tests. (The answer is not guaranteed to be correct.)

        6. The file shall be identified as a data file.

       If <i>file</i> does not exist, cannot be read, or its file status could not
       be determined, the output shall indicate that the file was processed,
       but that its type could not be determined.

       If <i>file</i> is a symbolic link, by default the link shall be resolved and
       <i>file</i> shall test the type of file referenced by the symbolic link.
</pre>
<h2><a id="OPTIONS" href="#OPTIONS"></a>OPTIONS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The <i>file</i> utility shall conform to the Base Definitions volume of
       POSIX.1‐2008, <i>Section 12.2</i>, <i>Utility Syntax Guidelines</i>, except that
       the order of the <b>−m</b>, <b>−d</b>, and <b>−M </b>options shall be significant.

       The following options shall be supported by the implementation:

       <b>−d        </b>Apply any position-sensitive default system tests and
                 context-sensitive default system tests to the file. This is
                 the default if no <b>−M </b>or <b>−m </b>option is specified.

       <b>−h        </b>When a symbolic link is encountered, identify the file as a
                 symbolic link. If <b>−h </b>is not specified and <i>file</i> is a
                 symbolic link that refers to a nonexistent file, <i>file</i> shall
                 identify the file as a symbolic link, as if <b>−h </b>had been
                 specified.

       <b>−i        </b>If a file is a regular file, do not attempt to classify the
                 type of the file further, but identify the file as
                 specified in the STDOUT section.

       <b>−M </b><i>file</i>   Specify the name of a file containing position-sensitive
                 tests that shall be applied to a file in order to classify
                 it (see the EXTENDED DESCRIPTION). No position-sensitive
                 default system tests nor context-sensitive default system
                 tests shall be applied unless the <b>−d </b>option is also
                 specified.

       <b>−m </b><i>file</i>   Specify the name of a file containing position-sensitive
                 tests that shall be applied to a file in order to classify
                 it (see the EXTENDED DESCRIPTION).

       If the <b>−m </b>option is specified without specifying the <b>−d </b>option or the
       <b>−M </b>option, position-sensitive default system tests shall be applied
       after the position-sensitive tests specified by the <b>−m </b>option. If the
       <b>−M </b>option is specified with the <b>−d </b>option, the <b>−m </b>option, or both, or
       the <b>−m </b>option is specified with the <b>−d </b>option, the concatenation of
       the position-sensitive tests specified by these options shall be
       applied in the order specified by the appearance of these options. If
       a <b>−M </b>or <b>−m </b><i>file</i> option-argument is <b>−</b>, the results are unspecified.
</pre>
<h2><a id="OPERANDS" href="#OPERANDS"></a>OPERANDS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The following operand shall be supported:

       <i>file</i>      A pathname of a file to be tested.
</pre>
<h2><a id="STDIN" href="#STDIN"></a>STDIN  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The standard input shall be used if a <i>file</i> operand is <b>'−' </b>and the
       implementation treats the <b>'−' </b>as meaning standard input.  Otherwise,
       the standard input shall not be used.
</pre>
<h2><a id="INPUT_FILES" href="#INPUT_FILES"></a>INPUT FILES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The <i>file</i> can be any file type.
</pre>
<h2><a id="ENVIRONMENT_VARIABLES" href="#ENVIRONMENT_VARIABLES"></a>ENVIRONMENT VARIABLES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The following environment variables shall affect the execution of
       <i>file</i>:

       <i>LANG</i>      Provide a default value for the internationalization
                 variables that are unset or null. (See the Base Definitions
                 volume of POSIX.1‐2008, <i>Section 8.2</i>, <i>Internationalization</i>
                 <i>Variables</i> for the precedence of internationalization
                 variables used to determine the values of locale
                 categories.)

       <i>LC_ALL</i>    If set to a non-empty string value, override the values of
                 all the other internationalization variables.

       <i>LC_CTYPE</i>  Determine the locale for the interpretation of sequences of
                 bytes of text data as characters (for example, single-byte
                 as opposed to multi-byte characters in arguments and input
                 files).

       <i>LC_MESSAGES</i>
                 Determine the locale that should be used to affect the
                 format and contents of diagnostic messages written to
                 standard error and informative messages written to standard
                 output.

       <i>NLSPATH</i>   Determine the location of message catalogs for the
                 processing of <i>LC_MESSAGES</i>.
</pre>
<h2><a id="ASYNCHRONOUS_EVENTS" href="#ASYNCHRONOUS_EVENTS"></a>ASYNCHRONOUS EVENTS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       Default.
</pre>
<h2><a id="STDOUT" href="#STDOUT"></a>STDOUT  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       In the POSIX locale, the following format shall be used to identify
       each operand, <i>file</i> specified:

           <b>"%s: %s\n", &lt;</b><i>file</i>&gt;, &lt;<i>type</i>&gt;

       The values for &lt;<i>type</i>&gt; are unspecified, except that in the POSIX
       locale, if <i>file</i> is identified as one of the types listed in the
       following table, &lt;<i>type</i>&gt; shall contain (but is not limited to) the
       corresponding string, unless the file is identified by a position-
       sensitive test specified by a <b>−M </b>or <b>−m </b>option. Each &lt;space&gt; shown in
       the strings shall be exactly one &lt;space&gt;.

                      <b>Table 4-9: File Utility Output Strings</b>

───────┬─────────────────────────────────────────────┬──────────────────────────────────┬─      │
       │         <b>If </b><i>file</i> <b>is:                    &lt;</b><i>type</i>│<b>&gt; shall contain the string:   Notes</b>│       │
───────┼─────────────────────────────────────────────┼──────────────────────────────────┼─      │
 Nonexi│stent                                    canno│t open                             │       │
       │                                             │                                  │       │
       │Block special                                │ block special                    │ 1     │
       │Character special                            │ character special                │ 1     │
       │Directory                                    │ directory                        │ 1     │
       │FIFO                                         │ fifo                             │ 1     │
       │Socket                                       │ socket                           │ 1     │
       │Symbolic link                                │ symbolic link to                 │ 1     │
       │Regular file                                 │ regular file                     │ 1,2   │
       │Empty regular file                           │ empty                            │ 3     │
       │Regular file that cannot be read             │ cannot open                      │ 3     │
       │                                             │                                  │       │
       │Executable binary                            │ executable                       │ 3,4,6 │
       │<i>ar</i> archive library (see <i>ar</i>)                  │ archive                          │ 3,4,6 │
       │Extended <i>cpio</i> format (see <i>pax</i>)               │ cpio archive                     │ 3,4,6 │
       │Extended <i>tar</i> format (see <b>ustar </b>in <i>pax</i>)       │ tar archive                      │ 3,4,6 │
       │                                             │                                  │       │
       │Shell script                                 │ commands text                    │ 3,5,6 │
       │C-language source                            │ c program text                   │ 3,5,6 │
       │FORTRAN source                               │ fortran program text             │ 3,5,6 │
       │                                             │                                  │       │
       │Regular file whose type cannot be determined │ data                             │ 3     │
       └─────────────────────────────────────────────┴──────────────────────────────────┴───────┘
       <b>Notes:</b>

                  1. This is a file type test.

                  2. This test is applied only if the <b>−i </b>option is
                     specified.

                  3. This test is applied only if the <b>−i </b>option is not
                     specified.

                  4. This is a position-sensitive default system test.

                  5. This is a context-sensitive default system test.

                  6. Position-sensitive default system tests and context-
                     sensitive default system tests are not applied if the
                     <b>−M </b>option is specified unless the <b>−d </b>option is also
                     specified.

       In the POSIX locale, if <i>file</i> is identified as a symbolic link (see
       the <b>−h </b>option), the following alternative output format shall be
       used:

           <b>"%s: %s %s\n", &lt;</b><i>file</i>&gt;, &lt;<i>type</i>&gt;, &lt;<i>contents of link</i>&gt;"

       If the file named by the <i>file</i> operand does not exist, cannot be read,
       or the type of the file named by the <i>file</i> operand cannot be
       determined, this shall not be considered an error that affects the
       exit status.
</pre>
<h2><a id="STDERR" href="#STDERR"></a>STDERR  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The standard error shall be used only for diagnostic messages.
</pre>
<h2><a id="OUTPUT_FILES" href="#OUTPUT_FILES"></a>OUTPUT FILES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       None.
</pre>
<h2><a id="EXTENDED_DESCRIPTION" href="#EXTENDED_DESCRIPTION"></a>EXTENDED DESCRIPTION  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       A file specified as an option-argument to the <b>−m </b>or <b>−M </b>options shall
       contain one position-sensitive test per line, which shall be applied
       to the file. If the test succeeds, the message field of the line
       shall be printed and no further tests shall be applied, with the
       exception that tests on immediately following lines beginning with a
       single <b>'&gt;' </b>character shall be applied.

       Each line shall be composed of the following four &lt;tab&gt;-separated
       fields. (Implementations may allow any combination of one or more
       white-space characters other than &lt;newline&gt; to act as field
       separators.)

       <i>offset</i>    An unsigned number (optionally preceded by a single <b>'&gt;'</b>
                 character) specifying the <i>offset</i>, in bytes, of the value in
                 the file that is to be compared against the <i>value</i> field of
                 the line. If the file is shorter than the specified offset,
                 the test shall fail.

                 If the <i>offset</i> begins with the character <b>'&gt;'</b>, the test
                 contained in the line shall not be applied to the file
                 unless the test on the last line for which the <i>offset</i> did
                 not begin with a <b>'&gt;' </b>was successful. By default, the <i>offset</i>
                 shall be interpreted as an unsigned decimal number. With a
                 leading 0x or 0X, the <i>offset</i> shall be interpreted as a
                 hexadecimal number; otherwise, with a leading 0, the <i>offset</i>
                 shall be interpreted as an octal number.

       <i>type</i>      The type of the value in the file to be tested. The type
                 shall consist of the type specification characters <b>d</b>, <b>s</b>,
                 and <b>u</b>, specifying signed decimal, string, and unsigned
                 decimal, respectively.

                 The <i>type</i> string shall be interpreted as the bytes from the
                 file starting at the specified <i>offset</i> and including the
                 same number of bytes specified by the <i>value</i> field. If
                 insufficient bytes remain in the file past the <i>offset</i> to
                 match the <i>value</i> field, the test shall fail.

                 The type specification characters <b>d </b>and <b>u </b>can be followed
                 by an optional unsigned decimal integer that specifies the
                 number of bytes represented by the type. The type
                 specification characters <b>d </b>and <b>u </b>can be followed by an
                 optional <b>C</b>, <b>S</b>, <b>I</b>, or <b>L</b>, indicating that the value is of
                 type <b>char</b>, <b>short</b>, <b>int</b>, or <b>long</b>, respectively.

                 The default number of bytes represented by the type
                 specifiers <b>d</b>, <b>f</b>, and <b>u </b>shall correspond to their respective
                 C-language types as follows. If the system claims
                 conformance to the C-Language Development Utilities option,
                 those specifiers shall correspond to the default sizes used
                 in the <i>c99</i> utility. Otherwise, the default sizes shall be
                 implementation-defined.

                 For the type specifier characters <b>d </b>and <b>u</b>, the default
                 number of bytes shall correspond to the size of a basic
                 integer type of the implementation. For these specifier
                 characters, the implementation shall support values of the
                 optional number of bytes to be converted corresponding to
                 the number of bytes in the C-language types <b>char</b>, <b>short</b>,
                 <b>int</b>, or <b>long</b>.  These numbers can also be specified by an
                 application as the characters <b>C</b>, <b>S</b>, <b>I</b>, and <b>L</b>, respectively.
                 The byte order used when interpreting numeric values is
                 implementation-defined, but shall correspond to the order
                 in which a constant of the corresponding type is stored in
                 memory on the system.

                 All type specifiers, except for <b>s</b>, can be followed by a
                 mask specifier of the form &amp;<i>number</i>. The mask value shall be
                 AND'ed with the value of the input file before the
                 comparison with the <i>value</i> field of the line is made. By
                 default, the mask shall be interpreted as an unsigned
                 decimal number. With a leading 0x or 0X, the mask shall be
                 interpreted as an unsigned hexadecimal number; otherwise,
                 with a leading 0, the mask shall be interpreted as an
                 unsigned octal number.

                 The strings <b>byte</b>, <b>short</b>, <b>long</b>, and <b>string </b>shall also be
                 supported as type fields, being interpreted as <b>dC</b>, <b>dS</b>, <b>dL</b>,
                 and <b>s</b>, respectively.

       <i>value</i>     The <i>value</i> to be compared with the value from the file.

                 If the specifier from the type field is <b>s </b>or <b>string</b>, then
                 interpret the value as a string. Otherwise, interpret it as
                 a number. If the value is a string, then the test shall
                 succeed only when a string value exactly matches the bytes
                 from the file.

                 If the <i>value</i> is a string, it can contain the following
                 sequences:

                 \<i>character</i>  The &lt;backslash&gt;-escape sequences as specified
                             in the Base Definitions volume of POSIX.1‐2008,
                             <i>Table 5-1</i>, <i>Escape Sequences and Associated</i>
                             <i>Actions</i> (<b>'\\'</b>, <b>'\a'</b>, <b>'\b'</b>, <b>'\f'</b>, <b>'\n'</b>, <b>'\r'</b>,
                             <b>'\t'</b>, <b>'\v'</b>).  In addition, the escape sequence
                             <b>'\ ' </b>(the &lt;backslash&gt; character followed by a
                             &lt;space&gt; character) shall be recognized to
                             represent a &lt;space&gt; character. The results of
                             using any other character, other than an octal
                             digit, following the &lt;backslash&gt; are
                             unspecified.

                 \<i>octal</i>      Octal sequences that can be used to represent
                             characters with specific coded values. An octal
                             sequence shall consist of a &lt;backslash&gt;
                             followed by the longest sequence of one, two,
                             or three octal-digit characters (01234567).

                 By default, any value that is not a string shall be
                 interpreted as a signed decimal number. Any such value,
                 with a leading 0x or 0X, shall be interpreted as an
                 unsigned hexadecimal number; otherwise, with a leading
                 zero, the value shall be interpreted as an unsigned octal
                 number.

                 If the value is not a string, it can be preceded by a
                 character indicating the comparison to be performed.
                 Permissible characters and the comparisons they specify are
                 as follows:

                 =     The test shall succeed if the value from the file
                       equals the <i>value</i> field.

                 &lt;     The test shall succeed if the value from the file is
                       less than the <i>value</i> field.

                 &gt;     The test shall succeed if the value from the file is
                       greater than the <i>value</i> field.

                 &amp;     The test shall succeed if all of the set bits in the
                       <i>value</i> field are set in the value from the file.

                 ^     The test shall succeed if at least one of the set
                       bits in the <i>value</i> field is not set in the value from
                       the file.

                 x     The test shall succeed if the file is large enough to
                       contain a value of the type specified starting at the
                       offset specified.

       <i>message</i>   The <i>message</i> to be printed if the test succeeds. The <i>message</i>
                 shall be interpreted using the notation for the <i>printf</i>
                 formatting specification; see <i>printf</i>.  If the <i>value</i> field
                 was a string, then the value from the file shall be the
                 argument for the <i>printf</i> formatting specification;
                 otherwise, the value from the file shall be the argument.
</pre>
<h2><a id="EXIT_STATUS" href="#EXIT_STATUS"></a>EXIT STATUS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The following exit values shall be returned:

        0    Successful completion.

       &gt;0    An error occurred.
</pre>
<h2><a id="CONSEQUENCES_OF_ERRORS" href="#CONSEQUENCES_OF_ERRORS"></a>CONSEQUENCES OF ERRORS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       Default.

       <i>The following sections are informative.</i>
</pre>
<h2><a id="APPLICATION_USAGE" href="#APPLICATION_USAGE"></a>APPLICATION USAGE  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The <i>file</i> utility can only be required to guess at many of the file
       types because only exhaustive testing can determine some types with
       certainty. For example, binary data on some implementations might
       match the initial segment of an executable or a <i>tar</i> archive.

       Note that the table indicates that the output contains the stated
       string. Systems may add text before or after the string. For
       executables, as an example, the machine architecture and various
       facts about how the file was link-edited may be included. Note also
       that on systems that recognize shell script files starting with <b>"#!"</b>
       as executable files, these may be identified as executable binary
       files rather than as shell scripts.
</pre>
<h2><a id="EXAMPLES" href="#EXAMPLES"></a>EXAMPLES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       Determine whether an argument is a binary executable file:

           <b>file −− "$1" | grep −q ':.*executable' &amp;&amp;</b>
               <b>printf "%s is executable.\n$1"</b>
</pre>
<h2><a id="RATIONALE" href="#RATIONALE"></a>RATIONALE  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The <b>−f </b>option was omitted because the same effect can (and should) be
       obtained using the <i>xargs</i> utility.

       Historical versions of the <i>file</i> utility attempt to identify the
       following types of files: symbolic link, directory, character
       special, block special, socket, <i>tar</i> archive, <i>cpio</i> archive, SCCS
       archive, archive library, empty, <i>compress</i> output, <i>pack</i> output, binary
       data, C source, FORTRAN source, assembler source, <i>nroff</i>/<i>troff</i>/<i>eqn</i>/<i>tbl</i>
       source <i>troff</i> output, shell script, C shell script, English text,
       ASCII text, various executables, APL workspace, compiled terminfo
       entries, and CURSES screen images. Only those types that are
       reasonably well specified in POSIX or are directly related to POSIX
       utilities are listed in the table.

       Historical systems have used a ``magic file'' named <b>/etc/magic </b>to
       help identify file types. Because it is generally useful for users
       and scripts to be able to identify special file types, the <b>−m </b>flag
       and a portable format for user-created magic files has been
       specified. No requirement is made that an implementation of <i>file</i> use
       this method of identifying files, only that users be permitted to add
       their own classifying tests.

       In addition, three options have been added to historical practice.
       The <b>−d </b>flag has been added to permit users to cause their tests to
       follow any default system tests. The <b>−i </b>flag has been added to permit
       users to test portably for regular files in shell scripts. The <b>−M</b>
       flag has been added to permit users to ignore any default system
       tests.

       The POSIX.1‐2008 description of default system tests and the
       interaction between the <b>−d</b>, <b>−M</b>, and <b>−m </b>options did not clearly
       indicate that there were two types of ``default system tests''. The
       ``position-sensitive tests'' determine file types by looking for
       certain string or binary values at specific offsets in the file being
       examined. These position-sensitive tests were implemented in
       historical systems using the magic file described above.  Some of
       these tests are now built into the <i>file</i> utility itself on some
       implementations so the output can provide more detail than can be
       provided by magic files. For example, a magic file can easily
       identify a <b>core </b>file on most implementations, but cannot name the
       program file that dropped the core. A magic file could produce output
       such as:

           <b>/home/dwc/core: ELF 32-bit MSB core file SPARC Version 1</b>

       but by building the test into the <i>file</i> utility, you could get output
       such as:

           <b>/home/dwc/core: ELF 32-bit MSB core file SPARC Version 1, from 'testprog'</b>

       These extended built-in tests are still to be treated as position-
       sensitive default system tests even if they are not listed in
       <b>/etc/magic </b>or any other magic file.

       The context-sensitive default system tests were always built into the
       <i>file</i> utility. These tests looked for language constructs in text
       files trying to identify shell scripts, C, FORTRAN, and other
       computer language source files, and even plain text files. With the
       addition of the <b>−m </b>and <b>−M </b>options the distinction between position-
       sensitive and context-sensitive default system tests became important
       because the order of testing is important. The context-sensitive
       system default tests should never be applied before any position-
       sensitive tests even if the <b>−d </b>option is specified before a <b>−m </b>option
       or <b>−M </b>option due to the high probability that the context-sensitive
       system default tests will incorrectly identify arbitrary text files
       as text files before position-sensitive tests specified by the <b>−m </b>or
       <b>−M </b>option would be applied to give a more accurate identification.

       Leaving the meaning of <b>−M − </b>and <b>−m − </b>unspecified allows an existing
       prototype of these options to continue to work in a backwards-
       compatible manner. (In that implementation, <b>−M − </b>was roughly
       equivalent to <b>−d </b>in POSIX.1‐2008.)

       The historical <b>−c </b>option was omitted as not particularly useful to
       users or portable shell scripts. In addition, a reasonable
       implementation of the <i>file</i> utility would report any errors found each
       time the magic file is read.

       The historical format of the magic file was the same as that
       specified by the Rationale in the ISO POSIX‐2:1993 standard for the
       <i>offset</i>, <i>value</i>, and <i>message</i> fields; however, it used less precise type
       fields than the format specified by the current normative text. The
       new type field values are a superset of the historical ones.

       The following is an example magic file:

           <b>0  short     070707              cpio archive</b>
           <b>0  short     0143561             Byte-swapped cpio archive</b>
           <b>0  string    070707              ASCII cpio archive</b>
           <b>0  long      0177555             Very old archive</b>
           <b>0  short     0177545             Old archive</b>
           <b>0  short     017437              Old packed data</b>
           <b>0  string    \037\036            Packed data</b>
           <b>0  string    \377\037            Compacted data</b>
           <b>0  string    \037\235            Compressed data</b>
           <b>&gt;2 byte&amp;0x80 &gt;0                  Block compressed</b>
           <b>&gt;2 byte&amp;0x1f x                   %d bits</b>
           <b>0  string    \032\001            Compiled Terminfo Entry</b>
           <b>0  short     0433                Curses screen image</b>
           <b>0  short     0434                Curses screen image</b>
           <b>0  string    &lt;ar&gt;                System V Release 1 archive</b>
           <b>0  string    !&lt;arch&gt;\n__.SYMDEF  Archive random library</b>
           <b>0  string    !&lt;arch&gt;             Archive</b>
           <b>0  string    ARF_BEGARF          PHIGS clear text archive</b>
           <b>0  long      0x137A2950          Scalable OpenFont binary</b>
           <b>0  long      0x137A2951          Encrypted scalable OpenFont binary</b>

       The use of a basic integer data type is intended to allow the
       implementation to choose a word size commonly used by applications on
       that architecture.

       Earlier versions of this standard allowed for implementations with
       bytes other than eight bits, but this has been modified in this
       version.
</pre>
<h2><a id="FUTURE_DIRECTIONS" href="#FUTURE_DIRECTIONS"></a>FUTURE DIRECTIONS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       None.
</pre>
<h2><a id="SEE_ALSO" href="#SEE_ALSO"></a>SEE ALSO  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <a href="ar.1p.html">ar(1p)</a>, <a href="ls.1p.html">ls(1p)</a>, <a href="pax.1p.html">pax(1p)</a>, <a href="printf.1p.html">printf(1p)</a>

       The Base Definitions volume of POSIX.1‐2008, <i>Table 5-1</i>, <i>Escape</i>
       <i>Sequences and Associated Actions</i>, <i>Chapter 8</i>, <i>Environment Variables</i>,
       <i>Section 12.2</i>, <i>Utility Syntax Guidelines</i>
</pre>
<h2><a id="COPYRIGHT" href="#COPYRIGHT"></a>COPYRIGHT  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       Portions of this text are reprinted and reproduced in electronic form
       from IEEE Std 1003.1, 2013 Edition, Standard for Information
       Technology -- Portable Operating System Interface (POSIX), The Open
       Group Base Specifications Issue 7, Copyright (C) 2013 by the
       Institute of Electrical and Electronics Engineers, Inc and The Open
       Group.  (This is POSIX.1-2008 with the 2013 Technical Corrigendum 1
       applied.) In the event of any discrepancy between this version and
       the original IEEE and The Open Group Standard, the original IEEE and
       The Open Group Standard is the referee document. The original
       Standard can be obtained online at <a href="http://www.unix.org/online.html">http://www.unix.org/online.html</a> .

       Any typographical or formatting errors that appear in this page are
       most likely to have been introduced during the conversion of the
       source files to man page format. To report such errors, see
       <a href="https://www.kernel.org/doc/man-pages/reporting_bugs.html">https://www.kernel.org/doc/man-pages/reporting_bugs.html</a> .

<span class="footline">IEEE/The Open Group                 2013                            FILE(1P)</span>
</pre>

<hr class="end-man-text" />

 
<hr class="start-footer" />

<div class="footer"> 

<table class="colophon-table">
    <tr>
    <td class="pub-info">
        <p>
            HTML rendering created 2017-07-13
            by <a href="http://man7.org/mtk/index.html">Michael Kerrisk</a>, 
            author of 
            <a href="http://man7.org/tlpi/"><em>The Linux Programming Interface</em></a>, 
            maintainer of the 
            <a href="https://www.kernel.org/doc/man-pages/">Linux <em>man-pages</em> project</a>.
        </p>
        <p>
            For details of in-depth
            <strong>Linux/UNIX system programming training courses</strong>
            that I teach, look <a href="http://man7.org/training/">here</a>.
        </p>
        <p>
            Hosting by <a href="http://www.jambit.com/index_en.html">jambit GmbH</a>.
        </p>
        <p>
            <a href="http://validator.w3.org/check?uri=referer">
            <img src="http://www.w3.org/Icons/valid-xhtml11"
                alt="Valid XHTML 1.1" height="31" width="88" />
            </a>
        </p>
    </td>
    <td class="colophon-divider">
    </td>
    <td class="tlpi-cover">
        <a href="http://man7.org/tlpi/"><img src="../../../tlpi/cover/TLPI-front-cover-vsmall.png" alt="Cover of TLPI" /></a>
    </td>
    </tr>
</table>

</div>

<hr class="end-footer" />



<!--BEGIN-SITETRACKING-->
<!-- SITETRACKING.man7.org_linux_man-pages -->

<!-- Start of StatCounter Code (xhtml) -->

<script type="text/javascript">
//<![CDATA[
var sc_project=7422636; 
var sc_invisible=1; 
var sc_security="9b6714ff"; 
//]]>
</script>
<script type="text/javascript"
src="../../../../www.statcounter.com/counter/counter_xhtml.js"></script>
<noscript><div class="statcounter"><a title="website
statistics" href="http://statcounter.com/"
class="statcounter"><img class="statcounter"
src="http://c.statcounter.com/7422636/0/9b6714ff/1/"
alt="website statistics" /></a></div></noscript>

<!-- End of StatCounter Code -->


<!-- Start of Google Analytics Code -->

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-9830363-8']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<!-- End of Google Analytics Code -->

<!--END-SITETRACKING-->

</body>
</html>
