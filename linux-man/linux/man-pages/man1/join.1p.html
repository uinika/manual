
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
        "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <link rel="stylesheet" type="text/css" href="../../../style.css" title="style" />
    <link rel="stylesheet" type="text/css" href="../style.css" title="style" />
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />

    <title>join.1p - Linux manual page</title>
</head>

<body>

<div class="page-top"><a id="top_of_page"></a></div>
<!--%%%TOP_BAR%%%-->
    <div class="nav-bar">
        <table class="nav-table">
            <tr>
                <td class="nav-cell">
                    <p class="nav-text">
                        <a href="http://man7.org/index.html">man7.org</a> &gt; Linux &gt; <a href="../index.html">man-pages</a>
                    </p>
                </td>
                <td class="training-cell">
                    <p class="training-text"><a class="training-link" href="http://man7.org/training/">Linux/UNIX system programming training</a></p>
                </td>
            </tr>
        </table>
    </div>

<hr class="nav-end" />

<!--%%%PAGE_START%%%-->


<table class="sec-table">
<tr>
    <td>
        <p class="section-dir">
<a href="#PROLOG">PROLOG</a> | <a href="#NAME">NAME</a> | <a href="#SYNOPSIS">SYNOPSIS</a> | <a href="#DESCRIPTION">DESCRIPTION</a> | <a href="#OPTIONS">OPTIONS</a> | <a href="#OPERANDS">OPERANDS</a> | <a href="#STDIN">STDIN</a> | <a href="#INPUT_FILES">INPUT&nbsp;FILES</a> | <a href="#ENVIRONMENT_VARIABLES">ENVIRONMENT&nbsp;VARIABLES</a> | <a href="#ASYNCHRONOUS_EVENTS">ASYNCHRONOUS&nbsp;EVENTS</a> | <a href="#STDOUT">STDOUT</a> | <a href="#STDERR">STDERR</a> | <a href="#OUTPUT_FILES">OUTPUT&nbsp;FILES</a> | <a href="#EXTENDED_DESCRIPTION">EXTENDED&nbsp;DESCRIPTION</a> | <a href="#EXIT_STATUS">EXIT&nbsp;STATUS</a> | <a href="#CONSEQUENCES_OF_ERRORS">CONSEQUENCES&nbsp;OF&nbsp;ERRORS</a> | <a href="#APPLICATION_USAGE">APPLICATION&nbsp;USAGE</a> | <a href="#EXAMPLES">EXAMPLES</a> | <a href="#RATIONALE">RATIONALE</a> | <a href="#FUTURE_DIRECTIONS">FUTURE&nbsp;DIRECTIONS</a> | <a href="#SEE_ALSO">SEE&nbsp;ALSO</a> | <a href="#COPYRIGHT">COPYRIGHT</a>
        </p>
    </td>
    <td class="search-box">
        <div class="man-search-box">

            <form method="get" action="http://www.google.com/search">
                <fieldset class="man-search">
                    <input type="text" name="q" size="10" maxlength="255" value="" />
                    <input type="hidden" name="sitesearch" value="man7.org/linux/man-pages" />
                    <input type="submit" name="sa" value="Search online pages" />
                </fieldset>
            </form>

        </div>
    </td>
    <td> </td>
</tr>
</table>

<pre>
<span class="headline">JOIN(1P)                  POSIX Programmer's Manual                 JOIN(1P)</span>
</pre>
<h2><a id="PROLOG" href="#PROLOG"></a>PROLOG  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       This manual page is part of the POSIX Programmer's Manual.  The Linux
       implementation of this interface may differ (consult the
       corresponding Linux manual page for details of Linux behavior), or
       the interface may not be implemented on Linux.
</pre>
<h2><a id="NAME" href="#NAME"></a>NAME  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       join — relational database operator
</pre>
<h2><a id="SYNOPSIS" href="#SYNOPSIS"></a>SYNOPSIS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       join <b>[</b>−a <i>file_number</i>|−v <i>file_number</i><b>] [</b>−e <i>string</i><b>] [</b>−o <i>list</i><b>] [</b>−t <i>char</i><b>]</b>
           <b>[</b>−1 <i>field</i><b>] [</b>−2 <i>field</i><b>] </b><i>file1 file2</i>
</pre>
<h2><a id="DESCRIPTION" href="#DESCRIPTION"></a>DESCRIPTION  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The <i>join</i> utility shall perform an equality join on the files <i>file1</i>
       and <i>file2</i>.  The joined files shall be written to the standard output.

       The join field is a field in each file on which the files are
       compared. The <i>join</i> utility shall write one line in the output for
       each pair of lines in <i>file1</i> and <i>file2</i> that have identical join
       fields. The output line by default shall consist of the join field,
       then the remaining fields from <i>file1</i>, then the remaining fields from
       <i>file2</i>.  This format can be changed by using the <b>−o </b>option (see
       below). The <b>−a </b>option can be used to add unmatched lines to the
       output. The <b>−v </b>option can be used to output only unmatched lines.

       The files <i>file1</i> and <i>file2</i> shall be ordered in the collating sequence
       of <i>sort</i> <b>−b </b>on the fields on which they shall be joined, by default
       the first in each line. All selected output shall be written in the
       same collating sequence.

       The default input field separators shall be &lt;blank&gt; characters. In
       this case, multiple separators shall count as one field separator,
       and leading separators shall be ignored. The default output field
       separator shall be a &lt;space&gt;.

       The field separator and collating sequence can be changed by using
       the <b>−t </b>option (see below).

       If the same key appears more than once in either file, all
       combinations of the set of remaining fields in <i>file1</i> and the set of
       remaining fields in <i>file2</i> are output in the order of the lines
       encountered.

       If the input files are not in the appropriate collating sequence, the
       results are unspecified.
</pre>
<h2><a id="OPTIONS" href="#OPTIONS"></a>OPTIONS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The <i>join</i> utility shall conform to the Base Definitions volume of
       POSIX.1‐2008, <i>Section 12.2</i>, <i>Utility Syntax Guidelines</i>.

       The following options shall be supported:

       <b>−a </b><i>file_number</i>
                 Produce a line for each unpairable line in file
                 <i>file_number</i>, where <i>file_number</i> is 1 or 2, in addition to
                 the default output. If both <b>−a</b>1 and <b>−a</b>2 are specified, all
                 unpairable lines shall be output.

       <b>−e </b><i>string</i> Replace empty output fields in the list selected by <b>−o </b>with
                 the string <i>string</i>.

       <b>−o </b><i>list</i>   Construct the output line to comprise the fields specified
                 in <i>list</i>, each element of which shall have one of the
                 following two forms:

                  1. <i>file_number.field</i>, where <i>file_number</i> is a file number
                     and <i>field</i> is a decimal integer field number

                  2. 0 (zero), representing the join field

                 The elements of <i>list</i> shall be either &lt;comma&gt;-separated or
                 &lt;blank&gt;-separated, as specified in Guideline 8 of the Base
                 Definitions volume of POSIX.1‐2008, <i>Section 12.2</i>, <i>Utility</i>
                 <i>Syntax Guidelines</i>.  The fields specified by <i>list</i> shall be
                 written for all selected output lines. Fields selected by
                 <i>list</i> that do not appear in the input shall be treated as
                 empty output fields. (See the <b>−e </b>option.) Only specifically
                 requested fields shall be written. The application shall
                 ensure that <i>list</i> is a single command line argument.

       <b>−t </b><i>char</i>   Use character <i>char</i> as a separator, for both input and
                 output. Every appearance of <i>char</i> in a line shall be
                 significant. When this option is specified, the collating
                 sequence shall be the same as <i>sort</i> without the <b>−b </b>option.

       <b>−v </b><i>file_number</i>
                 Instead of the default output, produce a line only for each
                 unpairable line in <i>file_number</i>, where <i>file_number</i> is 1 or
                 2. If both <b>−v</b>1 and <b>−v</b>2 are specified, all unpairable lines
                 shall be output.

       <b>−1 </b><i>field</i>  Join on the <i>field</i>th field of file 1. Fields are decimal
                 integers starting with 1.

       <b>−2 </b><i>field</i>  Join on the <i>field</i>th field of file 2. Fields are decimal
                 integers starting with 1.
</pre>
<h2><a id="OPERANDS" href="#OPERANDS"></a>OPERANDS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The following operands shall be supported:

       <i>file1</i>, <i>file2</i>
                 A pathname of a file to be joined. If either of the <i>file1</i>
                 or <i>file2</i> operands is <b>'−'</b>, the standard input shall be used
                 in its place.
</pre>
<h2><a id="STDIN" href="#STDIN"></a>STDIN  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The standard input shall be used only if the <i>file1</i> or <i>file2</i> operand
       is <b>'−'</b>.  See the INPUT FILES section.
</pre>
<h2><a id="INPUT_FILES" href="#INPUT_FILES"></a>INPUT FILES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The input files shall be text files.
</pre>
<h2><a id="ENVIRONMENT_VARIABLES" href="#ENVIRONMENT_VARIABLES"></a>ENVIRONMENT VARIABLES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The following environment variables shall affect the execution of
       <i>join</i>:

       <i>LANG</i>      Provide a default value for the internationalization
                 variables that are unset or null. (See the Base Definitions
                 volume of POSIX.1‐2008, <i>Section 8.2</i>, <i>Internationalization</i>
                 <i>Variables</i> for the precedence of internationalization
                 variables used to determine the values of locale
                 categories.)

       <i>LC_ALL</i>    If set to a non-empty string value, override the values of
                 all the other internationalization variables.

       <i>LC_COLLATE</i>
                 Determine the locale of the collating sequence <i>join</i> expects
                 to have been used when the input files were sorted.

       <i>LC_CTYPE</i>  Determine the locale for the interpretation of sequences of
                 bytes of text data as characters (for example, single-byte
                 as opposed to multi-byte characters in arguments and input
                 files).

       <i>LC_MESSAGES</i>
                 Determine the locale that should be used to affect the
                 format and contents of diagnostic messages written to
                 standard error.

       <i>NLSPATH</i>   Determine the location of message catalogs for the
                 processing of <i>LC_MESSAGES</i>.
</pre>
<h2><a id="ASYNCHRONOUS_EVENTS" href="#ASYNCHRONOUS_EVENTS"></a>ASYNCHRONOUS EVENTS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       Default.
</pre>
<h2><a id="STDOUT" href="#STDOUT"></a>STDOUT  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The <i>join</i> utility output shall be a concatenation of selected
       character fields.  When the <b>−o </b>option is not specified, the output
       shall be:

           <b>"%s%s%s\n", &lt;</b><i>join field</i>&gt;, &lt;<i>other file1 fields</i>&gt;,
               &lt;<i>other file2 fields</i>&gt;

       If the join field is not the first field in a file, the
       &lt;<i>other file fields</i>&gt; for that file shall be:

           <b>&lt;</b><i>fields preceding join field</i>&gt;, &lt;<i>fields following join field</i>&gt;

       When the <b>−o </b>option is specified, the output format shall be:

           <b>"%s\n", &lt;</b><i>concatenation of fields</i>&gt;

       where the concatenation of fields is described by the <b>−o </b>option,
       above.

       For either format, each field (except the last) shall be written with
       its trailing separator character. If the separator is the default
       (&lt;blank&gt; characters), a single &lt;space&gt; shall be written after each
       field (except the last).
</pre>
<h2><a id="STDERR" href="#STDERR"></a>STDERR  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The standard error shall be used only for diagnostic messages.
</pre>
<h2><a id="OUTPUT_FILES" href="#OUTPUT_FILES"></a>OUTPUT FILES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       None.
</pre>
<h2><a id="EXTENDED_DESCRIPTION" href="#EXTENDED_DESCRIPTION"></a>EXTENDED DESCRIPTION  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       None.
</pre>
<h2><a id="EXIT_STATUS" href="#EXIT_STATUS"></a>EXIT STATUS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The following exit values shall be returned:

        0    All input files were output successfully.

       &gt;0    An error occurred.
</pre>
<h2><a id="CONSEQUENCES_OF_ERRORS" href="#CONSEQUENCES_OF_ERRORS"></a>CONSEQUENCES OF ERRORS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       Default.

       <i>The following sections are informative.</i>
</pre>
<h2><a id="APPLICATION_USAGE" href="#APPLICATION_USAGE"></a>APPLICATION USAGE  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       Pathnames consisting of numeric digits or of the form <i>string.string</i>
       should not be specified directly following the <b>−o </b>list.
</pre>
<h2><a id="EXAMPLES" href="#EXAMPLES"></a>EXAMPLES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The <b>−o </b>0 field essentially selects the union of the join fields. For
       example, given file <b>phone</b>:

           <b>!Name           Phone Number</b>
           <b>Don             +1 123-456-7890</b>
           <b>Hal             +1 234-567-8901</b>
           <b>Yasushi         +2 345-678-9012</b>

       and file <b>fax</b>:

           <b>!Name           Fax Number</b>
           <b>Don             +1 123-456-7899</b>
           <b>Keith           +1 456-789-0122</b>
           <b>Yasushi         +2 345-678-9011</b>

       (where the large expanses of white space are meant to each represent
       a single &lt;tab&gt;), the command:

           <b>join −t "&lt;tab&gt;" −a 1 −a 2 −e '(unknown)' −o 0,1.2,2.2 phone fax</b>

       would produce:

           <b>!Name           Phone Number            Fax Number</b>
           <b>Don             +1 123-456-7890         +1 123-456-7899</b>
           <b>Hal             +1 234-567-8901         (unknown)</b>
           <b>Keith           (unknown)               +1 456-789-0122</b>
           <b>Yasushi         +2 345-678-9012         +2 345-678-9011</b>

       Multiple instances of the same key will produce combinatorial
       results.  The following:

           <b>fa:</b>
               <b>a x</b>
               <b>a y</b>
               <b>a z</b>
           <b>fb:</b>
               <b>a p</b>

       will produce:

           <b>a x p</b>
           <b>a y p</b>
           <b>a z p</b>

       And the following:

           <b>fa:</b>
               <b>a b c</b>
               <b>a d e</b>
           <b>fb:</b>
               <b>a w x</b>
               <b>a y z</b>
               <b>a o p</b>

       will produce:

           <b>a b c w x</b>
           <b>a b c y z</b>
           <b>a b c o p</b>
           <b>a d e w x</b>
           <b>a d e y z</b>
           <b>a d e o p</b>
</pre>
<h2><a id="RATIONALE" href="#RATIONALE"></a>RATIONALE  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The <b>−e </b>option is only effective when used with <b>−o </b>because, unless
       specific fields are identified using <b>−o</b>, <i>join</i> is not aware of what
       fields might be empty. The exception to this is the join field, but
       identifying an empty join field with the <b>−e </b>string is not historical
       practice and some scripts might break if this were changed.

       The 0 field in the <b>−o </b>list was adopted from the Tenth Edition version
       of <i>join</i> to satisfy international objections that the <i>join</i> in the base
       documents does not support the ``full join'' or ``outer join''
       described in relational database literature. Although it has been
       possible to include a join field in the output (by default, or by
       field number using <b>−o</b>), the join field could not be included for an
       unpaired line selected by <b>−a</b>.  The <b>−o </b>0 field essentially selects the
       union of the join fields.

       This sort of outer join was not possible with the <i>join</i> commands in
       the base documents. The <b>−o </b>0 field was chosen because it is an
       upwards-compatible change for applications. An alternative was
       considered: have the join field represent the union of the fields in
       the files (where they are identical for matched lines, and one or
       both are null for unmatched lines). This was not adopted because it
       would break some historical applications.

       The ability to specify <i>file2</i> as <b>− </b>is not historical practice; it was
       added for completeness.

       The <b>−v </b>option is not historical practice, but was considered
       necessary because it permitted the writing of <i>only</i> those lines that
       do not match on the join field, as opposed to the <b>−a </b>option, which
       prints both lines that do and do not match. This additional facility
       is parallel with the <b>−v </b>option of <i>grep</i>.

       Some historical implementations have been encountered where a blank
       line in one of the input files was considered to be the end of the
       file; the description in this volume of POSIX.1‐2008 does not cite
       this as an allowable case.

       Earlier versions of this standard allowed <b>−j</b>, <b>−j1</b>, <b>−j2 </b>options, and a
       form of the <b>−o </b>option that allowed the <i>list</i> option-argument to be
       multiple arguments. These forms are no longer specified by
       POSIX.1‐2008 but may be present in some implementations.
</pre>
<h2><a id="FUTURE_DIRECTIONS" href="#FUTURE_DIRECTIONS"></a>FUTURE DIRECTIONS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       None.
</pre>
<h2><a id="SEE_ALSO" href="#SEE_ALSO"></a>SEE ALSO  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <a href="awk.1p.html">awk(1p)</a>, <a href="comm.1p.html">comm(1p)</a>, <a href="sort.1p.html">sort(1p)</a>, <a href="uniq.1p.html">uniq(1p)</a>

       The Base Definitions volume of POSIX.1‐2008, <i>Chapter 8</i>, <i>Environment</i>
       <i>Variables</i>, <i>Section 12.2</i>, <i>Utility Syntax Guidelines</i>
</pre>
<h2><a id="COPYRIGHT" href="#COPYRIGHT"></a>COPYRIGHT  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       Portions of this text are reprinted and reproduced in electronic form
       from IEEE Std 1003.1, 2013 Edition, Standard for Information
       Technology -- Portable Operating System Interface (POSIX), The Open
       Group Base Specifications Issue 7, Copyright (C) 2013 by the
       Institute of Electrical and Electronics Engineers, Inc and The Open
       Group.  (This is POSIX.1-2008 with the 2013 Technical Corrigendum 1
       applied.) In the event of any discrepancy between this version and
       the original IEEE and The Open Group Standard, the original IEEE and
       The Open Group Standard is the referee document. The original
       Standard can be obtained online at <a href="http://www.unix.org/online.html">http://www.unix.org/online.html</a> .

       Any typographical or formatting errors that appear in this page are
       most likely to have been introduced during the conversion of the
       source files to man page format. To report such errors, see
       <a href="https://www.kernel.org/doc/man-pages/reporting_bugs.html">https://www.kernel.org/doc/man-pages/reporting_bugs.html</a> .

<span class="footline">IEEE/The Open Group                 2013                            JOIN(1P)</span>
</pre>

<hr class="end-man-text" />
<p>Pages that refer to this page: 
    <a href="sort.1p.html">sort(1p)</a>
</p>
<hr/>

 
<hr class="start-footer" />

<div class="footer"> 

<table class="colophon-table">
    <tr>
    <td class="pub-info">
        <p>
            HTML rendering created 2017-07-13
            by <a href="http://man7.org/mtk/index.html">Michael Kerrisk</a>, 
            author of 
            <a href="http://man7.org/tlpi/"><em>The Linux Programming Interface</em></a>, 
            maintainer of the 
            <a href="https://www.kernel.org/doc/man-pages/">Linux <em>man-pages</em> project</a>.
        </p>
        <p>
            For details of in-depth
            <strong>Linux/UNIX system programming training courses</strong>
            that I teach, look <a href="http://man7.org/training/">here</a>.
        </p>
        <p>
            Hosting by <a href="http://www.jambit.com/index_en.html">jambit GmbH</a>.
        </p>
        <p>
            <a href="http://validator.w3.org/check?uri=referer">
            <img src="http://www.w3.org/Icons/valid-xhtml11"
                alt="Valid XHTML 1.1" height="31" width="88" />
            </a>
        </p>
    </td>
    <td class="colophon-divider">
    </td>
    <td class="tlpi-cover">
        <a href="http://man7.org/tlpi/"><img src="../../../tlpi/cover/TLPI-front-cover-vsmall.png" alt="Cover of TLPI" /></a>
    </td>
    </tr>
</table>

</div>

<hr class="end-footer" />



<!--BEGIN-SITETRACKING-->
<!-- SITETRACKING.man7.org_linux_man-pages -->

<!-- Start of StatCounter Code (xhtml) -->

<script type="text/javascript">
//<![CDATA[
var sc_project=7422636; 
var sc_invisible=1; 
var sc_security="9b6714ff"; 
//]]>
</script>
<script type="text/javascript"
src="../../../../www.statcounter.com/counter/counter_xhtml.js"></script>
<noscript><div class="statcounter"><a title="website
statistics" href="http://statcounter.com/"
class="statcounter"><img class="statcounter"
src="http://c.statcounter.com/7422636/0/9b6714ff/1/"
alt="website statistics" /></a></div></noscript>

<!-- End of StatCounter Code -->


<!-- Start of Google Analytics Code -->

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-9830363-8']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<!-- End of Google Analytics Code -->

<!--END-SITETRACKING-->

</body>
</html>
