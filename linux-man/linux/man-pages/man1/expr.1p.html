
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
        "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <link rel="stylesheet" type="text/css" href="../../../style.css" title="style" />
    <link rel="stylesheet" type="text/css" href="../style.css" title="style" />
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />

    <title>expr.1p - Linux manual page</title>
</head>

<body>

<div class="page-top"><a id="top_of_page"></a></div>
<!--%%%TOP_BAR%%%-->
    <div class="nav-bar">
        <table class="nav-table">
            <tr>
                <td class="nav-cell">
                    <p class="nav-text">
                        <a href="http://man7.org/index.html">man7.org</a> &gt; Linux &gt; <a href="../index.html">man-pages</a>
                    </p>
                </td>
                <td class="training-cell">
                    <p class="training-text"><a class="training-link" href="http://man7.org/training/">Linux/UNIX system programming training</a></p>
                </td>
            </tr>
        </table>
    </div>

<hr class="nav-end" />

<!--%%%PAGE_START%%%-->


<table class="sec-table">
<tr>
    <td>
        <p class="section-dir">
<a href="#PROLOG">PROLOG</a> | <a href="#NAME">NAME</a> | <a href="#SYNOPSIS">SYNOPSIS</a> | <a href="#DESCRIPTION">DESCRIPTION</a> | <a href="#OPTIONS">OPTIONS</a> | <a href="#OPERANDS">OPERANDS</a> | <a href="#STDIN">STDIN</a> | <a href="#INPUT_FILES">INPUT&nbsp;FILES</a> | <a href="#ENVIRONMENT_VARIABLES">ENVIRONMENT&nbsp;VARIABLES</a> | <a href="#ASYNCHRONOUS_EVENTS">ASYNCHRONOUS&nbsp;EVENTS</a> | <a href="#STDOUT">STDOUT</a> | <a href="#STDERR">STDERR</a> | <a href="#OUTPUT_FILES">OUTPUT&nbsp;FILES</a> | <a href="#EXTENDED_DESCRIPTION">EXTENDED&nbsp;DESCRIPTION</a> | <a href="#EXIT_STATUS">EXIT&nbsp;STATUS</a> | <a href="#CONSEQUENCES_OF_ERRORS">CONSEQUENCES&nbsp;OF&nbsp;ERRORS</a> | <a href="#APPLICATION_USAGE">APPLICATION&nbsp;USAGE</a> | <a href="#EXAMPLES">EXAMPLES</a> | <a href="#RATIONALE">RATIONALE</a> | <a href="#FUTURE_DIRECTIONS">FUTURE&nbsp;DIRECTIONS</a> | <a href="#SEE_ALSO">SEE&nbsp;ALSO</a> | <a href="#COPYRIGHT">COPYRIGHT</a>
        </p>
    </td>
    <td class="search-box">
        <div class="man-search-box">

            <form method="get" action="http://www.google.com/search">
                <fieldset class="man-search">
                    <input type="text" name="q" size="10" maxlength="255" value="" />
                    <input type="hidden" name="sitesearch" value="man7.org/linux/man-pages" />
                    <input type="submit" name="sa" value="Search online pages" />
                </fieldset>
            </form>

        </div>
    </td>
    <td> </td>
</tr>
</table>

<pre>
<span class="headline">EXPR(1P)                  POSIX Programmer's Manual                 EXPR(1P)</span>
</pre>
<h2><a id="PROLOG" href="#PROLOG"></a>PROLOG  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       This manual page is part of the POSIX Programmer's Manual.  The Linux
       implementation of this interface may differ (consult the
       corresponding Linux manual page for details of Linux behavior), or
       the interface may not be implemented on Linux.
</pre>
<h2><a id="NAME" href="#NAME"></a>NAME  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       expr — evaluate arguments as an expression
</pre>
<h2><a id="SYNOPSIS" href="#SYNOPSIS"></a>SYNOPSIS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       expr <i>operand</i>...
</pre>
<h2><a id="DESCRIPTION" href="#DESCRIPTION"></a>DESCRIPTION  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The <i>expr</i> utility shall evaluate an expression and write the result to
       standard output.
</pre>
<h2><a id="OPTIONS" href="#OPTIONS"></a>OPTIONS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       None.
</pre>
<h2><a id="OPERANDS" href="#OPERANDS"></a>OPERANDS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The single expression evaluated by <i>expr</i> shall be formed from the
       <i>operand</i> operands, as described in the EXTENDED DESCRIPTION section.
       The application shall ensure that each of the expression operator
       symbols:

           <b>(  )  |  &amp;  =  &gt;  &gt;=  &lt;  &lt;=  !=  +  −  *  /  %  :</b>

       and the symbols <i>integer</i> and <i>string</i> in the table are provided as
       separate arguments to <i>expr</i>.
</pre>
<h2><a id="STDIN" href="#STDIN"></a>STDIN  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       Not used.
</pre>
<h2><a id="INPUT_FILES" href="#INPUT_FILES"></a>INPUT FILES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       None.
</pre>
<h2><a id="ENVIRONMENT_VARIABLES" href="#ENVIRONMENT_VARIABLES"></a>ENVIRONMENT VARIABLES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The following environment variables shall affect the execution of
       <i>expr</i>:

       <i>LANG</i>      Provide a default value for the internationalization
                 variables that are unset or null. (See the Base Definitions
                 volume of POSIX.1‐2008, <i>Section 8.2</i>, <i>Internationalization</i>
                 <i>Variables</i> for the precedence of internationalization
                 variables used to determine the values of locale
                 categories.)

       <i>LC_ALL</i>    If set to a non-empty string value, override the values of
                 all the other internationalization variables.

       <i>LC_COLLATE</i>
                 Determine the locale for the behavior of ranges,
                 equivalence classes, and multi-character collating elements
                 within regular expressions and by the string comparison
                 operators.

       <i>LC_CTYPE</i>  Determine the locale for the interpretation of sequences of
                 bytes of text data as characters (for example, single-byte
                 as opposed to multi-byte characters in arguments) and the
                 behavior of character classes within regular expressions.

       <i>LC_MESSAGES</i>
                 Determine the locale that should be used to affect the
                 format and contents of diagnostic messages written to
                 standard error.

       <i>NLSPATH</i>   Determine the location of message catalogs for the
                 processing of <i>LC_MESSAGES</i>.
</pre>
<h2><a id="ASYNCHRONOUS_EVENTS" href="#ASYNCHRONOUS_EVENTS"></a>ASYNCHRONOUS EVENTS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       Default.
</pre>
<h2><a id="STDOUT" href="#STDOUT"></a>STDOUT  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The <i>expr</i> utility shall evaluate the expression and write the result,
       followed by a &lt;newline&gt;, to standard output.
</pre>
<h2><a id="STDERR" href="#STDERR"></a>STDERR  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The standard error shall be used only for diagnostic messages.
</pre>
<h2><a id="OUTPUT_FILES" href="#OUTPUT_FILES"></a>OUTPUT FILES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       None.
</pre>
<h2><a id="EXTENDED_DESCRIPTION" href="#EXTENDED_DESCRIPTION"></a>EXTENDED DESCRIPTION  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The formation of the expression to be evaluated is shown in the
       following table. The symbols <i>expr</i>, <i>expr1</i>, and <i>expr2</i> represent
       expressions formed from <i>integer</i> and <i>string</i> symbols and the expression
       operator symbols (all separate arguments) by recursive application of
       the constructs described in the table. The expressions are listed in
       order of increasing precedence, with equal-precedence operators
       grouped between horizontal lines. All of the operators shall be left-
       associative.

            ┌───────────────┬──────────────────────────────────────────┐
            │  <b>Expression   </b>│               <b>Description                </b>│
            ├───────────────┼──────────────────────────────────────────┤
            │<i>expr1</i> | <i>expr2</i>  │ Returns the evaluation of <i>expr1</i> if it is │
            │               │ neither null nor zero; otherwise,        │
            │               │ returns the evaluation of <i>expr2</i> if it is │
            │               │ not null; otherwise, zero.               │
            ├───────────────┼──────────────────────────────────────────┤
            │<i>expr1</i> &amp; <i>expr2</i>  │ Returns the evaluation of <i>expr1</i> if       │
            │               │ neither expression evaluates to null or  │
            │               │ zero; otherwise, returns zero.           │
            ├───────────────┼──────────────────────────────────────────┤
            │               │ Returns the result of a decimal integer  │
            │               │ comparison if both arguments are         │
            │               │ integers; otherwise, returns the result  │
            │               │ of a string comparison using the locale- │
            │               │ specific collation sequence. The result  │
            │               │ of each comparison is 1 if the specified │
            │               │ relationship is true, or 0 if the        │
            │               │ relationship is false.                   │
            │<i>expr1</i> = <i>expr2</i>  │ Equal.                                   │
            │<i>expr1</i> &gt; <i>expr2</i>  │ Greater than.                            │
            │<i>expr1</i> &gt;= <i>expr2</i> │ Greater than or equal.                   │
            │<i>expr1</i> &lt; <i>expr2</i>  │ Less than.                               │
            │<i>expr1</i> &lt;= <i>expr2</i> │ Less than or equal.                      │
            │<i>expr1</i> != <i>expr2</i> │ Not equal.                               │
            ├───────────────┼──────────────────────────────────────────┤
            │<i>expr1</i> + <i>expr2</i>  │ Addition of decimal integer-valued       │
            │               │ arguments.                               │
            │<i>expr1</i> − <i>expr2</i>  │ Subtraction of decimal integer-valued    │
            │               │ arguments.                               │
            ├───────────────┼──────────────────────────────────────────┤
            │<i>expr1</i> * <i>expr2</i>  │ Multiplication of decimal integer-valued │
            │               │ arguments.                               │
            │<i>expr1</i> / <i>expr2</i>  │ Integer division of decimal integer-     │
            │               │ valued arguments, producing an integer   │
            │               │ result.                                  │
            │<i>expr1</i> % <i>expr2</i>  │ Remainder of integer division of decimal │
            │               │ integer-valued arguments.                │
            ├───────────────┼──────────────────────────────────────────┤
            │<i>expr1</i> : <i>expr2</i>  │ Matching expression; see below.          │
            ├───────────────┼──────────────────────────────────────────┤
            │( <i>expr</i> )       │ Grouping symbols. Any expression can be  │
            │               │ placed within parentheses.  Parentheses  │
            │               │ can be nested to a depth of              │
            │               │ {EXPR_NEST_MAX}.                         │
            ├───────────────┼──────────────────────────────────────────┤
            │<i>integer</i>        │ An argument consisting only of an        │
            │               │ (optional) unary minus followed by       │
            │               │ digits.                                  │
            │<i>string</i>         │ A string argument; see below.            │
            └───────────────┴──────────────────────────────────────────┘
   <b>Matching Expression</b>
       The <b>':' </b>matching operator shall compare the string resulting from the
       evaluation of <i>expr1</i> with the regular expression pattern resulting
       from the evaluation of <i>expr2</i>.  Regular expression syntax shall be
       that defined in the Base Definitions volume of POSIX.1‐2008, <i>Section</i>
       <i>9.3</i>, <i>Basic Regular Expressions</i>, except that all patterns are anchored
       to the beginning of the string (that is, only sequences starting at
       the first character of a string are matched by the regular
       expression) and, therefore, it is unspecified whether <b>'^' </b>is a
       special character in that context. Usually, the matching operator
       shall return a string representing the number of characters matched
       (<b>'0' </b>on failure). Alternatively, if the pattern contains at least one
       regular expression subexpression <b>"[\(...\)]"</b>, the string matched by
       the back-reference expression <b>"\1" </b>shall be returned. If the back-
       reference expression <b>"\1" </b>does not match, then the null string shall
       be returned.

   <b>String Operand</b>
       A string argument is an argument that cannot be identified as an
       <i>integer</i> argument or as one of the expression operator symbols shown
       in the OPERANDS section.

       The use of string arguments <b>length</b>, <b>substr</b>, <b>index</b>, or <b>match </b>produces
       unspecified results.
</pre>
<h2><a id="EXIT_STATUS" href="#EXIT_STATUS"></a>EXIT STATUS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The following exit values shall be returned:

        0    The <i>expression</i> evaluates to neither null nor zero.

        1    The <i>expression</i> evaluates to null or zero.

        2    Invalid <i>expression</i>.

       &gt;2    An error occurred.
</pre>
<h2><a id="CONSEQUENCES_OF_ERRORS" href="#CONSEQUENCES_OF_ERRORS"></a>CONSEQUENCES OF ERRORS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       Default.

       <i>The following sections are informative.</i>
</pre>
<h2><a id="APPLICATION_USAGE" href="#APPLICATION_USAGE"></a>APPLICATION USAGE  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       After argument processing by the shell, <i>expr</i> is not required to be
       able to tell the difference between an operator and an operand except
       by the value. If <b>"$a" </b>is <b>'='</b>, the command:

           <b>expr $a = '='</b>

       looks like:

           <b>expr = = =</b>

       as the arguments are passed to <i>expr</i> (and they all may be taken as the
       <b>'=' </b>operator). The following works reliably:

           <b>expr X$a = X=</b>

       Also note that this volume of POSIX.1‐2008 permits implementations to
       extend utilities. The <i>expr</i> utility permits the integer arguments to
       be preceded with a unary minus. This means that an integer argument
       could look like an option.  Therefore, the conforming application
       must employ the <b>"−−" </b>construct of Guideline 10 of the Base
       Definitions volume of POSIX.1‐2008, <i>Section 12.2</i>, <i>Utility Syntax</i>
       <i>Guidelines</i> to protect its operands if there is any chance the first
       operand might be a negative integer (or any string with a leading
       minus).
</pre>
<h2><a id="EXAMPLES" href="#EXAMPLES"></a>EXAMPLES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The <i>expr</i> utility has a rather difficult syntax:

        *  Many of the operators are also shell control operators or
           reserved words, so they have to be escaped on the command line.

        *  Each part of the expression is composed of separate arguments, so
           liberal usage of &lt;blank&gt; characters is required. For example:

                      ┌─────────────────┬───────────────────────┐
                      │    <b>Invalid      </b>│         <b>Valid         </b>│
                      ├─────────────────┼───────────────────────┤
                      │<i>expr</i> 1+2         │ <i>expr</i> 1 + 2            │
                      │<i>expr</i> "1 + 2"     │ <i>expr</i> 1 + 2            │
                      │<i>expr</i> 1 + (2 * 3) │ <i>expr</i> 1 + \( 2 \* 3 \) │
                      └─────────────────┴───────────────────────┘
       In many cases, the arithmetic and string features provided as part of
       the shell command language are easier to use than their equivalents
       in <i>expr</i>.  Newly written scripts should avoid <i>expr</i> in favor of the new
       features within the shell; see <i>Section 2.5</i>, <i>Parameters and Variables</i>
       and <i>Section 2.6.4</i>, <i>Arithmetic Expansion</i>.

       The following command:

           <b>a=$(expr $a + 1)</b>

       adds 1 to the variable <i>a</i>.

       The following command, for <b>"$a" </b>equal to either <b>/usr/abc/file </b>or just
       <b>file</b>:

           <b>expr $a : '.*/\(.*\)' \| $a</b>

       returns the last segment of a pathname (that is, <b>file</b>).  Applications
       should avoid the character <b>'/' </b>used alone as an argument; <i>expr</i> may
       interpret it as the division operator.

       The following command:

           <b>expr "//$a" : '.*/\(.*\)'</b>

       is a better representation of the previous example. The addition of
       the <b>"//" </b>characters eliminates any ambiguity about the division
       operator and simplifies the whole expression. Also note that
       pathnames may contain characters contained in the <i>IFS</i> variable and
       should be quoted to avoid having <b>"$a" </b>expand into multiple arguments.

       The following command:

           <b>expr "$VAR" : '.*'</b>

       returns the number of characters in <i>VAR</i>.
</pre>
<h2><a id="RATIONALE" href="#RATIONALE"></a>RATIONALE  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       In an early proposal, EREs were used in the matching expression
       syntax.  This was changed to BREs to avoid breaking historical
       applications.

       The use of a leading &lt;circumflex&gt; in the BRE is unspecified because
       many historical implementations have treated it as a special
       character, despite their system documentation. For example:

           <b>expr foo : ^foo     expr ^foo : ^foo</b>

       return 3 and 0, respectively, on those systems; their documentation
       would imply the reverse. Thus, the anchoring condition is left
       unspecified to avoid breaking historical scripts relying on this
       undocumented feature.
</pre>
<h2><a id="FUTURE_DIRECTIONS" href="#FUTURE_DIRECTIONS"></a>FUTURE DIRECTIONS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       None.
</pre>
<h2><a id="SEE_ALSO" href="#SEE_ALSO"></a>SEE ALSO  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <i>Section 2.5</i>, <i>Parameters and Variables</i>, <i>Section 2.6.4</i>, <i>Arithmetic</i>
       <i>Expansion</i>

       The Base Definitions volume of POSIX.1‐2008, <i>Chapter 8</i>, <i>Environment</i>
       <i>Variables</i>, <i>Section 9.3</i>, <i>Basic Regular Expressions</i>, <i>Section 12.2</i>,
       <i>Utility Syntax Guidelines</i>
</pre>
<h2><a id="COPYRIGHT" href="#COPYRIGHT"></a>COPYRIGHT  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       Portions of this text are reprinted and reproduced in electronic form
       from IEEE Std 1003.1, 2013 Edition, Standard for Information
       Technology -- Portable Operating System Interface (POSIX), The Open
       Group Base Specifications Issue 7, Copyright (C) 2013 by the
       Institute of Electrical and Electronics Engineers, Inc and The Open
       Group.  (This is POSIX.1-2008 with the 2013 Technical Corrigendum 1
       applied.) In the event of any discrepancy between this version and
       the original IEEE and The Open Group Standard, the original IEEE and
       The Open Group Standard is the referee document. The original
       Standard can be obtained online at <a href="http://www.unix.org/online.html">http://www.unix.org/online.html</a> .

       Any typographical or formatting errors that appear in this page are
       most likely to have been introduced during the conversion of the
       source files to man page format. To report such errors, see
       <a href="https://www.kernel.org/doc/man-pages/reporting_bugs.html">https://www.kernel.org/doc/man-pages/reporting_bugs.html</a> .

<span class="footline">IEEE/The Open Group                 2013                            EXPR(1P)</span>
</pre>

<hr class="end-man-text" />

 
<hr class="start-footer" />

<div class="footer"> 

<table class="colophon-table">
    <tr>
    <td class="pub-info">
        <p>
            HTML rendering created 2017-07-13
            by <a href="http://man7.org/mtk/index.html">Michael Kerrisk</a>, 
            author of 
            <a href="http://man7.org/tlpi/"><em>The Linux Programming Interface</em></a>, 
            maintainer of the 
            <a href="https://www.kernel.org/doc/man-pages/">Linux <em>man-pages</em> project</a>.
        </p>
        <p>
            For details of in-depth
            <strong>Linux/UNIX system programming training courses</strong>
            that I teach, look <a href="http://man7.org/training/">here</a>.
        </p>
        <p>
            Hosting by <a href="http://www.jambit.com/index_en.html">jambit GmbH</a>.
        </p>
        <p>
            <a href="http://validator.w3.org/check?uri=referer">
            <img src="http://www.w3.org/Icons/valid-xhtml11"
                alt="Valid XHTML 1.1" height="31" width="88" />
            </a>
        </p>
    </td>
    <td class="colophon-divider">
    </td>
    <td class="tlpi-cover">
        <a href="http://man7.org/tlpi/"><img src="../../../tlpi/cover/TLPI-front-cover-vsmall.png" alt="Cover of TLPI" /></a>
    </td>
    </tr>
</table>

</div>

<hr class="end-footer" />



<!--BEGIN-SITETRACKING-->
<!-- SITETRACKING.man7.org_linux_man-pages -->

<!-- Start of StatCounter Code (xhtml) -->

<script type="text/javascript">
//<![CDATA[
var sc_project=7422636; 
var sc_invisible=1; 
var sc_security="9b6714ff"; 
//]]>
</script>
<script type="text/javascript"
src="../../../../www.statcounter.com/counter/counter_xhtml.js"></script>
<noscript><div class="statcounter"><a title="website
statistics" href="http://statcounter.com/"
class="statcounter"><img class="statcounter"
src="http://c.statcounter.com/7422636/0/9b6714ff/1/"
alt="website statistics" /></a></div></noscript>

<!-- End of StatCounter Code -->


<!-- Start of Google Analytics Code -->

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-9830363-8']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<!-- End of Google Analytics Code -->

<!--END-SITETRACKING-->

</body>
</html>
