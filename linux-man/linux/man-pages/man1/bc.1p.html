
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
        "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <link rel="stylesheet" type="text/css" href="../../../style.css" title="style" />
    <link rel="stylesheet" type="text/css" href="../style.css" title="style" />
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />

    <title>bc.1p - Linux manual page</title>
</head>

<body>

<div class="page-top"><a id="top_of_page"></a></div>
<!--%%%TOP_BAR%%%-->
    <div class="nav-bar">
        <table class="nav-table">
            <tr>
                <td class="nav-cell">
                    <p class="nav-text">
                        <a href="http://man7.org/index.html">man7.org</a> &gt; Linux &gt; <a href="../index.html">man-pages</a>
                    </p>
                </td>
                <td class="training-cell">
                    <p class="training-text"><a class="training-link" href="http://man7.org/training/">Linux/UNIX system programming training</a></p>
                </td>
            </tr>
        </table>
    </div>

<hr class="nav-end" />

<!--%%%PAGE_START%%%-->


<table class="sec-table">
<tr>
    <td>
        <p class="section-dir">
<a href="#PROLOG">PROLOG</a> | <a href="#NAME">NAME</a> | <a href="#SYNOPSIS">SYNOPSIS</a> | <a href="#DESCRIPTION">DESCRIPTION</a> | <a href="#OPTIONS">OPTIONS</a> | <a href="#OPERANDS">OPERANDS</a> | <a href="#STDIN">STDIN</a> | <a href="#INPUT_FILES">INPUT&nbsp;FILES</a> | <a href="#ENVIRONMENT_VARIABLES">ENVIRONMENT&nbsp;VARIABLES</a> | <a href="#ASYNCHRONOUS_EVENTS">ASYNCHRONOUS&nbsp;EVENTS</a> | <a href="#STDOUT">STDOUT</a> | <a href="#STDERR">STDERR</a> | <a href="#OUTPUT_FILES">OUTPUT&nbsp;FILES</a> | <a href="#EXTENDED_DESCRIPTION">EXTENDED&nbsp;DESCRIPTION</a> | <a href="#EXIT_STATUS">EXIT&nbsp;STATUS</a> | <a href="#CONSEQUENCES_OF_ERRORS">CONSEQUENCES&nbsp;OF&nbsp;ERRORS</a> | <a href="#APPLICATION_USAGE">APPLICATION&nbsp;USAGE</a> | <a href="#EXAMPLES">EXAMPLES</a> | <a href="#RATIONALE">RATIONALE</a> | <a href="#FUTURE_DIRECTIONS">FUTURE&nbsp;DIRECTIONS</a> | <a href="#SEE_ALSO">SEE&nbsp;ALSO</a> | <a href="#COPYRIGHT">COPYRIGHT</a>
        </p>
    </td>
    <td class="search-box">
        <div class="man-search-box">

            <form method="get" action="http://www.google.com/search">
                <fieldset class="man-search">
                    <input type="text" name="q" size="10" maxlength="255" value="" />
                    <input type="hidden" name="sitesearch" value="man7.org/linux/man-pages" />
                    <input type="submit" name="sa" value="Search online pages" />
                </fieldset>
            </form>

        </div>
    </td>
    <td> </td>
</tr>
</table>

<pre>
<span class="headline">BC(1P)                    POSIX Programmer's Manual                   BC(1P)</span>
</pre>
<h2><a id="PROLOG" href="#PROLOG"></a>PROLOG  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       This manual page is part of the POSIX Programmer's Manual.  The Linux
       implementation of this interface may differ (consult the
       corresponding Linux manual page for details of Linux behavior), or
       the interface may not be implemented on Linux.
</pre>
<h2><a id="NAME" href="#NAME"></a>NAME  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       bc — arbitrary-precision arithmetic language
</pre>
<h2><a id="SYNOPSIS" href="#SYNOPSIS"></a>SYNOPSIS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       bc <b>[</b>−l<b>] [</b><i>file</i>...<b>]</b>
</pre>
<h2><a id="DESCRIPTION" href="#DESCRIPTION"></a>DESCRIPTION  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The <i>bc</i> utility shall implement an arbitrary precision calculator. It
       shall take input from any files given, then read from the standard
       input. If the standard input and standard output to <i>bc</i> are attached
       to a terminal, the invocation of <i>bc</i> shall be considered to be
       <i>interactive</i>, causing behavioral constraints described in the
       following sections.
</pre>
<h2><a id="OPTIONS" href="#OPTIONS"></a>OPTIONS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The <i>bc</i> utility shall conform to the Base Definitions volume of
       POSIX.1‐2008, <i>Section 12.2</i>, <i>Utility Syntax Guidelines</i>.

       The following option shall be supported:

       <b>−l        </b>(The letter ell.) Define the math functions and initialize
                 <i>scale</i> to 20, instead of the default zero; see the EXTENDED
                 DESCRIPTION section.
</pre>
<h2><a id="OPERANDS" href="#OPERANDS"></a>OPERANDS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The following operand shall be supported:

       <i>file</i>      A pathname of a text file containing <i>bc</i> program statements.
                 After all <i>file</i>s have been read, <i>bc</i> shall read the standard
                 input.
</pre>
<h2><a id="STDIN" href="#STDIN"></a>STDIN  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       See the INPUT FILES section.
</pre>
<h2><a id="INPUT_FILES" href="#INPUT_FILES"></a>INPUT FILES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       Input files shall be text files containing a sequence of comments,
       statements, and function definitions that shall be executed as they
       are read.
</pre>
<h2><a id="ENVIRONMENT_VARIABLES" href="#ENVIRONMENT_VARIABLES"></a>ENVIRONMENT VARIABLES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The following environment variables shall affect the execution of <i>bc</i>:

       <i>LANG</i>      Provide a default value for the internationalization
                 variables that are unset or null. (See the Base Definitions
                 volume of POSIX.1‐2008, <i>Section 8.2</i>, <i>Internationalization</i>
                 <i>Variables</i> for the precedence of internationalization
                 variables used to determine the values of locale
                 categories.)

       <i>LC_ALL</i>    If set to a non-empty string value, override the values of
                 all the other internationalization variables.

       <i>LC_CTYPE</i>  Determine the locale for the interpretation of sequences of
                 bytes of text data as characters (for example, single-byte
                 as opposed to multi-byte characters in arguments and input
                 files).

       <i>LC_MESSAGES</i>
                 Determine the locale that should be used to affect the
                 format and contents of diagnostic messages written to
                 standard error.

       <i>NLSPATH</i>   Determine the location of message catalogs for the
                 processing of <i>LC_MESSAGES</i>.
</pre>
<h2><a id="ASYNCHRONOUS_EVENTS" href="#ASYNCHRONOUS_EVENTS"></a>ASYNCHRONOUS EVENTS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       Default.
</pre>
<h2><a id="STDOUT" href="#STDOUT"></a>STDOUT  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The output of the <i>bc</i> utility shall be controlled by the program read,
       and consist of zero or more lines containing the value of all
       executed expressions without assignments. The radix and precision of
       the output shall be controlled by the values of the <b>obase </b>and <b>scale</b>
       variables; see the EXTENDED DESCRIPTION section.
</pre>
<h2><a id="STDERR" href="#STDERR"></a>STDERR  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The standard error shall be used only for diagnostic messages.
</pre>
<h2><a id="OUTPUT_FILES" href="#OUTPUT_FILES"></a>OUTPUT FILES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       None.
</pre>
<h2><a id="EXTENDED_DESCRIPTION" href="#EXTENDED_DESCRIPTION"></a>EXTENDED DESCRIPTION  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
   <b>Grammar</b>
       The grammar in this section and the lexical conventions in the
       following section shall together describe the syntax for <i>bc</i> programs.
       The general conventions for this style of grammar are described in
       <i>Section 1.3</i>, <i>Grammar Conventions</i>.  A valid program can be represented
       as the non-terminal symbol <b>program </b>in the grammar. This formal syntax
       shall take precedence over the text syntax description.

           <b>%token    EOF NEWLINE STRING LETTER NUMBER</b>

           %token    MUL_OP
           /*        '*', '/', '%'                           */

           %token    ASSIGN_OP
           /*        '=', '+=', '−=', '*=', '/=', '%=', '^=' */

           %token    REL_OP
           /*        '==', '&lt;=', '&gt;=', '!=', '&lt;', '&gt;'        */

           %token    INCR_DECR
           /*        '++', '−−'                              */

           %token    Define    Break    Quit    Length
           /*        'define', 'break', 'quit', 'length'     */

           %token    Return    For    If    While    Sqrt
           /*        'return', 'for', 'if', 'while', 'sqrt'  */

           %token    Scale    Ibase    Obase    Auto
           /*        'scale', 'ibase', 'obase', 'auto'       */

           %start    program

           %%

           program              : EOF
                                | input_item program
                                ;

           input_item           : semicolon_list NEWLINE
                                | function
                                ;

           semicolon_list       : /* empty */
                                | statement
                                | semicolon_list ';' statement
                                | semicolon_list ';'
                                ;

           statement_list       : /* empty */
                                | statement
                                | statement_list NEWLINE
                                | statement_list NEWLINE statement
                                | statement_list ';'
                                | statement_list ';' statement
                                ;

           statement            : expression
                                | STRING
                                | Break
                                | Quit
                                | Return
                                | Return '(' return_expression ')'
                                | For '(' expression ';'
                                      relational_expression ';'
                                      expression ')' statement
                                | If '(' relational_expression ')' statement
                                | While '(' relational_expression ')' statement
                                | '{' statement_list '}'
                                ;

           function             : Define LETTER '(' opt_parameter_list ')'
                                      '{' NEWLINE opt_auto_define_list
                                      statement_list '}'
                                ;

           opt_parameter_list   : /* empty */
                                | parameter_list
                                ;

           parameter_list       : LETTER
                                | define_list ',' LETTER
                                ;

           opt_auto_define_list : /* empty */
                                | Auto define_list NEWLINE
                                | Auto define_list ';'
                                ;

           define_list          : LETTER
                                | LETTER '[' ']'
                                | define_list ',' LETTER
                                | define_list ',' LETTER '[' ']'
                                ;

           opt_argument_list    : /* empty */
                                | argument_list
                                ;

           argument_list        : expression
                                | LETTER '[' ']' ',' argument_list
                                ;

           relational_expression : expression
                                | expression REL_OP expression
                                ;

           return_expression    : /* empty */
                                | expression
                                ;

           expression           : named_expression
                                | NUMBER
                                | '(' expression ')'
                                | LETTER '(' opt_argument_list ')'
                                | '−' expression
                                | expression '+' expression
                                | expression '−' expression
                                | expression MUL_OP expression
                                | expression '^' expression
                                | INCR_DECR named_expression
                                | named_expression INCR_DECR
                                | named_expression ASSIGN_OP expression
                                | Length '(' expression ')'
                                | Sqrt '(' expression ')'
                                | Scale '(' expression ')'
                                ;

           named_expression     : LETTER
                                | LETTER '[' expression ']'
                                | Scale
                                | Ibase
                                | Obase
                                ;

   <b>Lexical Conventions in bc</b>
       The lexical conventions for <i>bc</i> programs, with respect to the
       preceding grammar, shall be as follows:

        1. Except as noted, <i>bc</i> shall recognize the longest possible token or
           delimiter beginning at a given point.

        2. A comment shall consist of any characters beginning with the two
           adjacent characters <b>"/*" </b>and terminated by the next occurrence of
           the two adjacent characters <b>"*/"</b>.  Comments shall have no effect
           except to delimit lexical tokens.

        3. The &lt;newline&gt; shall be recognized as the token <b>NEWLINE</b>.

        4. The token <b>STRING </b>shall represent a string constant; it shall
           consist of any characters beginning with the double-quote
           character (<b>'"'</b>) and terminated by another occurrence of the
           double-quote character. The value of the string is the sequence
           of all characters between, but not including, the two double-
           quote characters. All characters shall be taken literally from
           the input, and there is no way to specify a string containing a
           double-quote character. The length of the value of each string
           shall be limited to {BC_STRING_MAX} bytes.

        5. A &lt;blank&gt; shall have no effect except as an ordinary character if
           it appears within a <b>STRING </b>token, or to delimit a lexical token
           other than <b>STRING</b>.

        6. The combination of a &lt;backslash&gt; character immediately followed
           by a &lt;newline&gt; shall have no effect other than to delimit lexical
           tokens with the following exceptions:

            *  It shall be interpreted as the character sequence
               <b>"\&lt;newline&gt;" </b>in <b>STRING </b>tokens.

            *  It shall be ignored as part of a multi-line <b>NUMBER </b>token.

        7. The token <b>NUMBER </b>shall represent a numeric constant. It shall be
           recognized by the following grammar:

               <b>NUMBER  : integer</b>
                       <b>| '.' integer</b>
                       <b>| integer '.'</b>
                       <b>| integer '.' integer</b>
                       <b>;</b>

               integer : digit
                       | integer digit
                       ;

               digit   : 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7
                       | 8 | 9 | A | B | C | D | E | F
                       ;

        8. The value of a <b>NUMBER </b>token shall be interpreted as a numeral in
           the base specified by the value of the internal register <b>ibase</b>
           (described below). Each of the <b>digit </b>characters shall have the
           value from 0 to 15 in the order listed here, and the &lt;period&gt;
           character shall represent the radix point. The behavior is
           undefined if digits greater than or equal to the value of <b>ibase</b>
           appear in the token. However, note the exception for single-digit
           values being assigned to <b>ibase </b>and <b>obase </b>themselves, in
           <i>Operations in bc</i>.

        9. The following keywords shall be recognized as tokens:

           <b>auto     ibase    length   return   while</b>
           <b>break    if       obase    scale</b>
           <b>define   for      quit     sqrt</b>

       10. Any of the following characters occurring anywhere except within
           a keyword shall be recognized as the token <b>LETTER</b>:

               <b>a b c d e f g h i j k l m n o p q r s t u v w x y z</b>

       11. The following single-character and two-character sequences shall
           be recognized as the token <b>ASSIGN_OP</b>:

               <b>=   +=   −=   *=   /=   %=   ^=</b>

       12. If an <b>'=' </b>character, as the beginning of a token, is followed by
           a <b>'−' </b>character with no intervening delimiter, the behavior is
           undefined.

       13. The following single-characters shall be recognized as the token
           <b>MUL_OP</b>:

               <b>*   /   %</b>

       14. The following single-character and two-character sequences shall
           be recognized as the token <b>REL_OP</b>:

               <b>==   &lt;=   &gt;=   !=   &lt;   &gt;</b>

       15. The following two-character sequences shall be recognized as the
           token <b>INCR_DECR</b>:

               <b>++   −−</b>

       16. The following single characters shall be recognized as tokens
           whose names are the character:

               <b>&lt;newline&gt;  (  )  ,  +  −  ;  [  ]  ^  {  }</b>

       17. The token <b>EOF </b>is returned when the end of input is reached.

   <b>Operations in bc</b>
       There are three kinds of identifiers: ordinary identifiers, array
       identifiers, and function identifiers.  All three types consist of
       single lowercase letters. Array identifiers shall be followed by
       square brackets (<b>"[]"</b>).  An array subscript is required except in an
       argument or auto list.  Arrays are singly dimensioned and can contain
       up to {BC_DIM_MAX} elements. Indexing shall begin at zero so an array
       is indexed from 0 to {BC_DIM_MAX}−1.  Subscripts shall be truncated
       to integers. The application shall ensure that function identifiers
       are followed by parentheses, possibly enclosing arguments. The three
       types of identifiers do not conflict.

       The following table summarizes the rules for precedence and
       associativity of all operators. Operators on the same line shall have
       the same precedence; rows are in order of decreasing precedence.

                              <b>Table: Operators in </b><i>bc</i>

                    ┌──────────────────────────┬───────────────┐
                    │        <b>Operator          </b>│ <b>Associativity </b>│
                    ├──────────────────────────┼───────────────┤
                    │++, −−                    │ N/A           │
                    │unary −                   │ N/A           │
                    │^                         │ Right to left │
                    │*, /, %                   │ Left to right │
                    │+, binary −               │ Left to right │
                    │=, +=, −=, *=, /=, %=, ^= │ Right to left │
                    │==, &lt;=, &gt;=, !=, &lt;, &gt;      │ None          │
                    └──────────────────────────┴───────────────┘
       Each expression or named expression has a <i>scale</i>, which is the number
       of decimal digits that shall be maintained as the fractional portion
       of the expression.

       <i>Named expressions</i> are places where values are stored. Named
       expressions shall be valid on the left side of an assignment. The
       value of a named expression shall be the value stored in the place
       named. Simple identifiers and array elements are named expressions;
       they have an initial value of zero and an initial scale of zero.

       The internal registers <b>scale</b>, <b>ibase</b>, and <b>obase </b>are all named
       expressions. The scale of an expression consisting of the name of one
       of these registers shall be zero; values assigned to any of these
       registers are truncated to integers. The <b>scale </b>register shall contain
       a global value used in computing the scale of expressions (as
       described below). The value of the register <b>scale </b>is limited to 0 ≤
       <b>scale </b>≤ {BC_SCALE_MAX} and shall have a default value of zero. The
       <b>ibase </b>and <b>obase </b>registers are the input and output number radix,
       respectively. The value of <b>ibase </b>shall be limited to:

           <b>2 ≤ ibase ≤ 16</b>

       The value of <b>obase </b>shall be limited to:

           <b>2 ≤ obase ≤ {BC_BASE_MAX}</b>

       When either <b>ibase </b>or <b>obase </b>is assigned a single <b>digit </b>value from the
       list in <i>Lexical Conventions in bc</i>, the value shall be assumed in
       hexadecimal. (For example, <b>ibase</b>=A sets to base ten, regardless of
       the current <b>ibase </b>value.) Otherwise, the behavior is undefined when
       digits greater than or equal to the value of <b>ibase </b>appear in the
       input. Both <b>ibase </b>and <b>obase </b>shall have initial values of 10.

       Internal computations shall be conducted as if in decimal, regardless
       of the input and output bases, to the specified number of decimal
       digits. When an exact result is not achieved (for example,
       <b>scale</b>=0; 3.2/1)<b>, </b>the result shall be truncated.

       For all values of <b>obase </b>specified by this volume of POSIX.1‐2008, <i>bc</i>
       shall output numeric values by performing each of the following steps
       in order:

        1. If the value is less than zero, a &lt;hyphen&gt; (<b>'−'</b>) character shall
           be output.

        2. One of the following is output, depending on the numerical value:

            *  If the absolute value of the numerical value is greater than
               or equal to one, the integer portion of the value shall be
               output as a series of digits appropriate to <b>obase </b>(as
               described below), most significant digit first. The most
               significant non-zero digit shall be output next, followed by
               each successively less significant digit.

            *  If the absolute value of the numerical value is less than one
               but greater than zero and the scale of the numerical value is
               greater than zero, it is unspecified whether the character 0
               is output.

            *  If the numerical value is zero, the character 0 shall be
               output.

        3. If the scale of the value is greater than zero and the numeric
           value is not zero, a &lt;period&gt; character shall be output, followed
           by a series of digits appropriate to <b>obase </b>(as described below)
           representing the most significant portion of the fractional part
           of the value. If <i>s</i> represents the scale of the value being
           output, the number of digits output shall be <i>s</i> if <b>obase </b>is 10,
           less than or equal to <i>s</i> if <b>obase </b>is greater than 10, or greater
           than or equal to <i>s</i> if <b>obase </b>is less than 10. For <b>obase </b>values
           other than 10, this should be the number of digits needed to
           represent a precision of 10<i>s</i>.

       For <b>obase </b>values from 2 to 16, valid digits are the first <b>obase </b>of
       the single characters:

           <b>0  1  2  3  4  5  6  7  8  9  A  B  C  D  E  F</b>

       which represent the values zero to 15, inclusive, respectively.

       For bases greater than 16, each digit shall be written as a separate
       multi-digit decimal number. Each digit except the most significant
       fractional digit shall be preceded by a single &lt;space&gt;.  For bases
       from 17 to 100, <i>bc</i> shall write two-digit decimal numbers; for bases
       from 101 to 1000, three-digit decimal strings, and so on. For
       example, the decimal number 1024 in base 25 would be written as:

            <b>01 15 24</b>

       and in base 125, as:

            <b>008 024</b>

       Very large numbers shall be split across lines with 70 characters per
       line in the POSIX locale; other locales may split at different
       character boundaries. Lines that are continued shall end with a
       &lt;backslash&gt;.

       A function call shall consist of a function name followed by
       parentheses containing a &lt;comma&gt;-separated list of expressions, which
       are the function arguments. A whole array passed as an argument shall
       be specified by the array name followed by empty square brackets. All
       function arguments shall be passed by value. As a result, changes
       made to the formal parameters shall have no effect on the actual
       arguments. If the function terminates by executing a <b>return</b>
       statement, the value of the function shall be the value of the
       expression in the parentheses of the <b>return </b>statement or shall be
       zero if no expression is provided or if there is no <b>return </b>statement.

       The result of <b>sqrt</b>(<i>expression</i>) shall be the square root of the
       expression. The result shall be truncated in the least significant
       decimal place. The scale of the result shall be the scale of the
       expression or the value of <b>scale</b>, whichever is larger.

       The result of <b>length</b>(<i>expression</i>) shall be the total number of
       significant decimal digits in the expression. The scale of the result
       shall be zero.

       The result of <b>scale</b>(<i>expression</i>) shall be the scale of the expression.
       The scale of the result shall be zero.

       A numeric constant shall be an expression. The scale shall be the
       number of digits that follow the radix point in the input
       representing the constant, or zero if no radix point appears.

       The sequence ( <i>expression</i> ) shall be an expression with the same
       value and scale as <i>expression</i>.  The parentheses can be used to alter
       the normal precedence.

       The semantics of the unary and binary operators are as follows:

       −<i>expression</i>
             The result shall be the negative of the <i>expression</i>.  The scale
             of the result shall be the scale of <i>expression</i>.

       The unary increment and decrement operators shall not modify the
       scale of the named expression upon which they operate. The scale of
       the result shall be the scale of that named expression.

       ++<i>named-expression</i>
             The named expression shall be incremented by one. The result
             shall be the value of the named expression after incrementing.

       −−<i>named-expression</i>
             The named expression shall be decremented by one. The result
             shall be the value of the named expression after decrementing.

       <i>named-expression</i>++
             The named expression shall be incremented by one. The result
             shall be the value of the named expression before incrementing.

       <i>named-expression</i>−−
             The named expression shall be decremented by one. The result
             shall be the value of the named expression before decrementing.

       The exponentiation operator, &lt;circumflex&gt; (<b>'^'</b>), shall bind right to
       left.

       <i>expression</i>^<i>expression</i>
             The result shall be the first <i>expression</i> raised to the power of
             the second <i>expression</i>.  If the second expression is not an
             integer, the behavior is undefined.  If <i>a</i> is the scale of the
             left expression and <i>b</i> is the absolute value of the right
             expression, the scale of the result shall be:

                 <b>if b &gt;= 0 min(a * b, max(scale, a)) if b &lt; 0 scale</b>

       The multiplicative operators (<b>'*'</b>, <b>'/'</b>, <b>'%'</b>) shall bind left to
       right.

       <i>expression</i>*<i>expression</i>
             The result shall be the product of the two expressions. If <i>a</i>
             and <i>b</i> are the scales of the two expressions, then the scale of
             the result shall be:

                 <b>min(a+b,max(scale,a,b))</b>

       <i>expression</i>/<i>expression</i>
             The result shall be the quotient of the two expressions. The
             scale of the result shall be the value of <b>scale</b>.

       <i>expression</i>%<i>expression</i>
             For expressions <i>a</i> and <i>b</i>, <i>a</i>%<i>b</i> shall be evaluated equivalent to
             the steps:

              1. Compute <i>a</i>/<i>b</i> to current scale.

              2. Use the result to compute:

                     <b>a − (a / b) * b</b>

                 to scale:

                     <b>max(scale + scale(b), scale(a))</b>

             The scale of the result shall be:

                 <b>max(scale + scale(b), scale(a))</b>

             When <b>scale </b>is zero, the <b>'%' </b>operator is the mathematical
             remainder operator.

       The additive operators (<b>'+'</b>, <b>'−'</b>) shall bind left to right.

       <i>expression</i>+<i>expression</i>
             The result shall be the sum of the two expressions. The scale
             of the result shall be the maximum of the scales of the
             expressions.

       <i>expression</i>−<i>expression</i>
             The result shall be the difference of the two expressions. The
             scale of the result shall be the maximum of the scales of the
             expressions.

       The assignment operators (<b>'='</b>, <b>"+="</b>, <b>"−="</b>, <b>"*="</b>, <b>"/="</b>, <b>"%="</b>, <b>"^="</b>)
       shall bind right to left.

       <i>named-expression</i>=<i>expression</i>
             This expression shall result in assigning the value of the
             expression on the right to the named expression on the left.
             The scale of both the named expression and the result shall be
             the scale of <i>expression</i>.

       The compound assignment forms:

           <i>named-expression</i> &lt;<i>operator</i>&gt;= <i>expression</i>

       shall be equivalent to:

           <i>named-expression</i>=<i>named-expression</i> &lt;<i>operator</i>&gt; <i>expression</i>

       except that the <i>named-expression</i> shall be evaluated only once.

       Unlike all other operators, the relational operators (<b>'&lt;'</b>, <b>'&gt;'</b>, <b>"&lt;="</b>,
       <b>"&gt;="</b>, <b>"=="</b>, <b>"!="</b>) shall be only valid as the object of an <b>if</b>, <b>while</b>,
       or inside a <b>for </b>statement.

       <i>expression1</i>&lt;<i>expression2</i>
             The relation shall be true if the value of <i>expression1</i> is
             strictly less than the value of <i>expression2</i>.

       <i>expression1</i>&gt;<i>expression2</i>
             The relation shall be true if the value of <i>expression1</i> is
             strictly greater than the value of <i>expression2</i>.

       <i>expression1</i>&lt;=<i>expression2</i>
             The relation shall be true if the value of <i>expression1</i> is less
             than or equal to the value of <i>expression2</i>.

       <i>expression1</i>&gt;=<i>expression2</i>
             The relation shall be true if the value of <i>expression1</i> is
             greater than or equal to the value of <i>expression2</i>.

       <i>expression1</i>==<i>expression2</i>
             The relation shall be true if the values of <i>expression1</i> and
             <i>expression2</i> are equal.

       <i>expression1</i>!=<i>expression2</i>
             The relation shall be true if the values of <i>expression1</i> and
             <i>expression2</i> are unequal.

       There are only two storage classes in <i>bc</i>: global and automatic
       (local).  Only identifiers that are local to a function need be
       declared with the <b>auto </b>command. The arguments to a function shall be
       local to the function.  All other identifiers are assumed to be
       global and available to all functions. All identifiers, global and
       local, have initial values of zero. Identifiers declared as auto
       shall be allocated on entry to the function and released on returning
       from the function. They therefore do not retain values between
       function calls. Auto arrays shall be specified by the array name
       followed by empty square brackets. On entry to a function, the old
       values of the names that appear as parameters and as automatic
       variables shall be pushed onto a stack. Until the function returns,
       reference to these names shall refer only to the new values.

       References to any of these names from other functions that are called
       from this function also refer to the new value until one of those
       functions uses the same name for a local variable.

       When a statement is an expression, unless the main operator is an
       assignment, execution of the statement shall write the value of the
       expression followed by a &lt;newline&gt;.

       When a statement is a string, execution of the statement shall write
       the value of the string.

       Statements separated by &lt;semicolon&gt; or &lt;newline&gt; characters shall be
       executed sequentially. In an interactive invocation of <i>bc</i>, each time
       a &lt;newline&gt; is read that satisfies the grammatical production:

           <b>input_item : semicolon_list NEWLINE</b>

       the sequential list of statements making up the <b>semicolon_list </b>shall
       be executed immediately and any output produced by that execution
       shall be written without any delay due to buffering.

       In an <b>if </b>statement (<b>if</b>(<i>relation</i>) <i>statement</i>), the <i>statement</i> shall be
       executed if the relation is true.

       The <b>while </b>statement (<b>while</b>(<i>relation</i>) <i>statement</i>) implements a loop in
       which the <i>relation</i> is tested; each time the <i>relation</i> is true, the
       <i>statement</i> shall be executed and the <i>relation</i> retested. When the
       <i>relation</i> is false, execution shall resume after <i>statement</i>.

       A <b>for </b>statement(<b>for</b>(<i>expression</i>; <i>relation</i>; <i>expression</i>) <i>statement</i>)
       shall be the same as:

           <i>first-expression</i>
           <b>while (</b><i>relation</i><b>) {</b>
               <i>statement</i>
               <i>last-expression</i>
           }

       The application shall ensure that all three expressions are present.

       The <b>break </b>statement shall cause termination of a <b>for </b>or <b>while</b>
       statement.

       The <b>auto </b>statement (<b>auto </b><i>identifier</i> <b>[</b>,<i>identifier</i><b>] </b>...) shall cause
       the values of the identifiers to be pushed down.  The identifiers can
       be ordinary identifiers or array identifiers. Array identifiers shall
       be specified by following the array name by empty square brackets.
       The application shall ensure that the <b>auto </b>statement is the first
       statement in a function definition.

       A <b>define </b>statement:

           <b>define </b><i>LETTER</i> <b>( </b><i>opt_parameter_list</i> <b>) {</b>
               <i>opt_auto_define_list</i>
               <i>statement_list</i>
           }

       defines a function named <b>LETTER</b>.  If a function named <b>LETTER </b>was
       previously defined, the <b>define </b>statement shall replace the previous
       definition. The expression:

           <b>LETTER ( </b><i>opt_argument_list</i> )

       shall invoke the function named <b>LETTER</b>.  The behavior is undefined if
       the number of arguments in the invocation does not match the number
       of parameters in the definition. Functions shall be defined before
       they are invoked. A function shall be considered to be defined within
       its own body, so recursive calls are valid. The values of numeric
       constants within a function shall be interpreted in the base
       specified by the value of the <b>ibase </b>register when the function is
       invoked.

       The <b>return </b>statements (<b>return </b>and <b>return</b>(<i>expression</i>)) shall cause
       termination of a function, popping of its auto variables, and
       specification of the result of the function. The first form shall be
       equivalent to <b>return</b>(0).  The value and scale of the result returned
       by the function shall be the value and scale of the expression
       returned.

       The <b>quit </b>statement (<b>quit</b>) shall stop execution of a <i>bc</i> program at the
       point where the statement occurs in the input, even if it occurs in a
       function definition, or in an <b>if</b>, <b>for</b>, or <b>while </b>statement.

       The following functions shall be defined when the <b>−l </b>option is
       specified:

       <b>s</b>( <i>expression</i> )
             Sine of argument in radians.

       <b>c</b>( <i>expression</i> )
             Cosine of argument in radians.

       <b>a</b>( <i>expression</i> )
             Arctangent of argument.

       <b>l</b>( <i>expression</i> )
             Natural logarithm of argument.

       <b>e</b>( <i>expression</i> )
             Exponential function of argument.

       <b>j</b>( <i>expression</i>, <i>expression</i> )
             Bessel function of integer order.

       The scale of the result returned by these functions shall be the
       value of the <b>scale </b>register at the time the function is invoked. The
       value of the <b>scale </b>register after these functions have completed
       their execution shall be the same value it had upon invocation. The
       behavior is undefined if any of these functions is invoked with an
       argument outside the domain of the mathematical function.
</pre>
<h2><a id="EXIT_STATUS" href="#EXIT_STATUS"></a>EXIT STATUS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The following exit values shall be returned:

       0         All input files were processed successfully.

       <i>unspecified</i>
                 An error occurred.
</pre>
<h2><a id="CONSEQUENCES_OF_ERRORS" href="#CONSEQUENCES_OF_ERRORS"></a>CONSEQUENCES OF ERRORS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       If any <i>file</i> operand is specified and the named file cannot be
       accessed, <i>bc</i> shall write a diagnostic message to standard error and
       terminate without any further action.

       In an interactive invocation of <i>bc</i>, the utility should print an error
       message and recover following any error in the input. In a non-
       interactive invocation of <i>bc</i>, invalid input causes undefined
       behavior.

       <i>The following sections are informative.</i>
</pre>
<h2><a id="APPLICATION_USAGE" href="#APPLICATION_USAGE"></a>APPLICATION USAGE  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       Automatic variables in <i>bc</i> do not work in exactly the same way as in
       either C or PL/1.

       For historical reasons, the exit status from <i>bc</i> cannot be relied upon
       to indicate that an error has occurred.  Returning zero after an
       error is possible. Therefore, <i>bc</i> should be used primarily by
       interactive users (who can react to error messages) or by application
       programs that can somehow validate the answers returned as not
       including error messages.

       The <i>bc</i> utility always uses the &lt;period&gt; (<b>'.'</b>)  character to represent
       a radix point, regardless of any decimal-point character specified as
       part of the current locale. In languages like C or <i>awk</i>, the &lt;period&gt;
       character is used in program source, so it can be portable and
       unambiguous, while the locale-specific character is used in input and
       output. Because there is no distinction between source and input in
       <i>bc</i>, this arrangement would not be possible. Using the locale-specific
       character in <i>bc</i>'s input would introduce ambiguities into the
       language; consider the following example in a locale with a &lt;comma&gt;
       as the decimal-point character:

           <b>define f(a,b) {</b>
               <b>...</b>
           <b>}</b>
           <b>...</b>

           f(1,2,3)

       Because of such ambiguities, the &lt;period&gt; character is used in input.
       Having input follow different conventions from output would be
       confusing in either pipeline usage or interactive usage, so the
       &lt;period&gt; is also used in output.
</pre>
<h2><a id="EXAMPLES" href="#EXAMPLES"></a>EXAMPLES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       In the shell, the following assigns an approximation of the first ten
       digits of <b>'π' </b>to the variable <i>x</i>:

           <b>x=$(printf "%s\n" 'scale = 10; 104348/33215' | bc)</b>

       The following <i>bc</i> program prints the same approximation of <b>'π'</b>, with a
       label, to standard output:

           <b>scale = 10</b>
           <b>"pi equals "</b>
           <b>104348 / 33215</b>

       The following defines a function to compute an approximate value of
       the exponential function (note that such a function is predefined if
       the <b>−l </b>option is specified):

           <b>scale = 20</b>
           <b>define e(x){</b>
               <b>auto a, b, c, i, s</b>
               <b>a = 1</b>
               <b>b = 1</b>
               <b>s = 1</b>
               <b>for (i = 1; 1 == 1; i++){</b>
                   <b>a = a*x</b>
                   <b>b = b*i</b>
                   <b>c = a/b</b>
                   <b>if (c == 0) {</b>
                        <b>return(s)</b>
                   <b>}</b>
                   <b>s = s+c</b>
               <b>}</b>
           <b>}</b>

       The following prints approximate values of the exponential function
       of the first ten integers:

           <b>for (i = 1; i &lt;= 10; ++i) {</b>
               <b>e(i)</b>
           <b>}</b>
</pre>
<h2><a id="RATIONALE" href="#RATIONALE"></a>RATIONALE  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The <i>bc</i> utility is implemented historically as a front-end processor
       for <i>dc</i>; <i>dc</i> was not selected to be part of this volume of POSIX.1‐2008
       because <i>bc</i> was thought to have a more intuitive programmatic
       interface. Current implementations that implement <i>bc</i> using <i>dc</i> are
       expected to be compliant.

       The exit status for error conditions has been left unspecified for
       several reasons:

        *  The <i>bc</i> utility is used in both interactive and non-interactive
           situations.  Different exit codes may be appropriate for the two
           uses.

        *  It is unclear when a non-zero exit should be given; divide-by-
           zero, undefined functions, and syntax errors are all
           possibilities.

        *  It is not clear what utility the exit status has.

        *  In the 4.3 BSD, System V, and Ninth Edition implementations, <i>bc</i>
           works in conjunction with <i>dc</i>.  The <i>dc</i> utility is the parent, <i>bc</i>
           is the child. This was done to cleanly terminate <i>bc</i> if <i>dc</i>
           aborted.

       The decision to have <i>bc</i> exit upon encountering an inaccessible input
       file is based on the belief that <i>bc file1 file2</i> is used most often
       when at least <i>file1</i> contains data/function
       declarations/initializations. Having <i>bc</i> continue with prerequisite
       files missing is probably not useful. There is no implication in the
       CONSEQUENCES OF ERRORS section that <i>bc</i> must check all its files for
       accessibility before opening any of them.

       There was considerable debate on the appropriateness of the language
       accepted by <i>bc</i>.  Several reviewers preferred to see either a pure
       subset of the C language or some changes to make the language more
       compatible with C.  While the <i>bc</i> language has some obvious
       similarities to C, it has never claimed to be compatible with any
       version of C. An interpreter for a subset of C might be a very
       worthwhile utility, and it could potentially make <i>bc</i> obsolete.
       However, no such utility is known in historical practice, and it was
       not within the scope of this volume of POSIX.1‐2008 to define such a
       language and utility. If and when they are defined, it may be
       appropriate to include them in a future version of this standard.
       This left the following alternatives:

        1. Exclude any calculator language from this volume of POSIX.1‐2008.

           The consensus of the standard developers was that a simple
           programmatic calculator language is very useful for both
           applications and interactive users. The only arguments for
           excluding any calculator were that it would become obsolete if
           and when a C-compatible one emerged, or that the absence would
           encourage the development of such a C-compatible one. These
           arguments did not sufficiently address the needs of current
           application developers.

        2. Standardize the historical <i>dc</i>, possibly with minor modifications.

           The consensus of the standard developers was that <i>dc</i> is a
           fundamentally less usable language and that that would be far too
           severe a penalty for avoiding the issue of being similar to but
           incompatible with C.

        3. Standardize the historical <i>bc</i>, possibly with minor modifications.

           This was the approach taken. Most of the proponents of changing
           the language would not have been satisfied until most or all of
           the incompatibilities with C were resolved. Since most of the
           changes considered most desirable would break historical
           applications and require significant modification to historical
           implementations, almost no modifications were made. The one
           significant modification that was made was the replacement of the
           historical <i>bc</i> assignment operators <b>"=+"</b>, and so on, with the more
           modern <b>"+="</b>, and so on. The older versions are considered to be
           fundamentally flawed because of the lexical ambiguity in uses
           like <i>a</i>=−1.

           In order to permit implementations to deal with backwards-
           compatibility as they see fit, the behavior of this one ambiguous
           construct was made undefined. (At least three implementations
           have been known to support this change already, so the degree of
           change involved should not be great.)

       The <b>'%' </b>operator is the mathematical remainder operator when <b>scale </b>is
       zero. The behavior of this operator for other values of <b>scale </b>is from
       historical implementations of <i>bc</i>, and has been maintained for the
       sake of historical applications despite its non-intuitive nature.

       Historical implementations permit setting <b>ibase </b>and <b>obase </b>to a
       broader range of values. This includes values less than 2, which were
       not seen as sufficiently useful to standardize. These implementations
       do not interpret input properly for values of <b>ibase </b>that are greater
       than 16. This is because numeric constants are recognized
       syntactically, rather than lexically, as described in this volume of
       POSIX.1‐2008. They are built from lexical tokens of single
       hexadecimal digits and &lt;period&gt; characters. Since &lt;blank&gt; characters
       between tokens are not visible at the syntactic level, it is not
       possible to recognize the multi-digit ``digits'' used in the higher
       bases properly. The ability to recognize input in these bases was not
       considered useful enough to require modifying these implementations.
       Note that the recognition of numeric constants at the syntactic level
       is not a problem with conformance to this volume of POSIX.1‐2008, as
       it does not impact the behavior of conforming applications (and
       correct <i>bc</i> programs). Historical implementations also accept input
       with all of the digits <b>'0'</b>−<b>'9' </b>and <b>'A'</b>−<b>'F' </b>regardless of the value of
       <b>ibase</b>; since digits with value greater than or equal to <b>ibase </b>are not
       really appropriate, the behavior when they appear is undefined,
       except for the common case of:

           <b>ibase=8;</b>
               <b>/* Process in octal base. */</b>
           <b>...</b>
           <b>ibase=A</b>
               <b>/* Restore decimal base. */</b>

       In some historical implementations, if the expression to be written
       is an uninitialized array element, a leading &lt;space&gt; and/or up to
       four leading 0 characters may be output before the character zero.
       This behavior is considered a bug; it is unlikely that any currently
       conforming application relies on:

           <b>echo 'b[3]' | bc</b>

       returning 00000 rather than 0.

       Exact calculation of the number of fractional digits to output for a
       given value in a base other than 10 can be computationally expensive.
       Historical implementations use a faster approximation, and this is
       permitted. Note that the requirements apply only to values of <b>obase</b>
       that this volume of POSIX.1‐2008 requires implementations to support
       (in particular, not to 1, 0, or negative bases, if an implementation
       supports them as an extension).

       Historical implementations of <i>bc</i> did not allow array parameters to be
       passed as the last parameter to a function. New implementations are
       encouraged to remove this restriction even though it is not required
       by the grammar.
</pre>
<h2><a id="FUTURE_DIRECTIONS" href="#FUTURE_DIRECTIONS"></a>FUTURE DIRECTIONS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       None.
</pre>
<h2><a id="SEE_ALSO" href="#SEE_ALSO"></a>SEE ALSO  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <i>Section 1.3</i>, <i>Grammar Conventions</i>, <a href="awk.1p.html">awk(1p)</a>

       The Base Definitions volume of POSIX.1‐2008, <i>Chapter 8</i>, <i>Environment</i>
       <i>Variables</i>, <i>Section 12.2</i>, <i>Utility Syntax Guidelines</i>
</pre>
<h2><a id="COPYRIGHT" href="#COPYRIGHT"></a>COPYRIGHT  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       Portions of this text are reprinted and reproduced in electronic form
       from IEEE Std 1003.1, 2013 Edition, Standard for Information
       Technology -- Portable Operating System Interface (POSIX), The Open
       Group Base Specifications Issue 7, Copyright (C) 2013 by the
       Institute of Electrical and Electronics Engineers, Inc and The Open
       Group.  (This is POSIX.1-2008 with the 2013 Technical Corrigendum 1
       applied.) In the event of any discrepancy between this version and
       the original IEEE and The Open Group Standard, the original IEEE and
       The Open Group Standard is the referee document. The original
       Standard can be obtained online at <a href="http://www.unix.org/online.html">http://www.unix.org/online.html</a> .

       Any typographical or formatting errors that appear in this page are
       most likely to have been introduced during the conversion of the
       source files to man page format. To report such errors, see
       <a href="https://www.kernel.org/doc/man-pages/reporting_bugs.html">https://www.kernel.org/doc/man-pages/reporting_bugs.html</a> .

<span class="footline">IEEE/The Open Group                 2013                              BC(1P)</span>
</pre>

<hr class="end-man-text" />
<p>Pages that refer to this page: 
    <a href="printf.1p.html">printf(1p)</a>
</p>
<hr/>

 
<hr class="start-footer" />

<div class="footer"> 

<table class="colophon-table">
    <tr>
    <td class="pub-info">
        <p>
            HTML rendering created 2017-07-13
            by <a href="http://man7.org/mtk/index.html">Michael Kerrisk</a>, 
            author of 
            <a href="http://man7.org/tlpi/"><em>The Linux Programming Interface</em></a>, 
            maintainer of the 
            <a href="https://www.kernel.org/doc/man-pages/">Linux <em>man-pages</em> project</a>.
        </p>
        <p>
            For details of in-depth
            <strong>Linux/UNIX system programming training courses</strong>
            that I teach, look <a href="http://man7.org/training/">here</a>.
        </p>
        <p>
            Hosting by <a href="http://www.jambit.com/index_en.html">jambit GmbH</a>.
        </p>
        <p>
            <a href="http://validator.w3.org/check?uri=referer">
            <img src="http://www.w3.org/Icons/valid-xhtml11"
                alt="Valid XHTML 1.1" height="31" width="88" />
            </a>
        </p>
    </td>
    <td class="colophon-divider">
    </td>
    <td class="tlpi-cover">
        <a href="http://man7.org/tlpi/"><img src="../../../tlpi/cover/TLPI-front-cover-vsmall.png" alt="Cover of TLPI" /></a>
    </td>
    </tr>
</table>

</div>

<hr class="end-footer" />



<!--BEGIN-SITETRACKING-->
<!-- SITETRACKING.man7.org_linux_man-pages -->

<!-- Start of StatCounter Code (xhtml) -->

<script type="text/javascript">
//<![CDATA[
var sc_project=7422636; 
var sc_invisible=1; 
var sc_security="9b6714ff"; 
//]]>
</script>
<script type="text/javascript"
src="../../../../www.statcounter.com/counter/counter_xhtml.js"></script>
<noscript><div class="statcounter"><a title="website
statistics" href="http://statcounter.com/"
class="statcounter"><img class="statcounter"
src="http://c.statcounter.com/7422636/0/9b6714ff/1/"
alt="website statistics" /></a></div></noscript>

<!-- End of StatCounter Code -->


<!-- Start of Google Analytics Code -->

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-9830363-8']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<!-- End of Google Analytics Code -->

<!--END-SITETRACKING-->

</body>
</html>
