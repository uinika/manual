
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
        "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <link rel="stylesheet" type="text/css" href="../../../style.css" title="style" />
    <link rel="stylesheet" type="text/css" href="../style.css" title="style" />
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />

    <title>git-format-patch(1) - Linux manual page</title>
</head>

<body>

<div class="page-top"><a id="top_of_page"></a></div>
<!--%%%TOP_BAR%%%-->
    <div class="nav-bar">
        <table class="nav-table">
            <tr>
                <td class="nav-cell">
                    <p class="nav-text">
                        <a href="http://man7.org/index.html">man7.org</a> &gt; Linux &gt; <a href="../index.html">man-pages</a>
                    </p>
                </td>
                <td class="training-cell">
                    <p class="training-text"><a class="training-link" href="http://man7.org/training/">Linux/UNIX system programming training</a></p>
                </td>
            </tr>
        </table>
    </div>

<hr class="nav-end" />

<!--%%%PAGE_START%%%-->


<table class="sec-table">
<tr>
    <td>
        <p class="section-dir">
<a href="#NAME">NAME</a> | <a href="#SYNOPSIS">SYNOPSIS</a> | <a href="#DESCRIPTION">DESCRIPTION</a> | <a href="#OPTIONS">OPTIONS</a> | <a href="#CONFIGURATION">CONFIGURATION</a> | <a href="#DISCUSSION">DISCUSSION</a> | <a href="#MUA-SPECIFIC_HINTS">MUA-SPECIFIC&nbsp;HINTS</a> | <a href="#BASE_TREE_INFORMATION">BASE&nbsp;TREE&nbsp;INFORMATION</a> | <a href="#EXAMPLES">EXAMPLES</a> | <a href="#SEE_ALSO">SEE&nbsp;ALSO</a> | <a href="#GIT">GIT</a> | <a href="#COLOPHON">COLOPHON</a>
        </p>
    </td>
    <td class="search-box">
        <div class="man-search-box">

            <form method="get" action="http://www.google.com/search">
                <fieldset class="man-search">
                    <input type="text" name="q" size="10" maxlength="255" value="" />
                    <input type="hidden" name="sitesearch" value="man7.org/linux/man-pages" />
                    <input type="submit" name="sa" value="Search online pages" />
                </fieldset>
            </form>

        </div>
    </td>
    <td> </td>
</tr>
</table>

<pre>
<span class="headline">GIT-FORMAT-PATCH(1)              Git Manual              GIT-FORMAT-PATCH(1)</span>
</pre>
<h2><a id="NAME" href="#NAME"></a>NAME  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       git-format-patch - Prepare patches for e-mail submission
</pre>
<h2><a id="SYNOPSIS" href="#SYNOPSIS"></a>SYNOPSIS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <i>git format-patch</i> [-k] [(-o|--output-directory) &lt;dir&gt; | --stdout]
                          [--no-thread | --thread[=&lt;style&gt;]]
                          [(--attach|--inline)[=&lt;boundary&gt;] | --no-attach]
                          [-s | --signoff]
                          [--signature=&lt;signature&gt; | --no-signature]
                          [--signature-file=&lt;file&gt;]
                          [-n | --numbered | -N | --no-numbered]
                          [--start-number &lt;n&gt;] [--numbered-files]
                          [--in-reply-to=Message-Id] [--suffix=.&lt;sfx&gt;]
                          [--ignore-if-in-upstream]
                          [--rfc] [--subject-prefix=Subject-Prefix]
                          [(--reroll-count|-v) &lt;n&gt;]
                          [--to=&lt;email&gt;] [--cc=&lt;email&gt;]
                          [--[no-]cover-letter] [--quiet] [--notes[=&lt;ref&gt;]]
                          [&lt;common diff options&gt;]
                          [ &lt;since&gt; | &lt;revision range&gt; ]
</pre>
<h2><a id="DESCRIPTION" href="#DESCRIPTION"></a>DESCRIPTION  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       Prepare each commit with its patch in one file per commit, formatted
       to resemble UNIX mailbox format. The output of this command is
       convenient for e-mail submission or for use with <i>git am</i>.

       There are two ways to specify which commits to operate on.

        1. A single commit, &lt;since&gt;, specifies that the commits leading to
           the tip of the current branch that are not in the history that
           leads to the &lt;since&gt; to be output.

        2. Generic &lt;revision range&gt; expression (see "SPECIFYING REVISIONS"
           section in <a href="../man7/gitrevisions.7.html">gitrevisions(7)</a>) means the commits in the specified
           range.

       The first rule takes precedence in the case of a single &lt;commit&gt;. To
       apply the second rule, i.e., format everything since the beginning of
       history up until &lt;commit&gt;, use the <i>--root</i> option: <b>git format-patch</b>
       <b>--root &lt;commit&gt;</b>. If you want to format only &lt;commit&gt; itself, you can
       do this with <b>git format-patch -1 &lt;commit&gt;</b>.

       By default, each output file is numbered sequentially from 1, and
       uses the first line of the commit message (massaged for pathname
       safety) as the filename. With the <b>--numbered-files </b>option, the output
       file names will only be numbers, without the first line of the commit
       appended. The names of the output files are printed to standard
       output, unless the <b>--stdout </b>option is specified.

       If <b>-o </b>is specified, output files are created in &lt;dir&gt;. Otherwise they
       are created in the current working directory. The default path can be
       set with the <b>format.outputDirectory </b>configuration option. The <b>-o</b>
       option takes precedence over <b>format.outputDirectory</b>. To store patches
       in the current working directory even when <b>format.outputDirectory</b>
       points elsewhere, use <b>-o .</b>.

       By default, the subject of a single patch is "[PATCH] " followed by
       the concatenation of lines from the commit message up to the first
       blank line (see the DISCUSSION section of <a href="git-commit.1.html">git-commit(1)</a>).

       When multiple patches are output, the subject prefix will instead be
       "[PATCH n/m] ". To force 1/1 to be added for a single patch, use <b>-n</b>.
       To omit patch numbers from the subject, use <b>-N</b>.

       If given <b>--thread</b>, <b>git-format-patch </b>will generate <b>In-Reply-To </b>and
       <b>References </b>headers to make the second and subsequent patch mails
       appear as replies to the first mail; this also generates a <b>Message-Id</b>
       header to reference.
</pre>
<h2><a id="OPTIONS" href="#OPTIONS"></a>OPTIONS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       -p, --no-stat
           Generate plain patches without any diffstats.

       -U&lt;n&gt;, --unified=&lt;n&gt;
           Generate diffs with &lt;n&gt; lines of context instead of the usual
           three.

       --indent-heuristic, --no-indent-heuristic
           These are to help debugging and tuning experimental heuristics
           (which are off by default) that shift diff hunk boundaries to
           make patches easier to read.

       --minimal
           Spend extra time to make sure the smallest possible diff is
           produced.

       --patience
           Generate a diff using the "patience diff" algorithm.

       --histogram
           Generate a diff using the "histogram diff" algorithm.

       --diff-algorithm={patience|minimal|histogram|myers}
           Choose a diff algorithm. The variants are as follows:

           <b>default</b>, <b>myers</b>
               The basic greedy diff algorithm. Currently, this is the
               default.

           <b>minimal</b>
               Spend extra time to make sure the smallest possible diff is
               produced.

           <b>patience</b>
               Use "patience diff" algorithm when generating patches.

           <b>histogram</b>
               This algorithm extends the patience algorithm to "support
               low-occurrence common elements".

           For instance, if you configured diff.algorithm variable to a
           non-default value and want to use the default one, then you have
           to use <b>--diff-algorithm=default </b>option.

       --stat[=&lt;width&gt;[,&lt;name-width&gt;[,&lt;count&gt;]]]
           Generate a diffstat. By default, as much space as necessary will
           be used for the filename part, and the rest for the graph part.
           Maximum width defaults to terminal width, or 80 columns if not
           connected to a terminal, and can be overridden by <b>&lt;width&gt;</b>. The
           width of the filename part can be limited by giving another width
           <b>&lt;name-width&gt; </b>after a comma. The width of the graph part can be
           limited by using <b>--stat-graph-width=&lt;width&gt; </b>(affects all commands
           generating a stat graph) or by setting
           <b>diff.statGraphWidth=&lt;width&gt; </b>(does not affect <b>git format-patch</b>).
           By giving a third parameter <b>&lt;count&gt;</b>, you can limit the output to
           the first <b>&lt;count&gt; </b>lines, followed by <b>...  </b>if there are more.

           These parameters can also be set individually with
           <b>--stat-width=&lt;width&gt;</b>, <b>--stat-name-width=&lt;name-width&gt; </b>and
           <b>--stat-count=&lt;count&gt;</b>.

       --numstat
           Similar to <b>--stat</b>, but shows number of added and deleted lines in
           decimal notation and pathname without abbreviation, to make it
           more machine friendly. For binary files, outputs two <b>- </b>instead of
           saying <b>0 0</b>.

       --shortstat
           Output only the last line of the <b>--stat </b>format containing total
           number of modified files, as well as number of added and deleted
           lines.

       --dirstat[=&lt;param1,param2,...&gt;]
           Output the distribution of relative amount of changes for each
           sub-directory. The behavior of <b>--dirstat </b>can be customized by
           passing it a comma separated list of parameters. The defaults are
           controlled by the <b>diff.dirstat </b>configuration variable (see
           <a href="git-config.1.html">git-config(1)</a>). The following parameters are available:

           <b>changes</b>
               Compute the dirstat numbers by counting the lines that have
               been removed from the source, or added to the destination.
               This ignores the amount of pure code movements within a file.
               In other words, rearranging lines in a file is not counted as
               much as other changes. This is the default behavior when no
               parameter is given.

           <b>lines</b>
               Compute the dirstat numbers by doing the regular line-based
               diff analysis, and summing the removed/added line counts.
               (For binary files, count 64-byte chunks instead, since binary
               files have no natural concept of lines). This is a more
               expensive <b>--dirstat </b>behavior than the <b>changes </b>behavior, but
               it does count rearranged lines within a file as much as other
               changes. The resulting output is consistent with what you get
               from the other <b>--*stat </b>options.

           <b>files</b>
               Compute the dirstat numbers by counting the number of files
               changed. Each changed file counts equally in the dirstat
               analysis. This is the computationally cheapest <b>--dirstat</b>
               behavior, since it does not have to look at the file contents
               at all.

           <b>cumulative</b>
               Count changes in a child directory for the parent directory
               as well. Note that when using <b>cumulative</b>, the sum of the
               percentages reported may exceed 100%. The default
               (non-cumulative) behavior can be specified with the
               <b>noncumulative </b>parameter.

           &lt;limit&gt;
               An integer parameter specifies a cut-off percent (3% by
               default). Directories contributing less than this percentage
               of the changes are not shown in the output.

           Example: The following will count changed files, while ignoring
           directories with less than 10% of the total amount of changed
           files, and accumulating child directory counts in the parent
           directories: <b>--dirstat=files,10,cumulative</b>.

       --summary
           Output a condensed summary of extended header information such as
           creations, renames and mode changes.

       --no-renames
           Turn off rename detection, even when the configuration file gives
           the default to do so.

       --full-index
           Instead of the first handful of characters, show the full pre-
           and post-image blob object names on the "index" line when
           generating patch format output.

       --binary
           In addition to <b>--full-index</b>, output a binary diff that can be
           applied with <b>git-apply</b>.

       --abbrev[=&lt;n&gt;]
           Instead of showing the full 40-byte hexadecimal object name in
           diff-raw format output and diff-tree header lines, show only a
           partial prefix. This is independent of the <b>--full-index </b>option
           above, which controls the diff-patch output format. Non default
           number of digits can be specified with <b>--abbrev=&lt;n&gt;</b>.

       -B[&lt;n&gt;][/&lt;m&gt;], --break-rewrites[=[&lt;n&gt;][/&lt;m&gt;]]
           Break complete rewrite changes into pairs of delete and create.
           This serves two purposes:

           It affects the way a change that amounts to a total rewrite of a
           file not as a series of deletion and insertion mixed together
           with a very few lines that happen to match textually as the
           context, but as a single deletion of everything old followed by a
           single insertion of everything new, and the number <b>m </b>controls
           this aspect of the -B option (defaults to 60%).  <b>-B/70% </b>specifies
           that less than 30% of the original should remain in the result
           for Git to consider it a total rewrite (i.e. otherwise the
           resulting patch will be a series of deletion and insertion mixed
           together with context lines).

           When used with -M, a totally-rewritten file is also considered as
           the source of a rename (usually -M only considers a file that
           disappeared as the source of a rename), and the number <b>n </b>controls
           this aspect of the -B option (defaults to 50%).  <b>-B20% </b>specifies
           that a change with addition and deletion compared to 20% or more
           of the file’s size are eligible for being picked up as a possible
           source of a rename to another file.

       -M[&lt;n&gt;], --find-renames[=&lt;n&gt;]
           Detect renames. If <b>n </b>is specified, it is a threshold on the
           similarity index (i.e. amount of addition/deletions compared to
           the file’s size). For example, <b>-M90% </b>means Git should consider a
           delete/add pair to be a rename if more than 90% of the file
           hasn’t changed. Without a <b>% </b>sign, the number is to be read as a
           fraction, with a decimal point before it. I.e., <b>-M5 </b>becomes 0.5,
           and is thus the same as <b>-M50%</b>. Similarly, <b>-M05 </b>is the same as
           <b>-M5%</b>. To limit detection to exact renames, use <b>-M100%</b>. The
           default similarity index is 50%.

       -C[&lt;n&gt;], --find-copies[=&lt;n&gt;]
           Detect copies as well as renames. See also <b>--find-copies-harder</b>.
           If <b>n </b>is specified, it has the same meaning as for <b>-M&lt;n&gt;</b>.

       --find-copies-harder
           For performance reasons, by default, <b>-C </b>option finds copies only
           if the original file of the copy was modified in the same
           changeset. This flag makes the command inspect unmodified files
           as candidates for the source of copy. This is a very expensive
           operation for large projects, so use it with caution. Giving more
           than one <b>-C </b>option has the same effect.

       -D, --irreversible-delete
           Omit the preimage for deletes, i.e. print only the header but not
           the diff between the preimage and <b>/dev/null</b>. The resulting patch
           is not meant to be applied with <b>patch </b>or <b>git apply</b>; this is
           solely for people who want to just concentrate on reviewing the
           text after the change. In addition, the output obviously lack
           enough information to apply such a patch in reverse, even
           manually, hence the name of the option.

           When used together with <b>-B</b>, omit also the preimage in the
           deletion part of a delete/create pair.

       -l&lt;num&gt;
           The <b>-M </b>and <b>-C </b>options require O(n^2) processing time where n is
           the number of potential rename/copy targets. This option prevents
           rename/copy detection from running if the number of rename/copy
           targets exceeds the specified number.

       -O&lt;orderfile&gt;
           Control the order in which files appear in the output. This
           overrides the <b>diff.orderFile </b>configuration variable (see
           <a href="git-config.1.html">git-config(1)</a>). To cancel <b>diff.orderFile</b>, use <b>-O/dev/null</b>.

           The output order is determined by the order of glob patterns in
           &lt;orderfile&gt;. All files with pathnames that match the first
           pattern are output first, all files with pathnames that match the
           second pattern (but not the first) are output next, and so on.
           All files with pathnames that do not match any pattern are output
           last, as if there was an implicit match-all pattern at the end of
           the file. If multiple pathnames have the same rank (they match
           the same pattern but no earlier patterns), their output order
           relative to each other is the normal order.

           &lt;orderfile&gt; is parsed as follows:

           ·   Blank lines are ignored, so they can be used as separators
               for readability.

           ·   Lines starting with a hash ("<b>#</b>") are ignored, so they can be
               used for comments. Add a backslash ("<b>\</b>") to the beginning of
               the pattern if it starts with a hash.

           ·   Each other line contains a single pattern.

           Patterns have the same syntax and semantics as patterns used for
           fnmantch(3) without the FNM_PATHNAME flag, except a pathname also
           matches a pattern if removing any number of the final pathname
           components matches the pattern. For example, the pattern
           "<b>foo*bar</b>" matches "<b>fooasdfbar</b>" and "<b>foo/bar/baz/asdf</b>" but not
           "<b>foobarx</b>".

       -a, --text
           Treat all files as text.

       --ignore-space-at-eol
           Ignore changes in whitespace at EOL.

       -b, --ignore-space-change
           Ignore changes in amount of whitespace. This ignores whitespace
           at line end, and considers all other sequences of one or more
           whitespace characters to be equivalent.

       -w, --ignore-all-space
           Ignore whitespace when comparing lines. This ignores differences
           even if one line has whitespace where the other line has none.

       --ignore-blank-lines
           Ignore changes whose lines are all blank.

       --inter-hunk-context=&lt;lines&gt;
           Show the context between diff hunks, up to the specified number
           of lines, thereby fusing hunks that are close to each other.
           Defaults to <b>diff.interHunkContext </b>or 0 if the config option is
           unset.

       -W, --function-context
           Show whole surrounding functions of changes.

       --ext-diff
           Allow an external diff helper to be executed. If you set an
           external diff driver with <a href="../man5/gitattributes.5.html">gitattributes(5)</a>, you need to use this
           option with <a href="git-log.1.html">git-log(1)</a> and friends.

       --no-ext-diff
           Disallow external diff drivers.

       --textconv, --no-textconv
           Allow (or disallow) external text conversion filters to be run
           when comparing binary files. See <a href="../man5/gitattributes.5.html">gitattributes(5)</a> for details.
           Because textconv filters are typically a one-way conversion, the
           resulting diff is suitable for human consumption, but cannot be
           applied. For this reason, textconv filters are enabled by default
           only for <a href="git-diff.1.html">git-diff(1)</a> and <a href="git-log.1.html">git-log(1)</a>, but not for
           <a href="git-format-patch.1.html">git-format-patch(1)</a> or diff plumbing commands.

       --ignore-submodules[=&lt;when&gt;]
           Ignore changes to submodules in the diff generation. &lt;when&gt; can
           be either "none", "untracked", "dirty" or "all", which is the
           default. Using "none" will consider the submodule modified when
           it either contains untracked or modified files or its HEAD
           differs from the commit recorded in the superproject and can be
           used to override any settings of the <i>ignore</i> option in
           <a href="git-config.1.html">git-config(1)</a> or <a href="../man5/gitmodules.5.html">gitmodules(5)</a>. When "untracked" is used
           submodules are not considered dirty when they only contain
           untracked content (but they are still scanned for modified
           content). Using "dirty" ignores all changes to the work tree of
           submodules, only changes to the commits stored in the
           superproject are shown (this was the behavior until 1.7.0). Using
           "all" hides all changes to submodules.

       --src-prefix=&lt;prefix&gt;
           Show the given source prefix instead of "a/".

       --dst-prefix=&lt;prefix&gt;
           Show the given destination prefix instead of "b/".

       --no-prefix
           Do not show any source or destination prefix.

       --line-prefix=&lt;prefix&gt;
           Prepend an additional prefix to every line of output.

       --ita-invisible-in-index
           By default entries added by "git add -N" appear as an existing
           empty file in "git diff" and a new file in "git diff --cached".
           This option makes the entry appear as a new file in "git diff"
           and non-existent in "git diff --cached". This option could be
           reverted with <b>--ita-visible-in-index</b>. Both options are
           experimental and could be removed in future.

       For more detailed explanation on these common options, see also
       <a href="../man7/gitdiffcore.7.html">gitdiffcore(7)</a>.

       -&lt;n&gt;
           Prepare patches from the topmost &lt;n&gt; commits.

       -o &lt;dir&gt;, --output-directory &lt;dir&gt;
           Use &lt;dir&gt; to store the resulting files, instead of the current
           working directory.

       -n, --numbered
           Name output in <i>[PATCH n/m]</i> format, even with a single patch.

       -N, --no-numbered
           Name output in <i>[PATCH]</i> format.

       --start-number &lt;n&gt;
           Start numbering the patches at &lt;n&gt; instead of 1.

       --numbered-files
           Output file names will be a simple number sequence without the
           default first line of the commit appended.

       -k, --keep-subject
           Do not strip/add <i>[PATCH]</i> from the first line of the commit log
           message.

       -s, --signoff
           Add <b>Signed-off-by: </b>line to the commit message, using the
           committer identity of yourself. See the signoff option in
           <a href="git-commit.1.html">git-commit(1)</a> for more information.

       --stdout
           Print all commits to the standard output in mbox format, instead
           of creating a file for each one.

       --attach[=&lt;boundary&gt;]
           Create multipart/mixed attachment, the first part of which is the
           commit message and the patch itself in the second part, with
           <b>Content-Disposition: attachment</b>.

       --no-attach
           Disable the creation of an attachment, overriding the
           configuration setting.

       --inline[=&lt;boundary&gt;]
           Create multipart/mixed attachment, the first part of which is the
           commit message and the patch itself in the second part, with
           <b>Content-Disposition: inline</b>.

       --thread[=&lt;style&gt;], --no-thread
           Controls addition of <b>In-Reply-To </b>and <b>References </b>headers to make
           the second and subsequent mails appear as replies to the first.
           Also controls generation of the <b>Message-Id </b>header to reference.

           The optional &lt;style&gt; argument can be either <b>shallow </b>or <b>deep</b>.
           <i>shallow</i> threading makes every mail a reply to the head of the
           series, where the head is chosen from the cover letter, the
           <b>--in-reply-to</b>, and the first patch mail, in this order.  <i>deep</i>
           threading makes every mail a reply to the previous one.

           The default is <b>--no-thread</b>, unless the <b>format.thread</b>
           configuration is set. If <b>--thread </b>is specified without a style,
           it defaults to the style specified by <b>format.thread </b>if any, or
           else <b>shallow</b>.

           Beware that the default for <i>git send-email</i> is to thread emails
           itself. If you want <b>git format-patch </b>to take care of threading,
           you will want to ensure that threading is disabled for <b>git</b>
           <b>send-email</b>.

       --in-reply-to=Message-Id
           Make the first mail (or all the mails with <b>--no-thread</b>) appear as
           a reply to the given Message-Id, which avoids breaking threads to
           provide a new patch series.

       --ignore-if-in-upstream
           Do not include a patch that matches a commit in &lt;until&gt;..&lt;since&gt;.
           This will examine all patches reachable from &lt;since&gt; but not from
           &lt;until&gt; and compare them with the patches being generated, and
           any patch that matches is ignored.

       --subject-prefix=&lt;Subject-Prefix&gt;
           Instead of the standard <i>[PATCH]</i> prefix in the subject line,
           instead use <i>[&lt;Subject-Prefix&gt;]</i>. This allows for useful naming of
           a patch series, and can be combined with the <b>--numbered </b>option.

       --rfc
           Alias for <b>--subject-prefix="RFC PATCH"</b>. RFC means "Request For
           Comments"; use this when sending an experimental patch for
           discussion rather than application.

       -v &lt;n&gt;, --reroll-count=&lt;n&gt;
           Mark the series as the &lt;n&gt;-th iteration of the topic. The output
           filenames have <b>v&lt;n&gt; </b>prepended to them, and the subject prefix
           ("PATCH" by default, but configurable via the <b>--subject-prefix</b>
           option) has ` v&lt;n&gt;` appended to it. E.g.  <b>--reroll-count=4 </b>may
           produce <b>v4-0001-add-makefile.patch </b>file that has "Subject: [PATCH
           v4 1/20] Add makefile" in it.

       --to=&lt;email&gt;
           Add a <b>To: </b>header to the email headers. This is in addition to any
           configured headers, and may be used multiple times. The negated
           form <b>--no-to </b>discards all <b>To: </b>headers added so far (from config
           or command line).

       --cc=&lt;email&gt;
           Add a <b>Cc: </b>header to the email headers. This is in addition to any
           configured headers, and may be used multiple times. The negated
           form <b>--no-cc </b>discards all <b>Cc: </b>headers added so far (from config
           or command line).

       --from, --from=&lt;ident&gt;
           Use <b>ident </b>in the <b>From: </b>header of each commit email. If the author
           ident of the commit is not textually identical to the provided
           <b>ident</b>, place a <b>From: </b>header in the body of the message with the
           original author. If no <b>ident </b>is given, use the committer ident.

           Note that this option is only useful if you are actually sending
           the emails and want to identify yourself as the sender, but
           retain the original author (and <b>git am </b>will correctly pick up the
           in-body header). Note also that <b>git send-email </b>already handles
           this transformation for you, and this option should not be used
           if you are feeding the result to <b>git send-email</b>.

       --add-header=&lt;header&gt;
           Add an arbitrary header to the email headers. This is in addition
           to any configured headers, and may be used multiple times. For
           example, <b>--add-header="Organization: git-foo"</b>. The negated form
           <b>--no-add-header </b>discards <b>all </b>(<b>To:</b>, <b>Cc:</b>, and custom) headers added
           so far from config or command line.

       --[no-]cover-letter
           In addition to the patches, generate a cover letter file
           containing the branch description, shortlog and the overall
           diffstat. You can fill in a description in the file before
           sending it out.

       --notes[=&lt;ref&gt;]
           Append the notes (see <a href="git-notes.1.html">git-notes(1)</a>) for the commit after the
           three-dash line.

           The expected use case of this is to write supporting explanation
           for the commit that does not belong to the commit log message
           proper, and include it with the patch submission. While one can
           simply write these explanations after <b>format-patch </b>has run but
           before sending, keeping them as Git notes allows them to be
           maintained between versions of the patch series (but see the
           discussion of the <b>notes.rewrite </b>configuration options in
           <a href="git-notes.1.html">git-notes(1)</a> to use this workflow).

       --[no-]signature=&lt;signature&gt;
           Add a signature to each message produced. Per RFC 3676 the
           signature is separated from the body by a line with '-- ' on it.
           If the signature option is omitted the signature defaults to the
           Git version number.

       --signature-file=&lt;file&gt;
           Works just like --signature except the signature is read from a
           file.

       --suffix=.&lt;sfx&gt;
           Instead of using <b>.patch </b>as the suffix for generated filenames,
           use specified suffix. A common alternative is <b>--suffix=.txt</b>.
           Leaving this empty will remove the <b>.patch </b>suffix.

           Note that the leading character does not have to be a dot; for
           example, you can use <b>--suffix=-patch </b>to get
           <b>0001-description-of-my-change-patch</b>.

       -q, --quiet
           Do not print the names of the generated files to standard output.

       --no-binary
           Do not output contents of changes in binary files, instead
           display a notice that those files changed. Patches generated
           using this option cannot be applied properly, but they are still
           useful for code review.

       --zero-commit
           Output an all-zero hash in each patch’s From header instead of
           the hash of the commit.

       --base=&lt;commit&gt;
           Record the base tree information to identify the state the patch
           series applies to. See the BASE TREE INFORMATION section below
           for details.

       --root
           Treat the revision argument as a &lt;revision range&gt;, even if it is
           just a single commit (that would normally be treated as a
           &lt;since&gt;). Note that root commits included in the specified range
           are always formatted as creation patches, independently of this
           flag.
</pre>
<h2><a id="CONFIGURATION" href="#CONFIGURATION"></a>CONFIGURATION  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       You can specify extra mail header lines to be added to each message,
       defaults for the subject prefix and file suffix, number patches when
       outputting more than one patch, add "To" or "Cc:" headers, configure
       attachments, and sign off patches with configuration variables.

           [format]
                   headers = "Organization: git-foo\n"
                   subjectPrefix = CHANGE
                   suffix = .txt
                   numbered = auto
                   to = &lt;email&gt;
                   cc = &lt;email&gt;
                   attach [ = mime-boundary-string ]
                   signOff = true
                   coverletter = auto
</pre>
<h2><a id="DISCUSSION" href="#DISCUSSION"></a>DISCUSSION  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The patch produced by <i>git format-patch</i> is in UNIX mailbox format,
       with a fixed "magic" time stamp to indicate that the file is output
       from format-patch rather than a real mailbox, like so:

           From 8f72bad1baf19a53459661343e21d6491c3908d3 Mon Sep 17 00:00:00 2001
           From: Tony Luck &lt;tony.luck@intel.com&gt;
           Date: Tue, 13 Jul 2010 11:42:54 -0700
           Subject: [PATCH] =?UTF-8?q?[IA64]=20Put=20ia64=20config=20files=20on=20the=20?=
            =?UTF-8?q?Uwe=20Kleine-K=C3=B6nig=20diet?=
           MIME-Version: 1.0
           Content-Type: text/plain; charset=UTF-8
           Content-Transfer-Encoding: 8bit

           arch/arm config files were slimmed down using a python script
           (See commit c2330e286f68f1c408b4aa6515ba49d57f05beae comment)

           Do the same for ia64 so we can have sleek &amp; trim looking
           ...

       Typically it will be placed in a MUA’s drafts folder, edited to add
       timely commentary that should not go in the changelog after the three
       dashes, and then sent as a message whose body, in our example, starts
       with "arch/arm config files were...". On the receiving end, readers
       can save interesting patches in a UNIX mailbox and apply them with
       <a href="git-am.1.html">git-am(1)</a>.

       When a patch is part of an ongoing discussion, the patch generated by
       <i>git format-patch</i> can be tweaked to take advantage of the <i>git am</i>
       <i>--scissors</i> feature. After your response to the discussion comes a
       line that consists solely of "<b>-- &gt;8 --</b>" (scissors and perforation),
       followed by the patch with unnecessary header fields removed:

           ...
           &gt; So we should do such-and-such.

           Makes sense to me.  How about this patch?

           -- &gt;8 --
           Subject: [IA64] Put ia64 config files on the Uwe Kleine-König diet

           arch/arm config files were slimmed down using a python script
           ...

       When sending a patch this way, most often you are sending your own
       patch, so in addition to the "<b>From $SHA1 $magic_timestamp</b>" marker you
       should omit <b>From: </b>and <b>Date: </b>lines from the patch file. The patch
       title is likely to be different from the subject of the discussion
       the patch is in response to, so it is likely that you would want to
       keep the Subject: line, like the example above.

   <b>Checking for patch corruption</b>
       Many mailers if not set up properly will corrupt whitespace. Here are
       two common types of corruption:

       ·   Empty context lines that do not have <i>any</i> whitespace.

       ·   Non-empty context lines that have one extra whitespace at the
           beginning.

       One way to test if your MUA is set up correctly is:

       ·   Send the patch to yourself, exactly the way you would, except
           with To: and Cc: lines that do not contain the list and
           maintainer address.

       ·   Save that patch to a file in UNIX mailbox format. Call it
           a.patch, say.

       ·   Apply it:

               $ git fetch &lt;project&gt; master:test-apply
               $ git checkout test-apply
               $ git reset --hard
               $ git am a.patch

       If it does not apply correctly, there can be various reasons.

       ·   The patch itself does not apply cleanly. That is <i>bad</i> but does not
           have much to do with your MUA. You might want to rebase the patch
           with <a href="git-rebase.1.html">git-rebase(1)</a> before regenerating it in this case.

       ·   The MUA corrupted your patch; "am" would complain that the patch
           does not apply. Look in the .git/rebase-apply/ subdirectory and
           see what <i>patch</i> file contains and check for the common corruption
           patterns mentioned above.

       ·   While at it, check the <i>info</i> and <i>final-commit</i> files as well. If
           what is in <i>final-commit</i> is not exactly what you would want to see
           in the commit log message, it is very likely that the receiver
           would end up hand editing the log message when applying your
           patch. Things like "Hi, this is my first patch.\n" in the patch
           e-mail should come after the three-dash line that signals the end
           of the commit message.
</pre>
<h2><a id="MUA-SPECIFIC_HINTS" href="#MUA-SPECIFIC_HINTS"></a>MUA-SPECIFIC HINTS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       Here are some hints on how to successfully submit patches inline
       using various mailers.

   <b>GMail</b>
       GMail does not have any way to turn off line wrapping in the web
       interface, so it will mangle any emails that you send. You can
       however use "git send-email" and send your patches through the GMail
       SMTP server, or use any IMAP email client to connect to the google
       IMAP server and forward the emails through that.

       For hints on using <i>git send-email</i> to send your patches through the
       GMail SMTP server, see the EXAMPLE section of <a href="git-send-email.1.html">git-send-email(1)</a>.

       For hints on submission using the IMAP interface, see the EXAMPLE
       section of <a href="git-imap-send.1.html">git-imap-send(1)</a>.

   <b>Thunderbird</b>
       By default, Thunderbird will both wrap emails as well as flag them as
       being <i>format=flowed</i>, both of which will make the resulting email
       unusable by Git.

       There are three different approaches: use an add-on to turn off line
       wraps, configure Thunderbird to not mangle patches, or use an
       external editor to keep Thunderbird from mangling the patches.

       <b>Approach #1 (add-on)</b>
           Install the Toggle Word Wrap add-on that is available from
           <b>https://addons.mozilla.org/thunderbird/addon/toggle-word-wrap/ </b><b></b>It
           adds a menu entry "Enable Word Wrap" in the composer’s "Options"
           menu that you can tick off. Now you can compose the message as
           you otherwise do (cut + paste, <i>git format-patch</i> | <i>git imap-send</i>,
           etc), but you have to insert line breaks manually in any text
           that you type.

       <b>Approach #2 (configuration)</b>
           Three steps:

            1. Configure your mail server composition as plain text:
               Edit...Account Settings...Composition &amp; Addressing, uncheck
               "Compose Messages in HTML".

            2. Configure your general composition window to not wrap.

               In Thunderbird 2: Edit..Preferences..Composition, wrap plain
               text messages at 0

               In Thunderbird 3: Edit..Preferences..Advanced..Config Editor.
               Search for "mail.wrap_long_lines". Toggle it to make sure it
               is set to <b>false</b>. Also, search for "mailnews.wraplength" and
               set the value to 0.

            3. Disable the use of format=flowed:
               Edit..Preferences..Advanced..Config Editor. Search for
               "mailnews.send_plaintext_flowed". Toggle it to make sure it
               is set to <b>false</b>.

           After that is done, you should be able to compose email as you
           otherwise would (cut + paste, <i>git format-patch</i> | <i>git imap-send</i>,
           etc), and the patches will not be mangled.

       <b>Approach #3 (external editor)</b>
           The following Thunderbird extensions are needed: AboutConfig from
           <b>http://aboutconfig.mozdev.org/ </b><b></b>and External Editor from
           <b><a href="http://globs.org/articles.php?lng=en&amp;pg=8">http://globs.org/articles.php?lng=en&amp;pg=8</a> </b>

            1. Prepare the patch as a text file using your method of choice.

            2. Before opening a compose window, use Edit→Account Settings to
               uncheck the "Compose messages in HTML format" setting in the
               "Composition &amp; Addressing" panel of the account to be used to
               send the patch.

            3. In the main Thunderbird window, <i>before</i> you open the compose
               window for the patch, use Tools→about:config to set the
               following to the indicated values:

                           mailnews.send_plaintext_flowed  =&gt; false
                           mailnews.wraplength             =&gt; 0

            4. Open a compose window and click the external editor icon.

            5. In the external editor window, read in the patch file and
               exit the editor normally.

           Side note: it may be possible to do step 2 with about:config and
           the following settings but no one’s tried yet.

                       mail.html_compose                       =&gt; false
                       mail.identity.default.compose_html      =&gt; false
                       mail.identity.id?.compose_html          =&gt; false

           There is a script in contrib/thunderbird-patch-inline which can
           help you include patches with Thunderbird in an easy way. To use
           it, do the steps above and then use the script as the external
           editor.

   <b>KMail</b>
       This should help you to submit patches inline using KMail.

        1. Prepare the patch as a text file.

        2. Click on New Mail.

        3. Go under "Options" in the Composer window and be sure that "Word
           wrap" is not set.

        4. Use Message → Insert file... and insert the patch.

        5. Back in the compose window: add whatever other text you wish to
           the message, complete the addressing and subject fields, and
           press send.
</pre>
<h2><a id="BASE_TREE_INFORMATION" href="#BASE_TREE_INFORMATION"></a>BASE TREE INFORMATION  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The base tree information block is used for maintainers or third
       party testers to know the exact state the patch series applies to. It
       consists of the <i>base commit</i>, which is a well-known commit that is
       part of the stable part of the project history everybody else works
       off of, and zero or more <i>prerequisite patches</i>, which are well-known
       patches in flight that is not yet part of the <i>base commit</i> that need
       to be applied on top of <i>base commit</i> in topological order before the
       patches can be applied.

       The <i>base commit</i> is shown as "base-commit: " followed by the 40-hex of
       the commit object name. A <i>prerequisite patch</i> is shown as
       "prerequisite-patch-id: " followed by the 40-hex <i>patch id</i>, which can
       be obtained by passing the patch through the <b>git patch-id --stable</b>
       command.

       Imagine that on top of the public commit P, you applied well-known
       patches X, Y and Z from somebody else, and then built your
       three-patch series A, B, C, the history would be like:

           ---P---X---Y---Z---A---B---C

       With <b>git format-patch --base=P -3 C </b>(or variants thereof, e.g. with
       <b>--cover-letter </b>or using <b>Z..C </b>instead of <b>-3 C </b>to specify the range),
       the base tree information block is shown at the end of the first
       message the command outputs (either the first patch, or the cover
       letter), like this:

           base-commit: P
           prerequisite-patch-id: X
           prerequisite-patch-id: Y
           prerequisite-patch-id: Z

       For non-linear topology, such as

           ---P---X---A---M---C
               \         /
                Y---Z---B

       You can also use <b>git format-patch --base=P -3 C </b>to generate patches
       for A, B and C, and the identifiers for P, X, Y, Z are appended at
       the end of the first message.

       If set <b>--base=auto </b>in cmdline, it will track base commit
       automatically, the base commit will be the merge base of tip commit
       of the remote-tracking branch and revision-range specified in
       cmdline. For a local branch, you need to track a remote branch by <b>git</b>
       <b>branch --set-upstream-to </b>before using this option.
</pre>
<h2><a id="EXAMPLES" href="#EXAMPLES"></a>EXAMPLES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       ·   Extract commits between revisions R1 and R2, and apply them on
           top of the current branch using <i>git am</i> to cherry-pick them:

               $ git format-patch -k --stdout R1..R2 | git am -3 -k

       ·   Extract all commits which are in the current branch but not in
           the origin branch:

               $ git format-patch origin

           For each commit a separate file is created in the current
           directory.

       ·   Extract all commits that lead to <i>origin</i> since the inception of
           the project:

               $ git format-patch --root origin

       ·   The same as the previous one:

               $ git format-patch -M -B origin

           Additionally, it detects and handles renames and complete
           rewrites intelligently to produce a renaming patch. A renaming
           patch reduces the amount of text output, and generally makes it
           easier to review. Note that non-Git "patch" programs won’t
           understand renaming patches, so use it only when you know the
           recipient uses Git to apply your patch.

       ·   Extract three topmost commits from the current branch and format
           them as e-mailable patches:

               $ git format-patch -3
</pre>
<h2><a id="SEE_ALSO" href="#SEE_ALSO"></a>SEE ALSO  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <a href="git-am.1.html">git-am(1)</a>, <a href="git-send-email.1.html">git-send-email(1)</a>
</pre>
<h2><a id="GIT" href="#GIT"></a>GIT  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       Part of the <a href="git.1.html">git(1)</a> suite
</pre>
<h2><a id="COLOPHON" href="#COLOPHON"></a>COLOPHON  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       This page is part of the <i>git</i> (Git distributed version control system)
       project.  Information about the project can be found at 
       ⟨<a href="http://git-scm.com/">http://git-scm.com/</a>⟩.  If you have a bug report for this manual page,
       see ⟨<a href="http://git-scm.com/community">http://git-scm.com/community</a>⟩.  This page was obtained from the
       project's upstream Git repository ⟨<a href="https://github.com/git/git.git">https://github.com/git/git.git</a>⟩ on
       2017-07-05.  If you discover any rendering problems in this HTML ver‐
       sion of the page, or you believe there is a better or more up-to-date
       source for the page, or you have corrections or improvements to the
       information in this COLOPHON (which is <i>not</i> part of the original man‐
       ual page), send a mail to man-pages@man7.org

<span class="footline">Git 2.13.0.rc0.45.ge             04/24/2017              GIT-FORMAT-PATCH(1)</span>
</pre>

<hr class="end-man-text" />
<p>Pages that refer to this page: 
    <a href="git.1.html">git(1)</a>,&nbsp; 
    <a href="git-apply.1.html">git-apply(1)</a>,&nbsp; 
    <a href="git-commit.1.html">git-commit(1)</a>,&nbsp; 
    <a href="git-config.1.html">git-config(1)</a>,&nbsp; 
    <a href="git-diff.1.html">git-diff(1)</a>,&nbsp; 
    <a href="git-diff-files.1.html">git-diff-files(1)</a>,&nbsp; 
    <a href="git-diff-index.1.html">git-diff-index(1)</a>,&nbsp; 
    <a href="git-diff-tree.1.html">git-diff-tree(1)</a>,&nbsp; 
    <a href="git-format-patch.1.html">git-format-patch(1)</a>,&nbsp; 
    <a href="git-imap-send.1.html">git-imap-send(1)</a>,&nbsp; 
    <a href="git-interpret-trailers.1.html">git-interpret-trailers(1)</a>,&nbsp; 
    <a href="git-log.1.html">git-log(1)</a>,&nbsp; 
    <a href="git-send-email.1.html">git-send-email(1)</a>,&nbsp; 
    <a href="git-show.1.html">git-show(1)</a>,&nbsp; 
    <a href="../man5/gitweb.conf.5.html">gitweb.conf(5)</a>,&nbsp; 
    <a href="../man7/gitdiffcore.7.html">gitdiffcore(7)</a>,&nbsp; 
    <a href="../man7/giteveryday.7.html">giteveryday(7)</a>,&nbsp; 
    <a href="../man7/gittutorial.7.html">gittutorial(7)</a>,&nbsp; 
    <a href="../man7/gitworkflows.7.html">gitworkflows(7)</a>
</p>
<hr/>

 
<hr class="start-footer" />

<div class="footer"> 

<table class="colophon-table">
    <tr>
    <td class="pub-info">
        <p>
            HTML rendering created 2017-07-13
            by <a href="http://man7.org/mtk/index.html">Michael Kerrisk</a>, 
            author of 
            <a href="http://man7.org/tlpi/"><em>The Linux Programming Interface</em></a>, 
            maintainer of the 
            <a href="https://www.kernel.org/doc/man-pages/">Linux <em>man-pages</em> project</a>.
        </p>
        <p>
            For details of in-depth
            <strong>Linux/UNIX system programming training courses</strong>
            that I teach, look <a href="http://man7.org/training/">here</a>.
        </p>
        <p>
            Hosting by <a href="http://www.jambit.com/index_en.html">jambit GmbH</a>.
        </p>
        <p>
            <a href="http://validator.w3.org/check?uri=referer">
            <img src="http://www.w3.org/Icons/valid-xhtml11"
                alt="Valid XHTML 1.1" height="31" width="88" />
            </a>
        </p>
    </td>
    <td class="colophon-divider">
    </td>
    <td class="tlpi-cover">
        <a href="http://man7.org/tlpi/"><img src="../../../tlpi/cover/TLPI-front-cover-vsmall.png" alt="Cover of TLPI" /></a>
    </td>
    </tr>
</table>

</div>

<hr class="end-footer" />



<!--BEGIN-SITETRACKING-->
<!-- SITETRACKING.man7.org_linux_man-pages -->

<!-- Start of StatCounter Code (xhtml) -->

<script type="text/javascript">
//<![CDATA[
var sc_project=7422636; 
var sc_invisible=1; 
var sc_security="9b6714ff"; 
//]]>
</script>
<script type="text/javascript"
src="../../../../www.statcounter.com/counter/counter_xhtml.js"></script>
<noscript><div class="statcounter"><a title="website
statistics" href="http://statcounter.com/"
class="statcounter"><img class="statcounter"
src="http://c.statcounter.com/7422636/0/9b6714ff/1/"
alt="website statistics" /></a></div></noscript>

<!-- End of StatCounter Code -->


<!-- Start of Google Analytics Code -->

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-9830363-8']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<!-- End of Google Analytics Code -->

<!--END-SITETRACKING-->

</body>
</html>
