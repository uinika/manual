
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
        "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <link rel="stylesheet" type="text/css" href="../../../style.css" title="style" />
    <link rel="stylesheet" type="text/css" href="../style.css" title="style" />
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />

    <title>tapestat(1) - Linux manual page</title>
</head>

<body>

<div class="page-top"><a id="top_of_page"></a></div>
<!--%%%TOP_BAR%%%-->
    <div class="nav-bar">
        <table class="nav-table">
            <tr>
                <td class="nav-cell">
                    <p class="nav-text">
                        <a href="http://man7.org/index.html">man7.org</a> &gt; Linux &gt; <a href="../index.html">man-pages</a>
                    </p>
                </td>
                <td class="training-cell">
                    <p class="training-text"><a class="training-link" href="http://man7.org/training/">Linux/UNIX system programming training</a></p>
                </td>
            </tr>
        </table>
    </div>

<hr class="nav-end" />

<!--%%%PAGE_START%%%-->


<table class="sec-table">
<tr>
    <td>
        <p class="section-dir">
<a href="#NAME">NAME</a> | <a href="#SYNOPSIS">SYNOPSIS</a> | <a href="#DESCRIPTION">DESCRIPTION</a> | <a href="#REPORT">REPORT</a> | <a href="#OPTIONS">OPTIONS</a> | <a href="#CONSIDERATIONS">CONSIDERATIONS</a> | <a href="#ENVIRONMENT">ENVIRONMENT</a> | <a href="#BUGS">BUGS</a> | <a href="#FILES">FILES</a> | <a href="#AUTHOR">AUTHOR</a> | <a href="#SEE_ALSO">SEE&nbsp;ALSO</a> | <a href="#COLOPHON">COLOPHON</a>
        </p>
    </td>
    <td class="search-box">
        <div class="man-search-box">

            <form method="get" action="http://www.google.com/search">
                <fieldset class="man-search">
                    <input type="text" name="q" size="10" maxlength="255" value="" />
                    <input type="hidden" name="sitesearch" value="man7.org/linux/man-pages" />
                    <input type="submit" name="sa" value="Search online pages" />
                </fieldset>
            </form>

        </div>
    </td>
    <td> </td>
</tr>
</table>

<pre>
<span class="headline">TAPESTAT(1)                  Linux User's Manual                 TAPESTAT(1)</span>
</pre>
<h2><a id="NAME" href="#NAME"></a>NAME  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       tapestat - Report tape statistics.
</pre>
<h2><a id="SYNOPSIS" href="#SYNOPSIS"></a>SYNOPSIS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <b>tapestat [ -k | -m ] [ -t ] [ -V ] [ -y ] [ -z ] [ --human ] [</b>
       <i>interval</i> <b>[ </b><i>count</i> <b>] ]</b>
</pre>
<h2><a id="DESCRIPTION" href="#DESCRIPTION"></a>DESCRIPTION  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The <b>tapestat </b>command is used for monitoring the activity of tape
       drives connected to a system.

       The first report generated by the <b>tapestat </b>command provides
       statistics concerning the time since the system was booted, unless
       the <b>-y </b>option is used, when this first report is omitted.  Each
       subsequent report covers the time since the previous report.

       The <i>interval</i> parameter specifies the amount of time in seconds
       between each report.  The <i>count</i> parameter can be specified in
       conjunction with the <i>interval</i> parameter. If the <i>count</i> parameter is
       specified, the value of <i>count</i> determines the number of reports
       generated at <i>interval</i> seconds apart. If the <i>interval</i> parameter is
       specified without the <i>count</i> parameter, the <b>tapestat </b>command generates
       reports continuously.
</pre>
<h2><a id="REPORT" href="#REPORT"></a>REPORT  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The <b>tapestat </b>report provides statistics for each tape drive connected
       to the system.  The following data are displayed:

       <b>r/s</b>
              The number of reads issued expressed as the number per second
              averaged over the interval.

       <b>w/s</b>
              The number of writes issued expressed as the number per second
              averaged over the interval.

       <b>kB_read/s | MB_read/s</b>
              The amount of data read expressed in kilobytes (by default or
              if option -k used) or megabytes (if option -m used) per second
              averaged over the interval.

       <b>kB_wrtn/s | MB_wrtn/s</b>
              The amount of data written expressed in kilobytes (by default
              or if option -k used) or megabytes (if option -m used) per
              second averaged over the interval.

       <b>%Rd</b>
              Read percentage wait - The percentage of time over the
              interval spent waiting for read requests to complete.  The
              time is measured from when the request is dispatched to the
              SCSI mid-layer until it signals that it completed.

       <b>%Wr</b>
              Write percentage wait - The percentage of time over the
              interval spent waiting for write requests to complete. The
              time is measured from when the request is dispatched to the
              SCSI mid-layer until it signals that it completed.

       <b>%Oa</b>
              Overall percentage wait - The percentage of time over the
              interval spent waiting for any I/O request to complete (read,
              write, and other).

       <b>Rs/s</b>
              The number of I/Os, expressed as the number per second
              averaged over the interval, where a non-zero residual value
              was encountered.

       <b>Ot/s</b>
              The number of I/Os, expressed as the number per second
              averaged over the interval, that were included as "other".
              Other I/O includes ioctl calls made to the tape driver and
              implicit operations performed by the tape driver such as
              rewind on close (for tape devices that implement rewind on
              close). It does not include any I/O performed using methods
              outside of the tape driver (e.g. via sg ioctls).
</pre>
<h2><a id="OPTIONS" href="#OPTIONS"></a>OPTIONS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       --human
              Print sizes in human readable format (e.g. 1k, 1.23M, etc.)
              The units displayed with this option supersede any other
              default units (e.g.  kilobytes, sectors...) associated with
              the metrics.

       -k     Show the amount of data written or read in kilobytes per
              second instead of megabytes.  This option is mutually
              exclusive with -m.

       -m     Show the amount of data written or read in megabytes per
              second instead of kilobytes.  This option is mutually
              exclusive with -k.

       -t     Display time stamps. The time stamp format may depend on the
              value of the S_TIME_FORMAT environment variable (see below).

       -V     Print version and exit.

       -y     Omit the initial statistic showing values since boot.

       -z     Tell <b>tapestat </b>to omit output for any tapes for which there was
              no activity during the sample period.
</pre>
<h2><a id="CONSIDERATIONS" href="#CONSIDERATIONS"></a>CONSIDERATIONS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       It is possible for a percentage value (read, write, or other) to be
       greater than 100 percent (the <b>tapestat </b>command will never show a
       percentage value more than 999).  If rewinding a tape takes 40
       seconds where the interval time is 5 seconds the %Oa value would show
       as 0 in the intervals before the rewind completed and then show as
       approximately 800 percent when the rewind completes.

       Similar values will be observed for %Rd and %Wr if a tape drive stops
       reading or writing and then restarts (that is it stopped streaming).
       In such a case you may see the r/s or w/s drop to zero and the
       %Rd/%Wr value could be higher than 100 when reading or writing
       continues (depending on how long it takes to restart writing or
       reading).  This is only an issue if it happens a lot as it may cause
       tape wear and will impact on the backup times.

       For fast tape drives you may see low percentage wait times.  This
       does not indicate an issue with the tape drive. For a slower tape
       drive (e.g. an older generation DDS drive) the speed of the tape (and
       tape drive) is much slower than filesystem I/O, percent wait times
       are likely to be higher. For faster tape drives (e.g. LTO) the
       percentage wait times are likely to be lower as program writing to or
       reading from tape is going to be doing a lot more filesystem I/O
       because of the higher throughput.

       Although tape statistics are implemented in the kernel using atomic
       variables they cannot be read atomically as a group. All of the
       statistics values are read from different files under /sys, because
       of this there may be I/O completions while reading the different
       files for the one tape drive. This may result in a set of statistics
       for a device that contain some values before an I/O completed and
       some after.

       This command uses rounding down as the rounding method when
       calculating per second statistics.  If, for example, you are using dd
       to copy one tape to another and running <b>tapestat </b>with an interval of
       5 seconds and over the interval there were 3210 writes and 3209 reads
       then w/s would show 642 and r/s 641 (641.8 rounded down to 641). In
       such a case if it was a tar archive being copied (with a 10k block
       size) you would also see a difference between the kB_read/s and
       kB_wrtn/s of 2 (one I/O 10k in size divided by the interval period of
       5 seconds). If instead there were 3210 writes and 3211 reads both w/s
       and r/s would both show 642 but you would still see a difference
       between the kB_read/s and kB_wrtn/s values of 2 kB/s.

       This command is provided with an interval in seconds. However
       internally the interval is tracked per device and can potentially
       have an effect on the per second statistics reported.  The time each
       set of statistics is captured is kept with those statistics. The
       difference between the current and previous time is converted to
       milliseconds for use in calculations.  We can look at how this can
       impact the statistics reported if we use an example of a tar archive
       being copied between two tape drives using dd. If both devices
       reported 28900 kilobytes transferred and the reading tape drive had
       an interval of 5001 milliseconds and the writing tape drive 5000
       milliseconds that would calculate out as 5778 kB_read/s and 5780
       kB_wrtn/s.

       The impact of some retrieving statistics during an I/O completion,
       rounding down, and small differences in the interval period on the
       statistics calculated should be minimal but may be non-zero.
</pre>
<h2><a id="ENVIRONMENT" href="#ENVIRONMENT"></a>ENVIRONMENT  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The <b>tapestat </b>command takes into account the following environment
       variables:

       S_COLORS
              When this variable is set, display statistics in color on the
              terminal.  Possible values for this variable are <i>never</i>, <i>always</i>
              or <i>auto</i> (the latter is the default).

              Please note that the color (being red, yellow, or some other
              color) used to display a value is not indicative of any kind
              of issue simply because of the color. It only indicates
              different ranges of values.

       S_COLORS_SGR
              Specify the colors and other attributes used to display
              statistics on the terminal.  Its value is a colon-separated
              list of capabilities that defaults to
              <b>H=31;1:I=32;22:M=35;1:N=34;1:Z=34;22</b>.  Supported capabilities
              are:

              <b>H=     </b>SGR (Select Graphic Rendition) substring for percentage
                     values greater than or equal to 75%.

              <b>I=     </b>SGR substring for tape names.

              <b>M=     </b>SGR substring for percentage values in the range from
                     50% to 75%.

              <b>N=     </b>SGR substring for non-zero statistics values.

              <b>Z=     </b>SGR substring for zero values.

       S_TIME_FORMAT
              If this variable exists and its value is <b>ISO </b>then the current
              locale will be ignored when printing the date in the report
              header. The <b>tapestat </b>command will use the ISO 8601 format
              (YYYY-MM-DD) instead.  The timestamp displayed with option -t
              will also be compliant with ISO 8601 format.
</pre>
<h2><a id="BUGS" href="#BUGS"></a>BUGS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <i>/sys</i> filesystem must be mounted for <b>tapestat </b>to work. It will not
       work on kernels that do not have sysfs support

       This command requires kernel version 4.2 or later (or tape statistics
       support backported for an earlier kernel version).
</pre>
<h2><a id="FILES" href="#FILES"></a>FILES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <i>/sys/class/scsi_tape/st&lt;num&gt;/stats/*</i> Statistics files for tape
       devices.

       <i>/proc/uptime</i> contains system uptime.
</pre>
<h2><a id="AUTHOR" href="#AUTHOR"></a>AUTHOR  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       Initial revision by Shane M. SEYMOUR (shane.seymour &lt;at&gt; hpe.com)
       Modified for sysstat by Sebastien Godard (sysstat &lt;at&gt; orange.fr)
</pre>
<h2><a id="SEE_ALSO" href="#SEE_ALSO"></a>SEE ALSO  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <a href="iostat.1.html">iostat(1)</a>, <a href="mpstat.1.html">mpstat(1)</a>

       <i><a href="http://pagesperso-orange.fr/sebastien.godard/">http://pagesperso-orange.fr/sebastien.godard/</a> </i>
</pre>
<h2><a id="COLOPHON" href="#COLOPHON"></a>COLOPHON  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       This page is part of the <i>sysstat</i> (sysstat performance monitoring
       tools) project.  Information about the project can be found at 
       ⟨<a href="http://sebastien.godard.pagesperso-orange.fr/">http://sebastien.godard.pagesperso-orange.fr/</a>⟩.  If you have a bug
       report for this manual page, send it to systat-AT-orange.fr.  This
       page was obtained from the project's upstream Git repository 
       ⟨<a href="https://github.com/sysstat/sysstat.git">https://github.com/sysstat/sysstat.git</a>⟩ on 2017-07-05.  If you dis‐
       cover any rendering problems in this HTML version of the page, or you
       believe there is a better or more up-to-date source for the page, or
       you have corrections or improvements to the information in this
       COLOPHON (which is <i>not</i> part of the original manual page), send a mail
       to man-pages@man7.org

<span class="footline">Linux                             MAY 2017                       TAPESTAT(1)</span>
</pre>

<hr class="end-man-text" />
<p>Pages that refer to this page: 
    <a href="cifsiostat.1.html">cifsiostat(1)</a>,&nbsp; 
    <a href="iostat.1.html">iostat(1)</a>
</p>
<hr/>

 
<hr class="start-footer" />

<div class="footer"> 

<table class="colophon-table">
    <tr>
    <td class="pub-info">
        <p>
            HTML rendering created 2017-07-13
            by <a href="http://man7.org/mtk/index.html">Michael Kerrisk</a>, 
            author of 
            <a href="http://man7.org/tlpi/"><em>The Linux Programming Interface</em></a>, 
            maintainer of the 
            <a href="https://www.kernel.org/doc/man-pages/">Linux <em>man-pages</em> project</a>.
        </p>
        <p>
            For details of in-depth
            <strong>Linux/UNIX system programming training courses</strong>
            that I teach, look <a href="http://man7.org/training/">here</a>.
        </p>
        <p>
            Hosting by <a href="http://www.jambit.com/index_en.html">jambit GmbH</a>.
        </p>
        <p>
            <a href="http://validator.w3.org/check?uri=referer">
            <img src="http://www.w3.org/Icons/valid-xhtml11"
                alt="Valid XHTML 1.1" height="31" width="88" />
            </a>
        </p>
    </td>
    <td class="colophon-divider">
    </td>
    <td class="tlpi-cover">
        <a href="http://man7.org/tlpi/"><img src="../../../tlpi/cover/TLPI-front-cover-vsmall.png" alt="Cover of TLPI" /></a>
    </td>
    </tr>
</table>

</div>

<hr class="end-footer" />



<!--BEGIN-SITETRACKING-->
<!-- SITETRACKING.man7.org_linux_man-pages -->

<!-- Start of StatCounter Code (xhtml) -->

<script type="text/javascript">
//<![CDATA[
var sc_project=7422636; 
var sc_invisible=1; 
var sc_security="9b6714ff"; 
//]]>
</script>
<script type="text/javascript"
src="../../../../www.statcounter.com/counter/counter_xhtml.js"></script>
<noscript><div class="statcounter"><a title="website
statistics" href="http://statcounter.com/"
class="statcounter"><img class="statcounter"
src="http://c.statcounter.com/7422636/0/9b6714ff/1/"
alt="website statistics" /></a></div></noscript>

<!-- End of StatCounter Code -->


<!-- Start of Google Analytics Code -->

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-9830363-8']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<!-- End of Google Analytics Code -->

<!--END-SITETRACKING-->

</body>
</html>
