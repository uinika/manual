
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
        "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <link rel="stylesheet" type="text/css" href="../../../style.css" title="style" />
    <link rel="stylesheet" type="text/css" href="../style.css" title="style" />
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />

    <title>git-for-each-ref(1) - Linux manual page</title>
</head>

<body>

<div class="page-top"><a id="top_of_page"></a></div>
<!--%%%TOP_BAR%%%-->
    <div class="nav-bar">
        <table class="nav-table">
            <tr>
                <td class="nav-cell">
                    <p class="nav-text">
                        <a href="http://man7.org/index.html">man7.org</a> &gt; Linux &gt; <a href="../index.html">man-pages</a>
                    </p>
                </td>
                <td class="training-cell">
                    <p class="training-text"><a class="training-link" href="http://man7.org/training/">Linux/UNIX system programming training</a></p>
                </td>
            </tr>
        </table>
    </div>

<hr class="nav-end" />

<!--%%%PAGE_START%%%-->


<table class="sec-table">
<tr>
    <td>
        <p class="section-dir">
<a href="#NAME">NAME</a> | <a href="#SYNOPSIS">SYNOPSIS</a> | <a href="#DESCRIPTION">DESCRIPTION</a> | <a href="#OPTIONS">OPTIONS</a> | <a href="#FIELD_NAMES">FIELD&nbsp;NAMES</a> | <a href="#EXAMPLES">EXAMPLES</a> | <a href="#SEE_ALSO">SEE&nbsp;ALSO</a> | <a href="#GIT">GIT</a> | <a href="#COLOPHON">COLOPHON</a>
        </p>
    </td>
    <td class="search-box">
        <div class="man-search-box">

            <form method="get" action="http://www.google.com/search">
                <fieldset class="man-search">
                    <input type="text" name="q" size="10" maxlength="255" value="" />
                    <input type="hidden" name="sitesearch" value="man7.org/linux/man-pages" />
                    <input type="submit" name="sa" value="Search online pages" />
                </fieldset>
            </form>

        </div>
    </td>
    <td> </td>
</tr>
</table>

<pre>
<span class="headline">GIT-FOR-EACH-REF(1)              Git Manual              GIT-FOR-EACH-REF(1)</span>
</pre>
<h2><a id="NAME" href="#NAME"></a>NAME  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       git-for-each-ref - Output information on each ref
</pre>
<h2><a id="SYNOPSIS" href="#SYNOPSIS"></a>SYNOPSIS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <i>git for-each-ref</i> [--count=&lt;count&gt;] [--shell|--perl|--python|--tcl]
                          [(--sort=&lt;key&gt;)...] [--format=&lt;format&gt;] [&lt;pattern&gt;...]
                          [--points-at &lt;object&gt;] [(--merged | --no-merged) [&lt;object&gt;]]
                          [--contains [&lt;object&gt;]] [--no-contains [&lt;object&gt;]]
</pre>
<h2><a id="DESCRIPTION" href="#DESCRIPTION"></a>DESCRIPTION  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       Iterate over all refs that match <b>&lt;pattern&gt; </b>and show them according to
       the given <b>&lt;format&gt;</b>, after sorting them according to the given set of
       <b>&lt;key&gt;</b>. If <b>&lt;count&gt; </b>is given, stop after showing that many refs. The
       interpolated values in <b>&lt;format&gt; </b>can optionally be quoted as string
       literals in the specified host language allowing their direct
       evaluation in that language.
</pre>
<h2><a id="OPTIONS" href="#OPTIONS"></a>OPTIONS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       &lt;count&gt;
           By default the command shows all refs that match <b>&lt;pattern&gt;</b>. This
           option makes it stop after showing that many refs.

       &lt;key&gt;
           A field name to sort on. Prefix <b>- </b>to sort in descending order of
           the value. When unspecified, <b>refname </b>is used. You may use the
           --sort=&lt;key&gt; option multiple times, in which case the last key
           becomes the primary key.

       &lt;format&gt;
           A string that interpolates <b>%(fieldname) </b>from the object pointed
           at by a ref being shown. If <b>fieldname </b>is prefixed with an
           asterisk (<b>*</b>) and the ref points at a tag object, the value for
           the field in the object tag refers is used. When unspecified,
           defaults to <b>%(objectname) SPC %(objecttype) TAB %(refname)</b>. It
           also interpolates <b>%% </b>to <b>%</b>, and <b>%xx </b>where <b>xx </b>are hex digits
           interpolates to character with hex code <b>xx</b>; for example <b>%00</b>
           interpolates to <b>\0 </b>(NUL), <b>%09 </b>to <b>\t </b>(TAB) and <b>%0a </b>to <b>\n </b>(LF).

       &lt;pattern&gt;...
           If one or more patterns are given, only refs are shown that match
           against at least one pattern, either using fnmatch(3) or
           literally, in the latter case matching completely or from the
           beginning up to a slash.

       --shell, --perl, --python, --tcl
           If given, strings that substitute <b>%(fieldname) </b>placeholders are
           quoted as string literals suitable for the specified host
           language. This is meant to produce a scriptlet that can directly
           be `eval`ed.

       --points-at &lt;object&gt;
           Only list refs which points at the given object.

       --merged [&lt;object&gt;]
           Only list refs whose tips are reachable from the specified commit
           (HEAD if not specified), incompatible with <b>--no-merged</b>.

       --no-merged [&lt;object&gt;]
           Only list refs whose tips are not reachable from the specified
           commit (HEAD if not specified), incompatible with <b>--merged</b>.

       --contains [&lt;object&gt;]
           Only list refs which contain the specified commit (HEAD if not
           specified).

       --no-contains [&lt;object&gt;]
           Only list refs which don’t contain the specified commit (HEAD if
           not specified).

       --ignore-case
           Sorting and filtering refs are case insensitive.
</pre>
<h2><a id="FIELD_NAMES" href="#FIELD_NAMES"></a>FIELD NAMES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       Various values from structured fields in referenced objects can be
       used to interpolate into the resulting output, or as sort keys.

       For all objects, the following names can be used:

       refname
           The name of the ref (the part after $GIT_DIR/). For a
           non-ambiguous short name of the ref append <b>:short</b>. The option
           core.warnAmbiguousRefs is used to select the strict abbreviation
           mode. If <b>lstrip=&lt;N&gt; </b>(<b>rstrip=&lt;N&gt;</b>) is appended, strips <b>&lt;N&gt;</b>
           slash-separated path components from the front (back) of the
           refname (e.g.  <b>%(refname:lstrip=2) </b>turns <b>refs/tags/foo </b>into <b>foo</b>
           and <b>%(refname:rstrip=2) </b>turns <b>refs/tags/foo </b>into <b>refs</b>). If <b>&lt;N&gt; </b>is
           a negative number, strip as many path components as necessary
           from the specified end to leave <b>-&lt;N&gt; </b>path components (e.g.
           <b>%(refname:lstrip=-2) </b>turns <b>refs/tags/foo </b>into <b>tags/foo </b>and
           <b>%(refname:rstrip=-1) </b>turns <b>refs/tags/foo </b>into <b>refs</b>). When the ref
           does not have enough components, the result becomes an empty
           string if stripping with positive &lt;N&gt;, or it becomes the full
           refname if stripping with negative &lt;N&gt;. Neither is an error.

           <b>strip </b>can be used as a synomym to <b>lstrip</b>.

       objecttype
           The type of the object (<b>blob</b>, <b>tree</b>, <b>commit</b>, <b>tag</b>).

       objectsize
           The size of the object (the same as <i>git cat-file -s</i> reports).

       objectname
           The object name (aka SHA-1). For a non-ambiguous abbreviation of
           the object name append <b>:short</b>. For an abbreviation of the object
           name with desired length append <b>:short=&lt;length&gt;</b>, where the
           minimum length is MINIMUM_ABBREV. The length may be exceeded to
           ensure unique object names.

       upstream
           The name of a local ref which can be considered “upstream” from
           the displayed ref. Respects <b>:short</b>, <b>:lstrip </b>and <b>:rstrip </b>in the
           same way as <b>refname </b>above. Additionally respects <b>:track </b>to show
           "[ahead N, behind M]" and <b>:trackshort </b>to show the terse version:
           "&gt;" (ahead), "&lt;" (behind), "&lt;&gt;" (ahead and behind), or "=" (in
           sync).  <b>:track </b>also prints "[gone]" whenever unknown upstream ref
           is encountered. Append <b>:track,nobracket </b>to show tracking
           information without brackets (i.e "ahead N, behind M"). Has no
           effect if the ref does not have tracking information associated
           with it. All the options apart from <b>nobracket </b>are mutually
           exclusive, but if used together the last option is selected.

       push
           The name of a local ref which represents the <b>@{push} </b>location for
           the displayed ref. Respects <b>:short</b>, <b>:lstrip</b>, <b>:rstrip</b>, <b>:track</b>, and
           <b>:trackshort </b>options as <b>upstream </b>does. Produces an empty string if
           no <b>@{push} </b>ref is configured.

       HEAD
           <i>*</i> if HEAD matches current ref (the checked out branch), ' '
           otherwise.

       color
           Change output color. Followed by <b>:&lt;colorname&gt;</b>, where names are
           described in <b>color.branch.*</b>.

       align
           Left-, middle-, or right-align the content between %(align:...)
           and %(end). The "align:" is followed by <b>width=&lt;width&gt; </b>and
           <b>position=&lt;position&gt; </b>in any order separated by a comma, where the
           <b>&lt;position&gt; </b>is either left, right or middle, default being left
           and <b>&lt;width&gt; </b>is the total length of the content with alignment.
           For brevity, the "width=" and/or "position=" prefixes may be
           omitted, and bare &lt;width&gt; and &lt;position&gt; used instead. For
           instance, <b>%(align:&lt;width&gt;,&lt;position&gt;)</b>. If the contents length is
           more than the width then no alignment is performed. If used with
           <b>--quote </b>everything in between %(align:...) and %(end) is quoted,
           but if nested then only the topmost level performs quoting.

       if
           Used as %(if)...%(then)...%(end) or
           %(if)...%(then)...%(else)...%(end). If there is an atom with
           value or string literal after the %(if) then everything after the
           %(then) is printed, else if the %(else) atom is used, then
           everything after %(else) is printed. We ignore space when
           evaluating the string before %(then), this is useful when we use
           the %(HEAD) atom which prints either "*" or " " and we want to
           apply the <i>if</i> condition only on the <i>HEAD</i> ref. Append
           ":equals=&lt;string&gt;" or ":notequals=&lt;string&gt;" to compare the value
           between the %(if:...) and %(then) atoms with the given string.

       symref
           The ref which the given symbolic ref refers to. If not a symbolic
           ref, nothing is printed. Respects the <b>:short</b>, <b>:lstrip </b>and <b>:rstrip</b>
           options in the same way as <b>refname </b>above.

       In addition to the above, for commit and tag objects, the header
       field names (<b>tree</b>, <b>parent</b>, <b>object</b>, <b>type</b>, and <b>tag</b>) can be used to
       specify the value in the header field.

       For commit and tag objects, the special <b>creatordate </b>and <b>creator</b>
       fields will correspond to the appropriate date or name-email-date
       tuple from the <b>committer </b>or <b>tagger </b>fields depending on the object
       type. These are intended for working on a mix of annotated and
       lightweight tags.

       Fields that have name-email-date tuple as its value (<b>author</b>,
       <b>committer</b>, and <b>tagger</b>) can be suffixed with <b>name</b>, <b>email</b>, and <b>date </b>to
       extract the named component.

       The complete message in a commit and tag object is <b>contents</b>. Its
       first line is <b>contents:subject</b>, where subject is the concatenation of
       all lines of the commit message up to the first blank line. The next
       line is <i>contents:body</i>, where body is all of the lines after the first
       blank line. The optional GPG signature is <b>contents:signature</b>. The
       first <b>N </b>lines of the message is obtained using <b>contents:lines=N</b>.
       Additionally, the trailers as interpreted by
       <a href="git-interpret-trailers.1.html">git-interpret-trailers(1)</a> are obtained as <i>contents:trailers</i>.

       For sorting purposes, fields with numeric values sort in numeric
       order (<b>objectsize</b>, <b>authordate</b>, <b>committerdate</b>, <b>creatordate</b>,
       <b>taggerdate</b>). All other fields are used to sort in their byte-value
       order.

       There is also an option to sort by versions, this can be done by
       using the fieldname <b>version:refname </b>or its alias <b>v:refname</b>.

       In any case, a field name that refers to a field inapplicable to the
       object referred by the ref does not cause an error. It returns an
       empty string instead.

       As a special case for the date-type fields, you may specify a format
       for the date by adding <b>: </b>followed by date format name (see the values
       the <b>--date </b>option to <a href="git-rev-list.1.html">git-rev-list(1)</a> takes).

       Some atoms like %(align) and %(if) always require a matching %(end).
       We call them "opening atoms" and sometimes denote them as %($open).

       When a scripting language specific quoting is in effect, everything
       between a top-level opening atom and its matching %(end) is evaluated
       according to the semantics of the opening atom and only its result
       from the top-level is quoted.
</pre>
<h2><a id="EXAMPLES" href="#EXAMPLES"></a>EXAMPLES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       An example directly producing formatted text. Show the most recent 3
       tagged commits:

           #!/bin/sh

           git for-each-ref --count=3 --sort='-*authordate' \
           --format='From: %(*authorname) %(*authoremail)
           Subject: %(*subject)
           Date: %(*authordate)
           Ref: %(*refname)

           %(*body)
           ' 'refs/tags'

       A simple example showing the use of shell eval on the output,
       demonstrating the use of --shell. List the prefixes of all heads:

           #!/bin/sh

           git for-each-ref --shell --format="ref=%(refname)" refs/heads | \
           while read entry
           do
                   eval "$entry"
                   echo `dirname $ref`
           done

       A bit more elaborate report on tags, demonstrating that the format
       may be an entire script:

           #!/bin/sh

           fmt='
                   r=%(refname)
                   t=%(*objecttype)
                   T=${r#refs/tags/}

                   o=%(*objectname)
                   n=%(*authorname)
                   e=%(*authoremail)
                   s=%(*subject)
                   d=%(*authordate)
                   b=%(*body)

                   kind=Tag
                   if test "z$t" = z
                   then
                           # could be a lightweight tag
                           t=%(objecttype)
                           kind="Lightweight tag"
                           o=%(objectname)
                           n=%(authorname)
                           e=%(authoremail)
                           s=%(subject)
                           d=%(authordate)
                           b=%(body)
                   fi
                   echo "$kind $T points at a $t object $o"
                   if test "z$t" = zcommit
                   then
                           echo "The commit was authored by $n $e
           at $d, and titled

               $s

           Its message reads as:
           "
                           echo "$b" | sed -e "s/^/    /"
                           echo
                   fi
           '

           eval=`git for-each-ref --shell --format="$fmt" \
                   --sort='*objecttype' \
                   --sort=-taggerdate \
                   refs/tags`
           eval "$eval"

       An example to show the usage of %(if)...%(then)...%(else)...%(end).
       This prefixes the current branch with a star.

           git for-each-ref --format="%(if)%(HEAD)%(then)* %(else)  %(end)%(refname:short)" refs/heads/

       An example to show the usage of %(if)...%(then)...%(end). This prints
       the authorname, if present.

           git for-each-ref --format="%(refname)%(if)%(authorname)%(then) Authored by: %(authorname)%(end)"
</pre>
<h2><a id="SEE_ALSO" href="#SEE_ALSO"></a>SEE ALSO  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <a href="git-show-ref.1.html">git-show-ref(1)</a>
</pre>
<h2><a id="GIT" href="#GIT"></a>GIT  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       Part of the <a href="git.1.html">git(1)</a> suite
</pre>
<h2><a id="COLOPHON" href="#COLOPHON"></a>COLOPHON  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       This page is part of the <i>git</i> (Git distributed version control system)
       project.  Information about the project can be found at 
       ⟨<a href="http://git-scm.com/">http://git-scm.com/</a>⟩.  If you have a bug report for this manual page,
       see ⟨<a href="http://git-scm.com/community">http://git-scm.com/community</a>⟩.  This page was obtained from the
       project's upstream Git repository ⟨<a href="https://github.com/git/git.git">https://github.com/git/git.git</a>⟩ on
       2017-07-05.  If you discover any rendering problems in this HTML ver‐
       sion of the page, or you believe there is a better or more up-to-date
       source for the page, or you have corrections or improvements to the
       information in this COLOPHON (which is <i>not</i> part of the original man‐
       ual page), send a mail to man-pages@man7.org

<span class="footline">Git 2.13.0.rc0.45.ge             04/24/2017              GIT-FOR-EACH-REF(1)</span>
</pre>

<hr class="end-man-text" />
<p>Pages that refer to this page: 
    <a href="git.1.html">git(1)</a>,&nbsp; 
    <a href="git-branch.1.html">git-branch(1)</a>,&nbsp; 
    <a href="git-show-ref.1.html">git-show-ref(1)</a>,&nbsp; 
    <a href="git-tag.1.html">git-tag(1)</a>
</p>
<hr/>

 
<hr class="start-footer" />

<div class="footer"> 

<table class="colophon-table">
    <tr>
    <td class="pub-info">
        <p>
            HTML rendering created 2017-07-13
            by <a href="http://man7.org/mtk/index.html">Michael Kerrisk</a>, 
            author of 
            <a href="http://man7.org/tlpi/"><em>The Linux Programming Interface</em></a>, 
            maintainer of the 
            <a href="https://www.kernel.org/doc/man-pages/">Linux <em>man-pages</em> project</a>.
        </p>
        <p>
            For details of in-depth
            <strong>Linux/UNIX system programming training courses</strong>
            that I teach, look <a href="http://man7.org/training/">here</a>.
        </p>
        <p>
            Hosting by <a href="http://www.jambit.com/index_en.html">jambit GmbH</a>.
        </p>
        <p>
            <a href="http://validator.w3.org/check?uri=referer">
            <img src="http://www.w3.org/Icons/valid-xhtml11"
                alt="Valid XHTML 1.1" height="31" width="88" />
            </a>
        </p>
    </td>
    <td class="colophon-divider">
    </td>
    <td class="tlpi-cover">
        <a href="http://man7.org/tlpi/"><img src="../../../tlpi/cover/TLPI-front-cover-vsmall.png" alt="Cover of TLPI" /></a>
    </td>
    </tr>
</table>

</div>

<hr class="end-footer" />



<!--BEGIN-SITETRACKING-->
<!-- SITETRACKING.man7.org_linux_man-pages -->

<!-- Start of StatCounter Code (xhtml) -->

<script type="text/javascript">
//<![CDATA[
var sc_project=7422636; 
var sc_invisible=1; 
var sc_security="9b6714ff"; 
//]]>
</script>
<script type="text/javascript"
src="../../../../www.statcounter.com/counter/counter_xhtml.js"></script>
<noscript><div class="statcounter"><a title="website
statistics" href="http://statcounter.com/"
class="statcounter"><img class="statcounter"
src="http://c.statcounter.com/7422636/0/9b6714ff/1/"
alt="website statistics" /></a></div></noscript>

<!-- End of StatCounter Code -->


<!-- Start of Google Analytics Code -->

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-9830363-8']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<!-- End of Google Analytics Code -->

<!--END-SITETRACKING-->

</body>
</html>
