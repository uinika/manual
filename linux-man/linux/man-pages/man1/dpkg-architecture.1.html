
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
        "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <link rel="stylesheet" type="text/css" href="../../../style.css" title="style" />
    <link rel="stylesheet" type="text/css" href="../style.css" title="style" />
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />

    <title>dpkg-architecture(1) - Linux manual page</title>
</head>

<body>

<div class="page-top"><a id="top_of_page"></a></div>
<!--%%%TOP_BAR%%%-->
    <div class="nav-bar">
        <table class="nav-table">
            <tr>
                <td class="nav-cell">
                    <p class="nav-text">
                        <a href="http://man7.org/index.html">man7.org</a> &gt; Linux &gt; <a href="../index.html">man-pages</a>
                    </p>
                </td>
                <td class="training-cell">
                    <p class="training-text"><a class="training-link" href="http://man7.org/training/">Linux/UNIX system programming training</a></p>
                </td>
            </tr>
        </table>
    </div>

<hr class="nav-end" />

<!--%%%PAGE_START%%%-->


<table class="sec-table">
<tr>
    <td>
        <p class="section-dir">
<a href="#NAME">NAME</a> | <a href="#SYNOPSIS">SYNOPSIS</a> | <a href="#DESCRIPTION">DESCRIPTION</a> | <a href="#COMMANDS">COMMANDS</a> | <a href="#OPTIONS">OPTIONS</a> | <a href="#TERMS">TERMS</a> | <a href="#VARIABLES">VARIABLES</a> | <a href="#FILES">FILES</a> | <a href="#EXAMPLES">EXAMPLES</a> | <a href="#NOTES">NOTES</a> | <a href="#SEE_ALSO">SEE&nbsp;ALSO</a> | <a href="#COLOPHON">COLOPHON</a>
        </p>
    </td>
    <td class="search-box">
        <div class="man-search-box">

            <form method="get" action="http://www.google.com/search">
                <fieldset class="man-search">
                    <input type="text" name="q" size="10" maxlength="255" value="" />
                    <input type="hidden" name="sitesearch" value="man7.org/linux/man-pages" />
                    <input type="submit" name="sa" value="Search online pages" />
                </fieldset>
            </form>

        </div>
    </td>
    <td> </td>
</tr>
</table>

<pre>
<span class="headline">dpkg-architecture(1)             dpkg suite             dpkg-architecture(1)</span>
</pre>
<h2><a id="NAME" href="#NAME"></a>NAME  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       dpkg-architecture  -  set  and determine the architecture for package
       building
</pre>
<h2><a id="SYNOPSIS" href="#SYNOPSIS"></a>SYNOPSIS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <b>dpkg-architecture </b>[<i>option</i>...] [<i>command</i>]
</pre>
<h2><a id="DESCRIPTION" href="#DESCRIPTION"></a>DESCRIPTION  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <b>dpkg-architecture </b>provides a facility to determine and set the build
       and host architecture for package building.

       The build architecture is always determined by an external call to
       <a href="dpkg.1.html">dpkg(1)</a>, and cannot be set at the command line.

       You can specify the host architecture by providing one or both of the
       options <b>--host-arch </b>and <b>--host-type</b>. The default is determined by an
       external call to <a href="gcc.1.html">gcc(1)</a>, or the same as the build architecture if <b>CC</b>
       or gcc are both not available. One out of <b>--host-arch </b>and <b>--host-type</b>
       is sufficient, the value of the other will be set to a usable
       default. Indeed, it is often better to only specify one, because
       <b>dpkg-architecture </b>will warn you if your choice does not match the
       default.
</pre>
<h2><a id="COMMANDS" href="#COMMANDS"></a>COMMANDS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <b>-l</b>, <b>--list</b>
              Print the environment variables, one each line, in the format
              <i>VARIABLE=value</i>. This is the default action.

       <b>-e</b>, <b>--equal </b><i>architecture</i>
              Check for equality of architecture (since dpkg 1.13.13).  It
              compares the current or specified Debian host architecture
              against <i>architecture</i>, to check if they are equal.  This action
              will not expand the architecture wildcards.  Command finishes
              with an exit status of 0 if matched, 1 if not matched.

       <b>-i</b>, <b>--is </b><i>architecture-wildcard</i>
              Check for identity of architecture (since dpkg 1.13.13).  It
              compares the current or specified Debian host architecture
              against <i>architecture-wildcard</i> after having expanded it as an
              architecture wildcard, to check if they match.  Command
              finishes with an exit status of 0 if matched, 1 if not
              matched.

       <b>-q</b>, <b>--query </b><i>variable-name</i>
              Print the value of a single variable.

       <b>-s</b>, <b>--print-set</b>
              Print an export command. This can be used to set the
              environment variables using eval.

       <b>-u</b>, <b>--print-unset</b>
              Print a similar command to <b>--print-unset </b>but to unset all
              variables.

       <b>-c</b>, <b>--command </b><i>command</i>
              Execute a <i>command</i> in an environment which has all variables
              set to the determined value.

       <b>-L</b>, <b>--list-known</b>
              Print a list of valid architecture names.  Possibly restricted
              by one or more of the matching options <b>--match-wildcard</b>,
              <b>--match-bits </b>or <b>--match-endian </b>(since dpkg 1.17.14).

       <b>-?</b>, <b>--help</b>
              Show the usage message and exit.

       <b>--version</b>
              Show the version and exit.
</pre>
<h2><a id="OPTIONS" href="#OPTIONS"></a>OPTIONS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <b>-a</b>, <b>--host-arch </b><i>architecture</i>
              Set the host Debian architecture.

       <b>-t</b>, <b>--host-type </b><i>gnu-system-type</i>
              Set the host GNU system type.

       <b>-A</b>, <b>--target-arch </b><i>architecture</i>
              Set the target Debian architecture (since dpkg 1.17.14).

       <b>-T</b>, <b>--target-type </b><i>gnu-system-type</i>
              Set the target GNU system type (since dpkg 1.17.14).

       <b>-W</b>, <b>--match-wildcard </b><i>architecture-wildcard</i>
              Restrict the architectures listed by <b>--list-known </b>to ones
              matching the specified architecture wildcard (since dpkg
              1.17.14).

       <b>-B</b>, <b>--match-bits </b><i>architecture-bits</i>
              Restrict the architectures listed by <b>--list-known </b>to ones with
              the specified CPU bits (since dpkg 1.17.14). Either <b>32 </b>or <b>64</b>.

       <b>-E</b>, <b>--match-endian </b><i>architecture-endianness</i>
              Restrict the architectures listed by <b>--list-known </b>to ones with
              the specified endianness (since dpkg 1.17.14). Either <b>little</b>
              or <b>big</b>.

       <b>-f</b>, <b>--force</b>
              Values set by existing environment variables with the same
              name as used by the scripts are honored (i.e. used by
              <b>dpkg-architecture</b>), except if this force flag is present. This
              allows the user to override a value even when the call to
              <b>dpkg-architecture </b>is buried in some other script (for example
              <a href="dpkg-buildpackage.1.html">dpkg-buildpackage(1)</a>).
</pre>
<h2><a id="TERMS" href="#TERMS"></a>TERMS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       build machine
           The machine the package is built on.

       host machine
           The machine the package is built for.

       target machine
           The machine the compiler is building for.  This is only needed
           when building a cross-toolchain, one that will be built on the
           build architecture, to be run on the host architecture, and to
           build code for the target architecture.

       Debian architecture
           The Debian architecture string, which specifies the binary tree
           in the FTP archive. Examples: i386, sparc, hurd-i386.

       Debian architecture tuple
           A Debian architecture tuple is the fully qualified architecture
           with all its components spelled out.  This differs with Debian
           architectures in that at least the <i>cpu</i> component does not embed
           the <i>abi</i>.  The current tuple has the form <i>abi</i>-<i>libc</i>-<i>os</i>-<i>cpu</i>.
           Examples: base-gnu-linux-amd64, eabihf-musl-linux-arm.

       Debian architecture wildcard
           A Debian architecture wildcard is a special architecture string
           that will match any real architecture being part of it.  The
           general form is a Debian architecture tuple with four or less
           elements, and with at least one of them being <b>any</b>.  Missing
           elements of the tuple are prefixed implicitly as <b>any</b>, and thus
           the following pairs are equivalent:
               <b>any</b>-<b>any</b>-<b>any</b>-<b>any </b>= <b>any</b>
               <b>any</b>-<b>any</b>-<i>os</i>-<b>any </b>= <i>os</i>-<b>any</b>
               <b>any</b>-<i>libc</i>-<b>any</b>-<b>any </b>= <i>libc</i>-<b>any</b>-<b>any</b>
           Examples: linux-any, any-i386, hurd-any, eabi-any-any-arm,
           musl-any-any.

       GNU system type
           An architecture specification string consisting of two parts
           separated by a hyphen: cpu and system.  Examples: i586-linux-gnu,
           sparc-linux-gnu, i686-gnu, x86_64-netbsd.

       multiarch triplet
           The clarified GNU system type, used for filesystem paths.  This
           triplet does not change even when the baseline ISA gets bumped,
           so that the resulting paths are stable over time.  The only
           current difference with the GNU system type is that the CPU part
           for i386 based systems is always i386.  Examples: i386-linux-gnu,
           x86_64-linux-gnu.  Example paths: /lib/powerpc64le-linux-gnu/,
           /usr/lib/i386-kfreebsd-gnu/.
</pre>
<h2><a id="VARIABLES" href="#VARIABLES"></a>VARIABLES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The following variables are set by <b>dpkg-architecture</b>:

       <b>DEB_BUILD_ARCH</b>
           The Debian architecture of the build machine.

       <b>DEB_BUILD_ARCH_ABI</b>
           The Debian abi name of the build machine (since dpkg 1.18.11).

       <b>DEB_BUILD_ARCH_LIBC</b>
           The Debian libc name of the build machine (since dpkg 1.18.11).

       <b>DEB_BUILD_ARCH_OS</b>
           The Debian system name of the build machine (since dpkg 1.13.2).

       <b>DEB_BUILD_ARCH_CPU</b>
           The Debian cpu name of the build machine (since dpkg 1.13.2).

       <b>DEB_BUILD_ARCH_BITS</b>
           The pointer size of the build machine (in bits; since dpkg
           1.15.4).

       <b>DEB_BUILD_ARCH_ENDIAN</b>
           The endianness of the build machine (little / big; since dpkg
           1.15.4).

       <b>DEB_BUILD_GNU_CPU</b>
           The CPU part of <b>DEB_BUILD_GNU_TYPE</b>.

       <b>DEB_BUILD_GNU_SYSTEM</b>
           The System part of <b>DEB_BUILD_GNU_TYPE</b>.

       <b>DEB_BUILD_GNU_TYPE</b>
           The GNU system type of the build machine.

       <b>DEB_BUILD_MULTIARCH</b>
           The clarified GNU system type of the build machine, used for
           filesystem paths (since dpkg 1.16.0).

       <b>DEB_HOST_ARCH</b>
           The Debian architecture of the host machine.

       <b>DEB_HOST_ARCH_ABI</b>
           The Debian abi name of the host machine (since dpkg 1.18.11).

       <b>DEB_HOST_ARCH_LIBC</b>
           The Debian libc name of the host machine (since dpkg 1.18.11).

       <b>DEB_HOST_ARCH_OS</b>
           The Debian system name of the host machine (since dpkg 1.13.2).

       <b>DEB_HOST_ARCH_CPU</b>
           The Debian cpu name of the host machine (since dpkg 1.13.2).

       <b>DEB_HOST_ARCH_BITS</b>
           The pointer size of the host machine (in bits; since dpkg
           1.15.4).

       <b>DEB_HOST_ARCH_ENDIAN</b>
           The endianness of the host machine (little / big; since dpkg
           1.15.4).

       <b>DEB_HOST_GNU_CPU</b>
           The CPU part of <b>DEB_HOST_GNU_TYPE</b>.

       <b>DEB_HOST_GNU_SYSTEM</b>
           The System part of <b>DEB_HOST_GNU_TYPE</b>.

       <b>DEB_HOST_GNU_TYPE</b>
           The GNU system type of the host machine.

       <b>DEB_HOST_MULTIARCH</b>
           The clarified GNU system type of the host machine, used for
           filesystem paths (since dpkg 1.16.0).

       <b>DEB_TARGET_ARCH</b>
           The Debian architecture of the target machine (since dpkg
           1.17.14).

       <b>DEB_TARGET_ARCH_ABI</b>
           The Debian abi name of the target machine (since dpkg 1.18.11).

       <b>DEB_TARGET_ARCH_LIBC</b>
           The Debian libc name of the target machine (since dpkg 1.18.11).

       <b>DEB_TARGET_ARCH_OS</b>
           The Debian system name of the target machine (since dpkg
           1.17.14).

       <b>DEB_TARGET_ARCH_CPU</b>
           The Debian cpu name of the target machine (since dpkg 1.17.14).

       <b>DEB_TARGET_ARCH_BITS</b>
           The pointer size of the target machine (in bits; since dpkg
           1.17.14).

       <b>DEB_TARGET_ARCH_ENDIAN</b>
           The endianness of the target machine (little / big; since dpkg
           1.17.14).

       <b>DEB_TARGET_GNU_CPU</b>
           The CPU part of <b>DEB_TARGET_GNU_TYPE </b>(since dpkg 1.17.14).

       <b>DEB_TARGET_GNU_SYSTEM</b>
           The System part of <b>DEB_TARGET_GNU_TYPE </b>(since dpkg 1.17.14).

       <b>DEB_TARGET_GNU_TYPE</b>
           The GNU system type of the target machine (since dpkg 1.17.14).

       <b>DEB_TARGET_MULTIARCH</b>
           The clarified GNU system type of the target machine, used for
           filesystem paths (since dpkg 1.17.14).
</pre>
<h2><a id="FILES" href="#FILES"></a>FILES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
   <b>Architecture tables</b>
       All these files have to be present for <b>dpkg-architecture </b>to work.
       Their location can be overridden at runtime with the environment
       variable <b>DPKG_DATADIR</b>.  These tables contain a format <b>Version </b>pseudo-
       field on their first line to mark their format, so that parsers can
       check if they understand it, such as "# Version=1.0".

       <i>/usr/local/share/dpkg/cputable</i>
              Table of known CPU names and mapping to their GNU name.
              Format version 1.0 (since dpkg 1.13.2).

       <i>/usr/local/share/dpkg/ostable</i>
              Table of known operating system names and mapping to their GNU
              name.  Format version 2.0 (since dpkg 1.18.11).

       <i>/usr/local/share/dpkg/tupletable</i>
              Mapping between Debian architecture tuples and Debian
              architecture names.  Format version 1.0 (since dpkg 1.18.11).

       <i>/usr/local/share/dpkg/abitable</i>
              Table of Debian architecture ABI attribute overrides.  Format
              version 2.0 (since dpkg 1.18.11).

   <b>Packaging support</b>
       <i>/usr/local/share/dpkg/architecture.mk</i>
              Makefile snippet that properly sets and exports all the
              variables that <b>dpkg-architecture </b>outputs (since dpkg 1.16.1).
</pre>
<h2><a id="EXAMPLES" href="#EXAMPLES"></a>EXAMPLES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <b>dpkg-buildpackage </b>accepts the <b>-a </b>option and passes it to
       <b>dpkg-architecture</b>. Other examples:

              CC=i386-gnu-gcc dpkg-architecture -c debian/rules build

              eval `dpkg-architecture -u`

       Check if the current or specified host architecture is equal to an
       architecture:

              dpkg-architecture -elinux-alpha

              dpkg-architecture -amips -elinux-mips

       Check if the current or specified host architecture is a Linux
       system:

              dpkg-architecture -ilinux-any

              dpkg-architecture -ai386 -ilinux-any

   <b>Usage in debian/rules</b>
       The environment variables set by <b>dpkg-architecture </b>are passed to
       <i>debian/rules</i> as make variables (see make documentation). However, you
       should not rely on them, as this breaks manual invocation of the
       script. Instead, you should always initialize them using
       <b>dpkg-architecture </b>with the <b>-q </b>option. Here are some examples, which
       also show how you can improve the cross compilation support in your
       package:

       Retrieving the GNU system type and forwarding it to ./configure:

           DEB_BUILD_GNU_TYPE ?= $(shell dpkg-architecture -qDEB_BUILD_GNU_TYPE)
           DEB_HOST_GNU_TYPE ?= $(shell dpkg-architecture -qDEB_HOST_GNU_TYPE)
           [...]
           ifeq ($(DEB_BUILD_GNU_TYPE), $(DEB_HOST_GNU_TYPE))
             confflags += --build=$(DEB_HOST_GNU_TYPE)
           else
             confflags += --build=$(DEB_BUILD_GNU_TYPE) \
                          --host=$(DEB_HOST_GNU_TYPE)
           endif
           [...]
           ./configure $(confflags)

       Doing something only for a specific architecture:

           DEB_HOST_ARCH ?= $(shell dpkg-architecture -qDEB_HOST_ARCH)

           ifeq ($(DEB_HOST_ARCH),alpha)
             [...]
           endif

       or if you only need to check the CPU or OS type, use the
       <b>DEB_HOST_ARCH_CPU </b>or <b>DEB_HOST_ARCH_OS </b>variables.

       Note that you can also rely on an external Makefile snippet to
       properly set all the variables that <b>dpkg-architecture </b>can provide:

           include /usr/local/share/dpkg/architecture.mk

           ifeq ($(DEB_HOST_ARCH),alpha)
             [...]
           endif

       In any case, you should never use <b>dpkg --print-architecture </b>to get
       architecture information during a package build.
</pre>
<h2><a id="NOTES" href="#NOTES"></a>NOTES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       All long command and option names available only since dpkg 1.17.17.
</pre>
<h2><a id="SEE_ALSO" href="#SEE_ALSO"></a>SEE ALSO  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <a href="dpkg-buildpackage.1.html">dpkg-buildpackage(1)</a>, <b>dpkg-cross</b>(1).
</pre>
<h2><a id="COLOPHON" href="#COLOPHON"></a>COLOPHON  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       This page is part of the <i>dpkg</i> (Debian Package Manager) project.
       Information about the project can be found at 
       ⟨<a href="https://wiki.debian.org/Teams/Dpkg/">https://wiki.debian.org/Teams/Dpkg/</a>⟩.  If you have a bug report for
       this manual page, see 
       ⟨<a href="http://bugs.debian.org/cgi-bin/pkgreport.cgi?src=dpkg">http://bugs.debian.org/cgi-bin/pkgreport.cgi?src=dpkg</a>⟩.  This page
       was obtained from the project's upstream Git repository 
       ⟨git://git.debian.org/git/dpkg/dpkg.git⟩ on 2017-07-05.  If you dis‐
       cover any rendering problems in this HTML version of the page, or you
       believe there is a better or more up-to-date source for the page, or
       you have corrections or improvements to the information in this
       COLOPHON (which is <i>not</i> part of the original manual page), send a mail
       to man-pages@man7.org

<span class="footline">1.18.15-3-ga2ef                  1970-01-01             dpkg-architecture(1)</span>
</pre>

<hr class="end-man-text" />
<p>Pages that refer to this page: 
    <a href="dpkg-buildpackage.1.html">dpkg-buildpackage(1)</a>,&nbsp; 
    <a href="../man5/deb-src-control.5.html">deb-src-control(5)</a>
</p>
<hr/>

 
<hr class="start-footer" />

<div class="footer"> 

<table class="colophon-table">
    <tr>
    <td class="pub-info">
        <p>
            HTML rendering created 2017-07-13
            by <a href="http://man7.org/mtk/index.html">Michael Kerrisk</a>, 
            author of 
            <a href="http://man7.org/tlpi/"><em>The Linux Programming Interface</em></a>, 
            maintainer of the 
            <a href="https://www.kernel.org/doc/man-pages/">Linux <em>man-pages</em> project</a>.
        </p>
        <p>
            For details of in-depth
            <strong>Linux/UNIX system programming training courses</strong>
            that I teach, look <a href="http://man7.org/training/">here</a>.
        </p>
        <p>
            Hosting by <a href="http://www.jambit.com/index_en.html">jambit GmbH</a>.
        </p>
        <p>
            <a href="http://validator.w3.org/check?uri=referer">
            <img src="http://www.w3.org/Icons/valid-xhtml11"
                alt="Valid XHTML 1.1" height="31" width="88" />
            </a>
        </p>
    </td>
    <td class="colophon-divider">
    </td>
    <td class="tlpi-cover">
        <a href="http://man7.org/tlpi/"><img src="../../../tlpi/cover/TLPI-front-cover-vsmall.png" alt="Cover of TLPI" /></a>
    </td>
    </tr>
</table>

</div>

<hr class="end-footer" />



<!--BEGIN-SITETRACKING-->
<!-- SITETRACKING.man7.org_linux_man-pages -->

<!-- Start of StatCounter Code (xhtml) -->

<script type="text/javascript">
//<![CDATA[
var sc_project=7422636; 
var sc_invisible=1; 
var sc_security="9b6714ff"; 
//]]>
</script>
<script type="text/javascript"
src="../../../../www.statcounter.com/counter/counter_xhtml.js"></script>
<noscript><div class="statcounter"><a title="website
statistics" href="http://statcounter.com/"
class="statcounter"><img class="statcounter"
src="http://c.statcounter.com/7422636/0/9b6714ff/1/"
alt="website statistics" /></a></div></noscript>

<!-- End of StatCounter Code -->


<!-- Start of Google Analytics Code -->

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-9830363-8']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<!-- End of Google Analytics Code -->

<!--END-SITETRACKING-->

</body>
</html>
