
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
        "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <link rel="stylesheet" type="text/css" href="../../../style.css" title="style" />
    <link rel="stylesheet" type="text/css" href="../style.css" title="style" />
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />

    <title>dpkg-divert(1) - Linux manual page</title>
</head>

<body>

<div class="page-top"><a id="top_of_page"></a></div>
<!--%%%TOP_BAR%%%-->
    <div class="nav-bar">
        <table class="nav-table">
            <tr>
                <td class="nav-cell">
                    <p class="nav-text">
                        <a href="http://man7.org/index.html">man7.org</a> &gt; Linux &gt; <a href="../index.html">man-pages</a>
                    </p>
                </td>
                <td class="training-cell">
                    <p class="training-text"><a class="training-link" href="http://man7.org/training/">Linux/UNIX system programming training</a></p>
                </td>
            </tr>
        </table>
    </div>

<hr class="nav-end" />

<!--%%%PAGE_START%%%-->


<table class="sec-table">
<tr>
    <td>
        <p class="section-dir">
<a href="#NAME">NAME</a> | <a href="#SYNOPSIS">SYNOPSIS</a> | <a href="#DESCRIPTION">DESCRIPTION</a> | <a href="#COMMANDS">COMMANDS</a> | <a href="#OPTIONS">OPTIONS</a> | <a href="#EXIT_STATUS">EXIT&nbsp;STATUS</a> | <a href="#ENVIRONMENT">ENVIRONMENT</a> | <a href="#FILES">FILES</a> | <a href="#NOTES">NOTES</a> | <a href="#EXAMPLES">EXAMPLES</a> | <a href="#SEE_ALSO">SEE&nbsp;ALSO</a> | <a href="#COLOPHON">COLOPHON</a>
        </p>
    </td>
    <td class="search-box">
        <div class="man-search-box">

            <form method="get" action="http://www.google.com/search">
                <fieldset class="man-search">
                    <input type="text" name="q" size="10" maxlength="255" value="" />
                    <input type="hidden" name="sitesearch" value="man7.org/linux/man-pages" />
                    <input type="submit" name="sa" value="Search online pages" />
                </fieldset>
            </form>

        </div>
    </td>
    <td> </td>
</tr>
</table>

<pre>
<span class="headline">dpkg-divert(1)                   dpkg suite                   dpkg-divert(1)</span>
</pre>
<h2><a id="NAME" href="#NAME"></a>NAME  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       dpkg-divert - override a package's version of a file
</pre>
<h2><a id="SYNOPSIS" href="#SYNOPSIS"></a>SYNOPSIS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <b>dpkg-divert </b>[<i>option</i>...]  <i>command</i>
</pre>
<h2><a id="DESCRIPTION" href="#DESCRIPTION"></a>DESCRIPTION  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <b>dpkg-divert </b>is the utility used to set up and update the list of
       diversions.

       File <i>diversions</i> are a way of forcing <a href="dpkg.1.html">dpkg(1)</a> not to install a file
       into its location, but to a <i>diverted</i> location. Diversions can be used
       through the Debian package scripts to move a file away when it causes
       a conflict. System administrators can also use it to override some
       package's configuration file, or whenever some files (which aren't
       marked as “conffiles”) need to be preserved by <b>dpkg</b>, when installing
       a newer version of a package which contains those files.
</pre>
<h2><a id="COMMANDS" href="#COMMANDS"></a>COMMANDS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       [<b>--add</b>] <i>file</i>
              Add a diversion for <i>file</i>.

       <b>--remove </b><i>file</i>
              Remove a diversion for <i>file</i>.

       <b>--list </b><i>glob-pattern</i>
              List diversions matching <i>glob-pattern</i>.

       <b>--listpackage </b><i>file</i>
              Print the name of the package that diverts <i>file</i> (since dpkg
              1.15.0).  Prints LOCAL if <i>file</i> is locally diverted and nothing
              if <i>file</i> is not diverted.

       <b>--truename </b><i>file</i>
              Print the real name for a diverted file.
</pre>
<h2><a id="OPTIONS" href="#OPTIONS"></a>OPTIONS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <b>--admindir </b><i>directory</i>
              Set the <b>dpkg </b>data directory to <i>directory</i> (default:
              <i>/usr/local/var/lib/dpkg</i>).

       <b>--divert </b><i>divert-to</i>
              <i>divert-to</i> is the location where the versions of <i>file</i>, as
              provided by other packages, will be diverted.

       <b>--local</b>
              Specifies that all packages' versions of this file are
              diverted.  This means, that there are no exceptions, and
              whatever package is installed, the file is diverted. This can
              be used by an admin to install a locally modified version.

       <b>--package </b><i>package</i>
              <i>package</i> is the name of a package whose copy of <i>file</i> will not
              be diverted. i.e. <i>file</i> will be diverted for all packages
              except <i>package</i>.

       <b>--quiet</b>
              Quiet mode, i.e. no verbose output.

       <b>--rename</b>
              Actually move the file aside (or back). <b>dpkg-divert </b>will abort
              operation in case the destination file already exists.

       <b>--test </b>Test mode, i.e. don't actually perform any changes, just
              demonstrate.

       <b>-?</b>, <b>--help</b>
              Show the usage message and exit.

       <b>--version</b>
              Show the version and exit.
</pre>
<h2><a id="EXIT_STATUS" href="#EXIT_STATUS"></a>EXIT STATUS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <b>0      </b>The requested action was successfully performed.

       <b>2      </b>Fatal or unrecoverable error due to invalid command-line
              usage, or interactions with the system, such as accesses to
              the database, memory allocations, etc.
</pre>
<h2><a id="ENVIRONMENT" href="#ENVIRONMENT"></a>ENVIRONMENT  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <b>DPKG_ADMINDIR</b>
              If set and the <b>--admindir </b>option has not been specified, it
              will be used as the <b>dpkg </b>data directory.

       <b>DPKG_MAINTSCRIPT_PACKAGE</b>
              If set and the <b>--local </b>and <b>--package </b>options have not been
              specified, <b>dpkg-divert </b>will use it as the package name.
</pre>
<h2><a id="FILES" href="#FILES"></a>FILES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <i>/usr/local/var/lib/dpkg/diversions</i>
              File which contains the current list of diversions of the
              system. It is located in the <b>dpkg </b>administration directory,
              along with other files important to <b>dpkg</b>, such as <i>status</i> or
              <i>available</i>.
              Note: <b>dpkg-divert </b>preserves the old copy of this file, with
              extension <i>-old</i>, before replacing it with the new one.
</pre>
<h2><a id="NOTES" href="#NOTES"></a>NOTES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       When adding, default is <b>--local </b>and <b>--divert </b><i>original</i><b>.distrib</b>. When
       removing, <b>--package </b>or <b>--local </b>and <b>--divert </b>must match if specified.

       Directories can't be diverted with <b>dpkg-divert</b>.

       Care should be taken when diverting shared libraries, <a href="../man8/ldconfig.8.html">ldconfig(8)</a>
       creates a symbolic link based on the DT_SONAME field embedded in the
       library.  Because <b>ldconfig </b>doesn't honour diverts (only <b>dpkg </b>does),
       the symlink may end up pointing at the diverted library, if a
       diverted library has the same SONAME as the undiverted one.
</pre>
<h2><a id="EXAMPLES" href="#EXAMPLES"></a>EXAMPLES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       To divert all copies of a <i>/usr/bin/example</i> to <i>/usr/bin/example.foo</i>,
       i.e. directs all packages providing <i>/usr/bin/example</i> to install it as
       <i>/usr/bin/example.foo</i>, performing the rename if required:

       dpkg-divert --divert /usr/bin/example.foo --rename /usr/bin/example

       To remove that diversion:

       dpkg-divert --rename --remove /usr/bin/example

       To divert any package trying to install <i>/usr/bin/example</i> to
       <i>/usr/bin/example.foo</i>, except your own <i>wibble</i> package:

       dpkg-divert --package wibble --divert /usr/bin/example.foo --rename
              /usr/bin/example

       To remove that diversion:

       dpkg-divert --package wibble --rename --remove /usr/bin/example
</pre>
<h2><a id="SEE_ALSO" href="#SEE_ALSO"></a>SEE ALSO  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <a href="dpkg.1.html">dpkg(1)</a>.
</pre>
<h2><a id="COLOPHON" href="#COLOPHON"></a>COLOPHON  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       This page is part of the <i>dpkg</i> (Debian Package Manager) project.
       Information about the project can be found at 
       ⟨<a href="https://wiki.debian.org/Teams/Dpkg/">https://wiki.debian.org/Teams/Dpkg/</a>⟩.  If you have a bug report for
       this manual page, see 
       ⟨<a href="http://bugs.debian.org/cgi-bin/pkgreport.cgi?src=dpkg">http://bugs.debian.org/cgi-bin/pkgreport.cgi?src=dpkg</a>⟩.  This page
       was obtained from the project's upstream Git repository 
       ⟨git://git.debian.org/git/dpkg/dpkg.git⟩ on 2017-07-05.  If you dis‐
       cover any rendering problems in this HTML version of the page, or you
       believe there is a better or more up-to-date source for the page, or
       you have corrections or improvements to the information in this
       COLOPHON (which is <i>not</i> part of the original manual page), send a mail
       to man-pages@man7.org

<span class="footline">1.18.15-3-ga2ef                  1970-01-01                   dpkg-divert(1)</span>
</pre>

<hr class="end-man-text" />

 
<hr class="start-footer" />

<div class="footer"> 

<table class="colophon-table">
    <tr>
    <td class="pub-info">
        <p>
            HTML rendering created 2017-07-13
            by <a href="http://man7.org/mtk/index.html">Michael Kerrisk</a>, 
            author of 
            <a href="http://man7.org/tlpi/"><em>The Linux Programming Interface</em></a>, 
            maintainer of the 
            <a href="https://www.kernel.org/doc/man-pages/">Linux <em>man-pages</em> project</a>.
        </p>
        <p>
            For details of in-depth
            <strong>Linux/UNIX system programming training courses</strong>
            that I teach, look <a href="http://man7.org/training/">here</a>.
        </p>
        <p>
            Hosting by <a href="http://www.jambit.com/index_en.html">jambit GmbH</a>.
        </p>
        <p>
            <a href="http://validator.w3.org/check?uri=referer">
            <img src="http://www.w3.org/Icons/valid-xhtml11"
                alt="Valid XHTML 1.1" height="31" width="88" />
            </a>
        </p>
    </td>
    <td class="colophon-divider">
    </td>
    <td class="tlpi-cover">
        <a href="http://man7.org/tlpi/"><img src="../../../tlpi/cover/TLPI-front-cover-vsmall.png" alt="Cover of TLPI" /></a>
    </td>
    </tr>
</table>

</div>

<hr class="end-footer" />



<!--BEGIN-SITETRACKING-->
<!-- SITETRACKING.man7.org_linux_man-pages -->

<!-- Start of StatCounter Code (xhtml) -->

<script type="text/javascript">
//<![CDATA[
var sc_project=7422636; 
var sc_invisible=1; 
var sc_security="9b6714ff"; 
//]]>
</script>
<script type="text/javascript"
src="../../../../www.statcounter.com/counter/counter_xhtml.js"></script>
<noscript><div class="statcounter"><a title="website
statistics" href="http://statcounter.com/"
class="statcounter"><img class="statcounter"
src="http://c.statcounter.com/7422636/0/9b6714ff/1/"
alt="website statistics" /></a></div></noscript>

<!-- End of StatCounter Code -->


<!-- Start of Google Analytics Code -->

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-9830363-8']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<!-- End of Google Analytics Code -->

<!--END-SITETRACKING-->

</body>
</html>
