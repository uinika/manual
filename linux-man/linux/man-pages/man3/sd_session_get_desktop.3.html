
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
        "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <link rel="stylesheet" type="text/css" href="../../../style.css" title="style" />
    <link rel="stylesheet" type="text/css" href="../style.css" title="style" />
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />

    <title>sd_session_is_active(3) - Linux manual page</title>
</head>

<body>

<div class="page-top"><a id="top_of_page"></a></div>
<!--%%%TOP_BAR%%%-->
    <div class="nav-bar">
        <table class="nav-table">
            <tr>
                <td class="nav-cell">
                    <p class="nav-text">
                        <a href="http://man7.org/index.html">man7.org</a> &gt; Linux &gt; <a href="../index.html">man-pages</a>
                    </p>
                </td>
                <td class="training-cell">
                    <p class="training-text"><a class="training-link" href="http://man7.org/training/">Linux/UNIX system programming training</a></p>
                </td>
            </tr>
        </table>
    </div>

<hr class="nav-end" />

<!--%%%PAGE_START%%%-->


<table class="sec-table">
<tr>
    <td>
        <p class="section-dir">
<a href="#NAME">NAME</a> | <a href="#SYNOPSIS">SYNOPSIS</a> | <a href="#DESCRIPTION">DESCRIPTION</a> | <a href="#RETURN_VALUE">RETURN&nbsp;VALUE</a> | <a href="#ERRORS">ERRORS</a> | <a href="#NOTES">NOTES</a> | <a href="#SEE_ALSO">SEE&nbsp;ALSO</a> | <a href="#NOTES">NOTES</a> | <a href="#COLOPHON">COLOPHON</a>
        </p>
    </td>
    <td class="search-box">
        <div class="man-search-box">

            <form method="get" action="http://www.google.com/search">
                <fieldset class="man-search">
                    <input type="text" name="q" size="10" maxlength="255" value="" />
                    <input type="hidden" name="sitesearch" value="man7.org/linux/man-pages" />
                    <input type="submit" name="sa" value="Search online pages" />
                </fieldset>
            </form>

        </div>
    </td>
    <td> </td>
</tr>
</table>

<pre>
<span class="headline">SD_SESSION_IS_ACTIVE(3)     sd_session_is_active     SD_SESSION_IS_ACTIVE(3)</span>
</pre>
<h2><a id="NAME" href="#NAME"></a>NAME  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       sd_session_is_active, sd_session_is_remote, sd_session_get_state,
       sd_session_get_uid, sd_session_get_seat, sd_session_get_service,
       sd_session_get_type, sd_session_get_class, sd_session_get_desktop,
       sd_session_get_display, sd_session_get_tty, sd_session_get_vt,
       sd_session_get_remote_host, sd_session_get_remote_user - Determine
       state of a specific session
</pre>
<h2><a id="SYNOPSIS" href="#SYNOPSIS"></a>SYNOPSIS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <b>#include &lt;systemd/sd-login.h&gt;</b>

       <b>int sd_session_is_active(const char *</b><i>session</i><b>);</b>

       <b>int sd_session_is_remote(const char *</b><i>session</i><b>);</b>

       <b>int sd_session_get_state(const char *</b><i>session</i><b>, char **</b><i>state</i><b>);</b>

       <b>int sd_session_get_uid(const char *</b><i>session</i><b>, uid_t *</b><i>uid</i><b>);</b>

       <b>int sd_session_get_seat(const char *</b><i>session</i><b>, char **</b><i>seat</i><b>);</b>

       <b>int sd_session_get_service(const char *</b><i>session</i><b>, char **</b><i>service</i><b>);</b>

       <b>int sd_session_get_type(const char *</b><i>session</i><b>, char **</b><i>type</i><b>);</b>

       <b>int sd_session_get_class(const char *</b><i>session</i><b>, char **</b><i>class</i><b>);</b>

       <b>int sd_session_get_desktop(const char *</b><i>session</i><b>, char **</b><i>desktop</i><b>);</b>

       <b>int sd_session_get_display(const char *</b><i>session</i><b>, char **</b><i>display</i><b>);</b>

       <b>int sd_session_get_remote_host(const char *</b><i>session</i><b>,</b>
                                      <b>char **</b><i>remote_host</i><b>);</b>

       <b>int sd_session_get_remote_user(const char *</b><i>session</i><b>,</b>
                                      <b>char **</b><i>remote_user</i><b>);</b>

       <b>int sd_session_get_tty(const char *</b><i>session</i><b>, char **</b><i>tty</i><b>);</b>

       <b>int sd_session_get_vt(const char *</b><i>session</i><b>, unsigned int *</b><i>vt</i><b>);</b>
</pre>
<h2><a id="DESCRIPTION" href="#DESCRIPTION"></a>DESCRIPTION  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <b>sd_session_is_active() </b>may be used to determine whether the session
       identified by the specified session identifier is currently active
       (i.e. currently in the foreground and available for user input) or
       not.

       <b>sd_session_is_remote() </b>may be used to determine whether the session
       identified by the specified session identifier is a remote session
       (i.e. its remote host is known) or not.

       <b>sd_session_get_state() </b>may be used to determine the state of the
       session identified by the specified session identifier. The following
       states are currently known: "online" (session logged in, but session
       not active, i.e. not in the foreground), "active" (session logged in
       and active, i.e. in the foreground), "closing" (session nominally
       logged out, but some processes belonging to it are still around). In
       the future additional states might be defined, client code should be
       written to be robust in regards to additional state strings being
       returned. This function is a more generic version of
       <b>sd_session_is_active()</b>. The returned string needs to be freed with
       the libc <a href="free.3.html">free(3)</a> call after use.

       <b>sd_session_get_uid() </b>may be used to determine the user identifier of
       the Unix user the session identified by the specified session
       identifier belongs to.

       <b>sd_session_get_seat() </b>may be used to determine the seat identifier of
       the seat the session identified by the specified session identifier
       belongs to. Note that not all sessions are attached to a seat, this
       call will fail (returning <b>-ENODATA</b>) for them. The returned string
       needs to be freed with the libc <a href="free.3.html">free(3)</a> call after use.

       <b>sd_session_get_service() </b>may be used to determine the name of the
       service (as passed during PAM session setup) that registered the
       session identified by the specified session identifier. The returned
       string needs to be freed with the libc <a href="free.3.html">free(3)</a> call after use.

       <b>sd_session_get_type() </b>may be used to determine the type of the
       session identified by the specified session identifier. The returned
       string is one of "x11", "wayland", "tty", "mir" or "unspecified" and
       needs to be freed with the libc <a href="free.3.html">free(3)</a> call after use.

       <b>sd_session_get_class() </b>may be used to determine the class of the
       session identified by the specified session identifier. The returned
       string is one of "user", "greeter", "lock-screen", or "background"
       and needs to be freed with the libc <a href="free.3.html">free(3)</a> call after use.

       <b>sd_session_get_desktop() </b>may be used to determine the brand of the
       desktop running on the session identified by the specified session
       identifier. This field can be set freely by desktop environments and
       does not follow any special formatting. However, desktops are
       strongly recommended to use the same identifiers and capitalization
       as for <i>$XDG_CURRENT_DESKTOP</i>, as defined by the <b>Desktop Entry</b>
       <b>Specification</b><b></b>[1]. The returned string needs to be freed with the libc
       <a href="free.3.html">free(3)</a> call after use.

       <b>sd_session_get_display() </b>may be used to determine the X11 display of
       the session identified by the specified session identifier. The
       returned string needs to be freed with the libc <a href="free.3.html">free(3)</a> call after
       use.

       <b>sd_session_get_remote_host() </b>may be used to determine the remote
       hostname of the session identified by the specified session
       identifier. The returned string needs to be freed with the libc
       <a href="free.3.html">free(3)</a> call after use.

       <b>sd_session_get_remote_user() </b>may be used to determine the remote
       username of the session identified by the specified session
       identifier. The returned string needs to be freed with the libc
       <a href="free.3.html">free(3)</a> call after use. Note that this value is rarely known to the
       system, and even then should not be relied on.

       <b>sd_session_get_tty() </b>may be used to determine the TTY device of the
       session identified by the specified session identifier. The returned
       string needs to be freed with the libc <a href="free.3.html">free(3)</a> call after use.

       <b>sd_session_get_vt() </b>may be used to determine the VT number of the
       session identified by the specified session identifier. This function
       will return an error if the seat does not support VTs.

       If the <i>session</i> parameter of any of these functions is passed as <b>NULL</b>,
       the operation is executed for the session the calling process is a
       member of, if there is any.
</pre>
<h2><a id="RETURN_VALUE" href="#RETURN_VALUE"></a>RETURN VALUE  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       If the test succeeds, <b>sd_session_is_active() </b>and
       <b>sd_session_is_remote() </b>return a positive integer; if it fails, 0. On
       success, <b>sd_session_get_state()</b>, <b>sd_session_get_uid()</b>,
       <b>sd_session_get_seat()</b>, <b>sd_session_get_service()</b>,
       <b>sd_session_get_type()</b>, <b>sd_session_get_class()</b>,
       <b>sd_session_get_display()</b>, <b>sd_session_get_remote_user()</b>,
       <b>sd_session_get_remote_host() </b>and <b>sd_session_get_tty() </b>return 0 or a
       positive integer. On failure, these calls return a negative
       errno-style error code.
</pre>
<h2><a id="ERRORS" href="#ERRORS"></a>ERRORS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       Returned errors may indicate the following problems:

       <b>-ENXIO</b>
           The specified session does not exist.

       <b>-ENODATA</b>
           The given field is not specified for the described session.

       <b>-EINVAL</b>
           An input parameter was invalid (out of range, or NULL, where that
           is not accepted).

       <b>-ENOMEM</b>
           Memory allocation failed.
</pre>
<h2><a id="NOTES" href="#NOTES"></a>NOTES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The <b>sd_session_is_active()</b>, <b>sd_session_get_state()</b>,
       <b>sd_session_get_uid()</b>, <b>sd_session_get_seat()</b>,
       <b>sd_session_get_service()</b>, <b>sd_session_get_type()</b>,
       <b>sd_session_get_class()</b>, <b>sd_session_get_display()</b>,
       <b>sd_session_get_remote_host()</b>, <b>sd_session_get_remote_user() </b>and
       <b>sd_session_get_tty() </b>interfaces are available as a shared library,
       which can be compiled and linked to with the <b>libsystemd pkg-config</b>(1)
       file.
</pre>
<h2><a id="SEE_ALSO" href="#SEE_ALSO"></a>SEE ALSO  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <a href="../man1/systemd.1.html">systemd(1)</a>, <a href="sd-login.3.html">sd-login(3)</a>, <a href="sd_pid_get_session.3.html">sd_pid_get_session(3)</a>
</pre>
<h2><a id="NOTES" href="#NOTES"></a>NOTES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
        1. Desktop Entry Specification
           <a href="http://standards.freedesktop.org/desktop-entry-spec/latest/">http://standards.freedesktop.org/desktop-entry-spec/latest/</a>
</pre>
<h2><a id="COLOPHON" href="#COLOPHON"></a>COLOPHON  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       This page is part of the <i>systemd</i> (systemd system and service manager)
       project.  Information about the project can be found at 
       ⟨<a href="http://www.freedesktop.org/wiki/Software/systemd">http://www.freedesktop.org/wiki/Software/systemd</a>⟩.  If you have a bug
       report for this manual page, see 
       ⟨<a href="http://www.freedesktop.org/wiki/Software/systemd/#bugreports">http://www.freedesktop.org/wiki/Software/systemd/#bugreports</a>⟩.  This
       page was obtained from the project's upstream Git repository 
       ⟨<a href="https://github.com/systemd/systemd.git">https://github.com/systemd/systemd.git</a>⟩ on 2017-07-05.  If you dis‐
       cover any rendering problems in this HTML version of the page, or you
       believe there is a better or more up-to-date source for the page, or
       you have corrections or improvements to the information in this
       COLOPHON (which is <i>not</i> part of the original manual page), send a mail
       to man-pages@man7.org

<span class="footline">systemd 234                                          SD_SESSION_IS_ACTIVE(3)</span>
</pre>

<hr class="end-man-text" />
<p>Pages that refer to this page: 
    <a href="sd_get_seats.3.html">sd_get_seats(3)</a>,&nbsp; 
    <a href="sd-login.3.html">sd-login(3)</a>,&nbsp; 
    <a href="sd_pid_get_session.3.html">sd_pid_get_session(3)</a>,&nbsp; 
    <a href="sd_seat_get_active.3.html">sd_seat_get_active(3)</a>,&nbsp; 
    <a href="../man7/systemd.directives.7.html">systemd.directives(7)</a>,&nbsp; 
    <a href="../man7/systemd.index.7.html">systemd.index(7)</a>,&nbsp; 
    <a href="../man8/pam_systemd.8.html">pam_systemd(8)</a>
</p>
<hr/>

 
<hr class="start-footer" />

<div class="footer"> 

<table class="colophon-table">
    <tr>
    <td class="pub-info">
        <p>
            HTML rendering created 2017-07-13
            by <a href="http://man7.org/mtk/index.html">Michael Kerrisk</a>, 
            author of 
            <a href="http://man7.org/tlpi/"><em>The Linux Programming Interface</em></a>, 
            maintainer of the 
            <a href="https://www.kernel.org/doc/man-pages/">Linux <em>man-pages</em> project</a>.
        </p>
        <p>
            For details of in-depth
            <strong>Linux/UNIX system programming training courses</strong>
            that I teach, look <a href="http://man7.org/training/">here</a>.
        </p>
        <p>
            Hosting by <a href="http://www.jambit.com/index_en.html">jambit GmbH</a>.
        </p>
        <p>
            <a href="http://validator.w3.org/check?uri=referer">
            <img src="http://www.w3.org/Icons/valid-xhtml11"
                alt="Valid XHTML 1.1" height="31" width="88" />
            </a>
        </p>
    </td>
    <td class="colophon-divider">
    </td>
    <td class="tlpi-cover">
        <a href="http://man7.org/tlpi/"><img src="../../../tlpi/cover/TLPI-front-cover-vsmall.png" alt="Cover of TLPI" /></a>
    </td>
    </tr>
</table>

</div>

<hr class="end-footer" />



<!--BEGIN-SITETRACKING-->
<!-- SITETRACKING.man7.org_linux_man-pages -->

<!-- Start of StatCounter Code (xhtml) -->

<script type="text/javascript">
//<![CDATA[
var sc_project=7422636; 
var sc_invisible=1; 
var sc_security="9b6714ff"; 
//]]>
</script>
<script type="text/javascript"
src="../../../../www.statcounter.com/counter/counter_xhtml.js"></script>
<noscript><div class="statcounter"><a title="website
statistics" href="http://statcounter.com/"
class="statcounter"><img class="statcounter"
src="http://c.statcounter.com/7422636/0/9b6714ff/1/"
alt="website statistics" /></a></div></noscript>

<!-- End of StatCounter Code -->


<!-- Start of Google Analytics Code -->

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-9830363-8']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<!-- End of Google Analytics Code -->

<!--END-SITETRACKING-->

</body>
</html>
