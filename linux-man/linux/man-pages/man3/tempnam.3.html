
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
        "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <link rel="stylesheet" type="text/css" href="../../../style.css" title="style" />
    <link rel="stylesheet" type="text/css" href="../style.css" title="style" />
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />

    <title>tempnam(3) - Linux manual page</title>
</head>

<body>

<div class="page-top"><a id="top_of_page"></a></div>
<!--%%%TOP_BAR%%%-->
    <div class="nav-bar">
        <table class="nav-table">
            <tr>
                <td class="nav-cell">
                    <p class="nav-text">
                        <a href="http://man7.org/index.html">man7.org</a> &gt; Linux &gt; <a href="../index.html">man-pages</a>
                    </p>
                </td>
                <td class="training-cell">
                    <p class="training-text"><a class="training-link" href="http://man7.org/training/">Linux/UNIX system programming training</a></p>
                </td>
            </tr>
        </table>
    </div>

<hr class="nav-end" />

<!--%%%PAGE_START%%%-->


<table class="sec-table">
<tr>
    <td>
        <p class="section-dir">
<a href="#NAME">NAME</a> | <a href="#SYNOPSIS">SYNOPSIS</a> | <a href="#DESCRIPTION">DESCRIPTION</a> | <a href="#RETURN_VALUE">RETURN&nbsp;VALUE</a> | <a href="#ERRORS">ERRORS</a> | <a href="#ATTRIBUTES">ATTRIBUTES</a> | <a href="#CONFORMING_TO">CONFORMING&nbsp;TO</a> | <a href="#NOTES">NOTES</a> | <a href="#BUGS">BUGS</a> | <a href="#SEE_ALSO">SEE&nbsp;ALSO</a> | <a href="#COLOPHON">COLOPHON</a>
        </p>
    </td>
    <td class="search-box">
        <div class="man-search-box">

            <form method="get" action="http://www.google.com/search">
                <fieldset class="man-search">
                    <input type="text" name="q" size="10" maxlength="255" value="" />
                    <input type="hidden" name="sitesearch" value="man7.org/linux/man-pages" />
                    <input type="submit" name="sa" value="Search online pages" />
                </fieldset>
            </form>

        </div>
    </td>
    <td> </td>
</tr>
</table>

<pre>
<span class="headline">TEMPNAM(3)                Linux Programmer's Manual               TEMPNAM(3)</span>
</pre>
<h2><a id="NAME" href="#NAME"></a>NAME  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       tempnam - create a name for a temporary file
</pre>
<h2><a id="SYNOPSIS" href="#SYNOPSIS"></a>SYNOPSIS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <b>#include &lt;stdio.h&gt;</b>

       <b>char *tempnam(const char *</b><i>dir</i><b>, const char *</b><i>pfx</i><b>);</b>

   Feature Test Macro Requirements for glibc (see <a href="../man7/feature_test_macros.7.html">feature_test_macros(7)</a>):

       <b>tempnam</b>():
           Since glibc 2.19:
               _DEFAULT_SOURCE
           Glibc 2.19 and earlier:
               _BSD_SOURCE || _SVID_SOURCE
</pre>
<h2><a id="DESCRIPTION" href="#DESCRIPTION"></a>DESCRIPTION  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <i>Never use this function.</i>  Use <a href="mkstemp.3.html">mkstemp(3)</a> or <a href="tmpfile.3.html">tmpfile(3)</a> instead.

       The <b>tempnam</b>() function returns a pointer to a string that is a valid
       filename, and such that a file with this name did not exist when
       <b>tempnam</b>() checked.  The filename suffix of the pathname generated
       will start with <i>pfx</i> in case <i>pfx</i> is a non-NULL string of at most five
       bytes.  The directory prefix part of the pathname generated is
       required to be "appropriate" (often that at least implies writable).

       Attempts to find an appropriate directory go through the following
       steps:

       a) In case the environment variable <b>TMPDIR </b>exists and contains the
          name of an appropriate directory, that is used.

       b) Otherwise, if the <i>dir</i> argument is non-NULL and appropriate, it is
          used.

       c) Otherwise, <i>P_tmpdir</i> (as defined in <i>&lt;stdio.h&gt;</i>) is used when
          appropriate.

       d) Finally an implementation-defined directory may be used.

       The string returned by <b>tempnam</b>() is allocated using <a href="malloc.3.html">malloc(3)</a> and
       hence should be freed by <a href="free.3.html">free(3)</a>.
</pre>
<h2><a id="RETURN_VALUE" href="#RETURN_VALUE"></a>RETURN VALUE  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       On success, the <b>tempnam</b>() function returns a pointer to a unique
       temporary filename.  It returns NULL if a unique name cannot be
       generated, with <i><a href="errno.3.html">errno</a></i> set to indicate the cause of the error.
</pre>
<h2><a id="ERRORS" href="#ERRORS"></a>ERRORS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <b>ENOMEM </b>Allocation of storage failed.
</pre>
<h2><a id="ATTRIBUTES" href="#ATTRIBUTES"></a>ATTRIBUTES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       For an explanation of the terms used in this section, see
       <a href="../man7/attributes.7.html">attributes(7)</a>.

       ┌──────────┬───────────────┬─────────────┐
       │<b>Interface </b>│ <b>Attribute     </b>│ <b>Value       </b>│
       ├──────────┼───────────────┼─────────────┤
       │<b>tempnam</b>() │ Thread safety │ MT-Safe env │
       └──────────┴───────────────┴─────────────┘
</pre>
<h2><a id="CONFORMING_TO" href="#CONFORMING_TO"></a>CONFORMING TO  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       SVr4, 4.3BSD, POSIX.1-2001.  POSIX.1-2008 marks <b>tempnam</b>() as
       obsolete.
</pre>
<h2><a id="NOTES" href="#NOTES"></a>NOTES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       Although <b>tempnam</b>() generates names that are difficult to guess, it is
       nevertheless possible that between the time that <b>tempnam</b>() returns a
       pathname, and the time that the program opens it, another program
       might create that pathname using <a href="../man2/open.2.html">open(2)</a>, or create it as a symbolic
       link.  This can lead to security holes.  To avoid such possibilities,
       use the <a href="../man2/open.2.html">open(2)</a> <b>O_EXCL </b>flag to open the pathname.  Or better yet, use
       <a href="mkstemp.3.html">mkstemp(3)</a> or <a href="tmpfile.3.html">tmpfile(3)</a>.

       SUSv2 does not mention the use of <b>TMPDIR</b>; glibc will use it only when
       the program is not set-user-ID.  On SVr4, the directory used under <b>d)</b>
       is <i>/tmp</i> (and this is what glibc does).

       Because it dynamically allocates memory used to return the pathname,
       <b>tempnam</b>() is reentrant, and thus thread safe, unlike <a href="tmpnam.3.html">tmpnam(3)</a>.

       The <b>tempnam</b>() function generates a different string each time it is
       called, up to <b>TMP_MAX </b>(defined in <i>&lt;stdio.h&gt;</i>) times.  If it is called
       more than <b>TMP_MAX </b>times, the behavior is implementation defined.

       <b>tempnam</b>() uses at most the first five bytes from <i>pfx</i>.

       The glibc implementation of <b>tempnam</b>() will fail with the error <b>EEXIST</b>
       upon failure to find a unique name.
</pre>
<h2><a id="BUGS" href="#BUGS"></a>BUGS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The precise meaning of "appropriate" is undefined; it is unspecified
       how accessibility of a directory is determined.
</pre>
<h2><a id="SEE_ALSO" href="#SEE_ALSO"></a>SEE ALSO  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <a href="mkstemp.3.html">mkstemp(3)</a>, <a href="mktemp.3.html">mktemp(3)</a>, <a href="tmpfile.3.html">tmpfile(3)</a>, <a href="tmpnam.3.html">tmpnam(3)</a>
</pre>
<h2><a id="COLOPHON" href="#COLOPHON"></a>COLOPHON  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       This page is part of release 4.12 of the Linux <i>man-pages</i> project.  A
       description of the project, information about reporting bugs, and the
       latest version of this page, can be found at
       <a href="https://www.kernel.org/doc/man-pages/">https://www.kernel.org/doc/man-pages/</a>.

<span class="footline">                                 2016-03-15                       TEMPNAM(3)</span>
</pre>

<hr class="end-man-text" />
<p>Pages that refer to this page: 
    <a href="../man2/getpid.2.html">getpid(2)</a>,&nbsp; 
    <a href="mkdtemp.3.html">mkdtemp(3)</a>,&nbsp; 
    <a href="mkstemp.3.html">mkstemp(3)</a>,&nbsp; 
    <a href="mktemp.3.html">mktemp(3)</a>,&nbsp; 
    <a href="tmpfile.3.html">tmpfile(3)</a>,&nbsp; 
    <a href="tmpnam.3.html">tmpnam(3)</a>,&nbsp; 
    <a href="../man7/environ.7.html">environ(7)</a>
</p>
<hr/>

<p class="page-copyright"><a href="tempnam.3.license.html">Copyright and license for this manual page</a></p> 
<hr class="start-footer" />

<div class="footer"> 

<table class="colophon-table">
    <tr>
    <td class="pub-info">
        <p>
            HTML rendering created 2017-07-13
            by <a href="http://man7.org/mtk/index.html">Michael Kerrisk</a>, 
            author of 
            <a href="http://man7.org/tlpi/"><em>The Linux Programming Interface</em></a>, 
            maintainer of the 
            <a href="https://www.kernel.org/doc/man-pages/">Linux <em>man-pages</em> project</a>.
        </p>
        <p>
            For details of in-depth
            <strong>Linux/UNIX system programming training courses</strong>
            that I teach, look <a href="http://man7.org/training/">here</a>.
        </p>
        <p>
            Hosting by <a href="http://www.jambit.com/index_en.html">jambit GmbH</a>.
        </p>
        <p>
            <a href="http://validator.w3.org/check?uri=referer">
            <img src="http://www.w3.org/Icons/valid-xhtml11"
                alt="Valid XHTML 1.1" height="31" width="88" />
            </a>
        </p>
    </td>
    <td class="colophon-divider">
    </td>
    <td class="tlpi-cover">
        <a href="http://man7.org/tlpi/"><img src="../../../tlpi/cover/TLPI-front-cover-vsmall.png" alt="Cover of TLPI" /></a>
    </td>
    </tr>
</table>

</div>

<hr class="end-footer" />



<!--BEGIN-SITETRACKING-->
<!-- SITETRACKING.man7.org_linux_man-pages -->

<!-- Start of StatCounter Code (xhtml) -->

<script type="text/javascript">
//<![CDATA[
var sc_project=7422636; 
var sc_invisible=1; 
var sc_security="9b6714ff"; 
//]]>
</script>
<script type="text/javascript"
src="../../../../www.statcounter.com/counter/counter_xhtml.js"></script>
<noscript><div class="statcounter"><a title="website
statistics" href="http://statcounter.com/"
class="statcounter"><img class="statcounter"
src="http://c.statcounter.com/7422636/0/9b6714ff/1/"
alt="website statistics" /></a></div></noscript>

<!-- End of StatCounter Code -->


<!-- Start of Google Analytics Code -->

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-9830363-8']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<!-- End of Google Analytics Code -->

<!--END-SITETRACKING-->

</body>
</html>
