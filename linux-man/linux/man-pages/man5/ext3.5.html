
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
        "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <link rel="stylesheet" type="text/css" href="../../../style.css" title="style" />
    <link rel="stylesheet" type="text/css" href="../style.css" title="style" />
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />

    <title>ext4(5) - Linux manual page</title>
</head>

<body>

<div class="page-top"><a id="top_of_page"></a></div>
<!--%%%TOP_BAR%%%-->
    <div class="nav-bar">
        <table class="nav-table">
            <tr>
                <td class="nav-cell">
                    <p class="nav-text">
                        <a href="http://man7.org/index.html">man7.org</a> &gt; Linux &gt; <a href="../index.html">man-pages</a>
                    </p>
                </td>
                <td class="training-cell">
                    <p class="training-text"><a class="training-link" href="http://man7.org/training/">Linux/UNIX system programming training</a></p>
                </td>
            </tr>
        </table>
    </div>

<hr class="nav-end" />

<!--%%%PAGE_START%%%-->


<table class="sec-table">
<tr>
    <td>
        <p class="section-dir">
<a href="#NAME">NAME</a> | <a href="#DESCRIPTION">DESCRIPTION</a> | <a href="#FILE_SYSTEM_FEATURES">FILE&nbsp;SYSTEM&nbsp;FEATURES</a> | <a href="#MOUNT_OPTIONS">MOUNT&nbsp;OPTIONS</a> | <a href="#Mount_options_for_ext2">Mount&nbsp;options&nbsp;for&nbsp;ext2</a> | <a href="#Mount_options_for_ext3">Mount&nbsp;options&nbsp;for&nbsp;ext3</a> | <a href="#Mount_options_for_ext4">Mount&nbsp;options&nbsp;for&nbsp;ext4</a> | <a href="#FILE_ATTRIBUTES">FILE&nbsp;ATTRIBUTES</a> | <a href="#KERNEL_SUPPORT">KERNEL&nbsp;SUPPORT</a> | <a href="#SEE_ALSO">SEE&nbsp;ALSO</a> | <a href="#COLOPHON">COLOPHON</a>
        </p>
    </td>
    <td class="search-box">
        <div class="man-search-box">

            <form method="get" action="http://www.google.com/search">
                <fieldset class="man-search">
                    <input type="text" name="q" size="10" maxlength="255" value="" />
                    <input type="hidden" name="sitesearch" value="man7.org/linux/man-pages" />
                    <input type="submit" name="sa" value="Search online pages" />
                </fieldset>
            </form>

        </div>
    </td>
    <td> </td>
</tr>
</table>

<pre>
<span class="headline">EXT4(5)                      File Formats Manual                     EXT4(5)</span>
</pre>
<h2><a id="NAME" href="#NAME"></a>NAME  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       ext2 - the second extended file system
       ext3 - the third extended file system
       ext4 - the fourth extended file system
</pre>
<h2><a id="DESCRIPTION" href="#DESCRIPTION"></a>DESCRIPTION  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The second, third, and fourth extended file systems, or ext2, ext3,
       and ext4 as they are commonly known, are Linux file systems that have
       historically been the default file system for many Linux
       distributions.  They are general purpose file systems that have been
       designed for extensibility and backwards compatibility.  In
       particular, file systems previously intended for use with the ext2
       and ext3 file systems can be mounted using the ext4 file system
       driver, and indeed in many modern Linux distributions, the ext4 file
       system driver has been configured to handle mount requests for ext2
       and ext3 file systems.
</pre>
<h2><a id="FILE_SYSTEM_FEATURES" href="#FILE_SYSTEM_FEATURES"></a>FILE SYSTEM FEATURES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       A file system formatted for ext2, ext3, or ext4 can have some
       collection of the following file system feature flags enabled.  Some
       of these features are not supported by all implementations of the
       ext2, ext3, and ext4 file system drivers, depending on Linux kernel
       version in use.  On other operating systems, such as the GNU/HURD or
       FreeBSD, only a very restrictive set of file system features may be
       supported in their implementations of ext2.

       <b>64bit</b>
              Enables the file system to be larger than 2^32 blocks.  This
              feature is set automatically, as needed, but it can be useful
              to specify this feature explicitly if the file system might
              need to be resized larger than 2^32 blocks, even if it was
              smaller than that threshold when it was originally created.
              Note that some older kernels and older versions of e2fsprogs
              will not support file systems with this ext4 feature enabled.

       <b>bigalloc</b>
              This ext4 feature enables clustered block allocation, so that
              the unit of allocation is a power of two number of blocks.
              That is, each bit in the what had traditionally been known as
              the block allocation bitmap now indicates whether a cluster is
              in use or not, where a cluster is by default composed of 16
              blocks.  This feature can decrease the time spent on doing
              block allocation and brings smaller fragmentation, especially
              for large files.  The size can be specified using the <b>mke2fs</b>
              <b>-C </b>option.

              <b>Warning: </b>The bigalloc feature is still under development, and
              may not be fully supported with your kernel or may have
              various bugs.  Please see the web page
              <a href="http://ext4.wiki.kernel.org/index.php/Bigalloc">http://ext4.wiki.kernel.org/index.php/Bigalloc</a> for details.
              May clash with delayed allocation (see <b>nodelalloc </b>mount
              option).

              This feature requires that the <b>extent </b>feature be enabled.

       <b>dir_index</b>
              Use hashed b-trees to speed up name lookups in large
              directories.  This feature is supported by ext3 and ext4 file
              systems, and is ignored by ext2 file systems.

       <b>dir_nlink</b>
              This ext4 feature allows more than 65000 subdirectories per
              directory.

       <b>encrypt</b>
              This ext4 feature provides file-system level encryption of
              data blocks and file names.  The inode metadata (timestamps,
              file size, user/group ownership, etc.) is <i>not</i> encrypted.

              This feature is most useful on file systems with multiple
              users, or where not all files should be encrypted.  In many
              use cases, especially on single-user systems, encryption at
              the block device layer using dm-crypt may provide much better
              security.

       <b>ext_attr</b>
              This feature enables the use of extended attributes.  This
              feature is supported by ext2, ext3, and ext4.

       <b>extent</b>
              This ext4 feature allows the mapping of logical block numbers
              for a particular inode to physical blocks on the storage
              device to be stored using an extent tree, which is a more
              efficient data structure than the traditional indirect block
              scheme used by the ext2 and ext3 file systems.  The use of the
              extent tree decreases metadata block overhead, improves file
              system performance, and decreases the needed to run <a href="../man8/e2fsck.8.html">e2fsck(8)</a>
              on the file system.  (Note: both <b>extent </b>and <b>extents </b>are
              accepted as valid names for this feature for
              historical/backwards compatibility reasons.)

       <b>extra_isize</b>
              This ext4 feature reserves a specific amount of space in each
              inode for extended metadata such as nanosecond timestamps and
              file creation time, even if the current kernel does not
              currently need to reserve this much space.  Without this
              feature, the kernel will reserve the amount of space for
              features it currently needs, and the rest may be consumed by
              extended attributes.

              For this feature to be useful the inode size must be 256 bytes
              in size or larger.

       <b>filetype</b>
              This feature enables the storage of file type information in
              directory entries.  This feature is supported by ext2, ext3,
              and ext4.

       <b>flex_bg</b>
              This ext4 feature allows the per-block group metadata
              (allocation bitmaps and inode tables) to be placed anywhere on
              the storage media.  In addition, <b>mke2fs </b>will place the per-
              block group metadata together starting at the first block
              group of each "flex_bg group".   The size of the flex_bg group
              can be specified using the <b>-G </b>option.

       <b>has_journal</b>
              Create a journal to ensure filesystem consistency even across
              unclean shutdowns.  Setting the filesystem feature is
              equivalent to using the <b>-j </b>option with <b>mke2fs </b>or <b>tune2fs.</b>
              This feature is supported by ext3 and ext4, and ignored by the
              ext2 file system driver.

       <b>huge_file</b>
              This ext4 feature allows files to be larger than 2 terabytes
              in size.

       <b>inline_data</b>
              Allow data to be stored in the inode and extended attribute
              area.

       <b>journal_dev</b>
              This feature is enabled on the superblock found on an external
              journal device.  The block size for the external journal must
              be the same as the file system which uses it.

              The external journal device can be used by a file system by
              specifying the <b>-J device=</b>&lt;external-device&gt; option to <a href="../man8/mke2fs.8.html">mke2fs(8)</a>
              or <a href="../man8/tune2fs.8.html">tune2fs(8)</a>.

       <b>large_file</b>
              This feature flag is set automatically by modern kernels when
              a file larger than 2 gigabytes is created.  Very old kernels
              could not handle large files, so this feature flag was used to
              prohibit those kernels from mounting file systems that they
              could not understand.

       <b>meta_bg</b>
              This ext4 feature allows file systems to be resized on-line
              without explicitly needing to reserve space for growth in the
              size of the block group descriptors.  This scheme is also used
              to resize file systems which are larger than 2^32 blocks.  It
              is not recommended that this feature be set when a file system
              is created, since this alternate method of storing the block
              group descriptors will slow down the time needed to mount the
              file system, and newer kernels can automatically set this
              feature as necessary when doing an online resize and no more
              reserved space is available in the resize inode.

       <b>mmp</b>
              This ext4 feature provides multiple mount protection (MMP).
              MMP helps to protect the filesystem from being multiply
              mounted and is useful in shared storage environments.

              Causes the quota files (i.e., user.quota and group.quota which
              existed in the older quota design) to be hidden inodes.

       <b>project</b>
              This ext4 feature provides project quota support. With this
              feature, the project ID of inode will be managed when the
              filesystem is mounted.

       <b>quota</b>
              Create quota inodes (inode #3 for userquota and inode #4 for
              group quota) and set them in the superblock.  With this
              feature, the quotas will be enabled automatically when the
              filesystem is mounted.

       <b>resize_inode</b>
              This file system feature indicates that space has been
              reserved so that the block group descriptor table can be
              extended while resizing a mounted file system.  The online
              resize operation is carried out by the kernel, triggered by
              <a href="../man8/resize2fs.8.html">resize2fs(8)</a>.  By default <b>mke2fs </b>will attempt to reserve
              enough space so that the filesystem may grow to 1024 times its
              initial size.  This can be changed using the <b>resize </b>extended
              option.

              This feature requires that the <b>sparse_super </b>feature be
              enabled.

       <b>sparse_super</b>
              This file system feature is set on all modern ext2, ext3, and
              ext4 file systems.  It indicates that backup copies of the
              superblock and block group descriptors are present only in a
              few block groups, not all of them.

       <b>sparse_super2</b>
              This feature indicates that there will only be at most two
              backup superblocks and block group descriptors.  The block
              groups used to store the backup superblock(s) and blockgroup
              descriptor(s) are stored in the superblock, but typically, one
              will be located at the beginning of block group #1, and one in
              the last block group in the file system.  This feature is
              essentially a more extreme version of sparse_super and is
              designed to allow a much larger percentage of the disk to have
              contiguous blocks available for data files.

       <b>uninit_bg</b>
              This ext4 file system feature indicates that the block group
              descriptors will be protected using checksums, making it safe
              for <a href="../man8/mke2fs.8.html">mke2fs(8)</a> to create a file system without initializing all
              of the block groups.  The kernel will keep a high watermark of
              unused inodes, and initialize inode tables and blocks lazily.
              This feature speeds up the time to check the file system using
              <a href="../man8/e2fsck.8.html">e2fsck(8)</a>, and it also speeds up the time required for
              <a href="../man8/mke2fs.8.html">mke2fs(8)</a> to create the file system.
</pre>
<h2><a id="MOUNT_OPTIONS" href="#MOUNT_OPTIONS"></a>MOUNT OPTIONS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       This section describes mount options which are specific to ext2,
       ext3, and ext4.  Other generic mount options may be used as well; see
       <a href="../man8/mount.8.html">mount(8)</a> for details.
</pre>
<h2><a id="Mount_options_for_ext2" href="#Mount_options_for_ext2"></a>Mount options for ext2  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The `ext2' filesystem is the standard Linux filesystem.  Since Linux
       2.5.46, for most mount options the default is determined by the
       filesystem superblock. Set them with <a href="../man8/tune2fs.8.html">tune2fs(8)</a>.

       <b>acl</b>|<b>noacl</b>
              Support POSIX Access Control Lists (or not).  See the <a href="acl.5.html">acl(5)</a>
              manual page.

       <b>bsddf</b>|<b>minixdf</b>
              Set the behavior for the <i>statfs</i> system call. The <b>minixdf</b>
              behavior is to return in the <i>f_blocks</i> field the total number
              of blocks of the filesystem, while the <b>bsddf </b>behavior (which
              is the default) is to subtract the overhead blocks used by the
              ext2 filesystem and not available for file storage. Thus

              % mount /k -o minixdf; df /k; umount /k

              Filesystem  1024-blocks   Used  Available  Capacity  Mounted on
              /dev/sda6     2630655    86954   2412169      3%     /k

              % mount /k -o bsddf; df /k; umount /k

              Filesystem  1024-blocks  Used  Available  Capacity  Mounted on
              /dev/sda6     2543714      13   2412169      0%     /k

              (Note that this example shows that one can add command line
              options to the options given in <i>/etc/fstab</i>.)

       <b>check=none </b>or <b>nocheck</b>
              No checking is done at mount time. This is the default. This
              is fast.  It is wise to invoke <a href="../man8/e2fsck.8.html">e2fsck(8)</a> every now and then,
              e.g. at boot time. The non-default behavior is unsupported
              (check=normal and check=strict options have been removed).
              Note that these mount options don't have to be supported if
              ext4 kernel driver is used for ext2 and ext3 filesystems.

       <b>debug  </b>Print debugging info upon each (re)mount.

       <b>errors=</b>{<b>continue</b>|<b>remount-ro</b>|<b>panic</b>}
              Define the behavior when an error is encountered.  (Either
              ignore errors and just mark the filesystem erroneous and
              continue, or remount the filesystem read-only, or panic and
              halt the system.)  The default is set in the filesystem
              superblock, and can be changed using <a href="../man8/tune2fs.8.html">tune2fs(8)</a>.

       <b>grpid</b>|<b>bsdgroups </b>and <b>nogrpid</b>|<b>sysvgroups</b>
              These options define what group id a newly created file gets.
              When <b>grpid </b>is set, it takes the group id of the directory in
              which it is created; otherwise (the default) it takes the
              fsgid of the current process, unless the directory has the
              setgid bit set, in which case it takes the gid from the parent
              directory, and also gets the setgid bit set if it is a
              directory itself.

       <b>grpquota</b>|<b>noquota</b>|<b>quota</b>|<b>usrquota</b>
              The usrquota (same as quota) mount option enables user quota
              support on the filesystem. grpquota enables group quotas
              support. You need the quota utilities to actually enable and
              manage the quota system.

       <b>nouid32</b>
              Disables 32-bit UIDs and GIDs.  This is for interoperability
              with older kernels which only store and expect 16-bit values.

       <b>oldalloc </b>or <b>orlov</b>
              Use old allocator or Orlov allocator for new inodes. Orlov is
              default.

       <b>resgid=</b><i>n</i> and <b>resuid=</b><i>n</i>
              The ext2 filesystem reserves a certain percentage of the
              available space (by default 5%, see <a href="../man8/mke2fs.8.html">mke2fs(8)</a> and <a href="../man8/tune2fs.8.html">tune2fs(8)</a>).
              These options determine who can use the reserved blocks.
              (Roughly: whoever has the specified uid, or belongs to the
              specified group.)

       <b>sb=</b><i>n</i>   Instead of block 1, use block <i>n</i> as superblock. This could be
              useful when the filesystem has been damaged.  (Earlier, copies
              of the superblock would be made every 8192 blocks: in block 1,
              8193, 16385, ... (and one got thousands of copies on a big
              filesystem). Since version 1.08, <b>mke2fs </b>has a -s (sparse
              superblock) option to reduce the number of backup superblocks,
              and since version 1.15 this is the default. Note that this may
              mean that ext2 filesystems created by a recent <b>mke2fs </b>cannot
              be mounted r/w under Linux 2.0.*.)  The block number here uses
              1 k units. Thus, if you want to use logical block 32768 on a
              filesystem with 4 k blocks, use "sb=131072".

       <b>user_xattr</b>|<b>nouser_xattr</b>
              Support "user." extended attributes (or not).
</pre>
<h2><a id="Mount_options_for_ext3" href="#Mount_options_for_ext3"></a>Mount options for ext3  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The ext3 filesystem is a version of the ext2 filesystem which has
       been enhanced with journaling.  It supports the same options as ext2
       as well as the following additions:

       <b>journal_dev=devnum</b>/<b>journal_path=path</b>
              When the external journal device's major/minor numbers have
              changed, these options allow the user to specify the new
              journal location.  The journal device is identified either
              through its new major/minor numbers encoded in devnum, or via
              a path to the device.

       <b>norecovery</b>/<b>noload</b>
              Don't load the journal on mounting.  Note that if the
              filesystem was not unmounted cleanly, skipping the journal
              replay will lead to the filesystem containing inconsistencies
              that can lead to any number of problems.

       <b>data=</b>{<b>journal</b>|<b>ordered</b>|<b>writeback</b>}
              Specifies the journaling mode for file data.  Metadata is
              always journaled.  To use modes other than <b>ordered </b>on the root
              filesystem, pass the mode to the kernel as boot parameter,
              e.g. <i>rootflags=data=journal</i>.

              <b>journal</b>
                     All data is committed into the journal prior to being
                     written into the main filesystem.

              <b>ordered</b>
                     This is the default mode.  All data is forced directly
                     out to the main file system prior to its metadata being
                     committed to the journal.

              <b>writeback</b>
                     Data ordering is not preserved – data may be written
                     into the main filesystem after its metadata has been
                     committed to the journal.  This is rumoured to be the
                     highest-throughput option.  It guarantees internal
                     filesystem integrity, however it can allow old data to
                     appear in files after a crash and journal recovery.

       <b>data_err=ignore</b>
              Just print an error message if an error occurs in a file data
              buffer in ordered mode.

       <b>data_err=abort</b>
              Abort the journal if an error occurs in a file data buffer in
              ordered mode.

       <b>barrier=0 </b>/ <b>barrier=1</b>
              This disables / enables the use of write barriers in the jbd
              code.  barrier=0 disables, barrier=1 enables (default). This
              also requires an IO stack which can support barriers, and if
              jbd gets an error on a barrier write, it will disable barriers
              again with a warning.  Write barriers enforce proper on-disk
              ordering of journal commits, making volatile disk write caches
              safe to use, at some performance penalty.  If your disks are
              battery-backed in one way or another, disabling barriers may
              safely improve performance.

       <b>commit=</b><i>nrsec</i>
              Sync all data and metadata every <i>nrsec</i> seconds. The default
              value is 5 seconds. Zero means default.

       <b>user_xattr</b>
              Enable Extended User Attributes. See the <a href="attr.5.html">attr(5)</a> manual page.

       <b>usrjquota=aquota.user</b>|<b>grpjquota=aquota.group</b>|<b>jqfmt=vfsv0</b>
              Apart from the old quota system (as in ext2, jqfmt=vfsold aka
              version 1 quota) ext3 also supports journaled quotas (version
              2 quota). jqfmt=vfsv0 enables journaled quotas. For journaled
              quotas the mount options usrjquota=aquota.user and
              grpjquota=aquota.group are required to tell the quota system
              which quota database files to use. Journaled quotas have the
              advantage that even after a crash no quota check is required.
</pre>
<h2><a id="Mount_options_for_ext4" href="#Mount_options_for_ext4"></a>Mount options for ext4  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The ext4 filesystem is an advanced level of the ext3 filesystem which
       incorporates scalability and reliability enhancements for supporting
       large filesystem.

       The options <b>journal_dev, norecovery, noload, data, commit, orlov,</b>
       <b>oldalloc, [no]user_xattr [no]acl, bsddf, minixdf, debug, errors,</b>
       <b>data_err, grpid, bsdgroups, nogrpid sysvgroups, resgid, resuid, sb,</b>
       <b>quota, noquota, nouid32, grpquota, usrquota usrjquota, grpjquota and</b>
       <b>jqfmt </b>are backwardly compatible with ext3 or ext2.

       <b>journal_checksum</b>
              Enable checksumming of the journal transactions.  This will
              allow the recovery code in e2fsck and the kernel to detect
              corruption in the kernel.  It is a compatible change and will
              be ignored by older kernels.

       <b>journal_async_commit</b>
              Commit block can be written to disk without waiting for
              descriptor blocks. If enabled older kernels cannot mount the
              device.  This will enable 'journal_checksum' internally.

       <b>barrier=0 </b>/ <b>barrier=1 </b>/ <b>barrier </b>/ <b>nobarrier</b>
              These mount options have the same effect as in ext3.  The
              mount options "barrier" and "nobarrier" are added for
              consistency with other ext4 mount options.

              The ext4 filesystem enables write barriers by default.

       <b>inode_readahead_blks=</b><i>n</i>
              This tuning parameter controls the maximum number of inode
              table blocks that ext4's inode table readahead algorithm will
              pre-read into the buffer cache.  The value must be a power of
              2. The default value is 32 blocks.

       <b>stripe=</b><i>n</i>
              Number of filesystem blocks that mballoc will try to use for
              allocation size and alignment. For RAID5/6 systems this should
              be the number of data disks * RAID chunk size in filesystem
              blocks.

       <b>delalloc</b>
              Deferring block allocation until write-out time.

       <b>nodelalloc</b>
              Disable delayed allocation. Blocks are allocated when data is
              copied from user to page cache.

       <b>max_batch_time=</b><i>usec</i>
              Maximum amount of time ext4 should wait for additional
              filesystem operations to be batch together with a synchronous
              write operation. Since a synchronous write operation is going
              to force a commit and then a wait for the I/O complete, it
              doesn't cost much, and can be a huge throughput win, we wait
              for a small amount of time to see if any other transactions
              can piggyback on the synchronous write. The algorithm used is
              designed to automatically tune for the speed of the disk, by
              measuring the amount of time (on average) that it takes to
              finish committing a transaction. Call this time the "commit
              time".  If the time that the transaction has been running is
              less than the commit time, ext4 will try sleeping for the
              commit time to see if other operations will join the
              transaction. The commit time is capped by the max_batch_time,
              which defaults to 15000 µs (15 ms). This optimization can be
              turned off entirely by setting max_batch_time to 0.

       <b>min_batch_time=</b><i>usec</i>
              This parameter sets the commit time (as described above) to be
              at least min_batch_time. It defaults to zero microseconds.
              Increasing this parameter may improve the throughput of multi-
              threaded, synchronous workloads on very fast disks, at the
              cost of increasing latency.

       <b>journal_ioprio=</b><i>prio</i>
              The I/O priority (from 0 to 7, where 0 is the highest
              priority) which should be used for I/O operations submitted by
              kjournald2 during a commit operation.  This defaults to 3,
              which is a slightly higher priority than the default I/O
              priority.

       <b>abort  </b>Simulate the effects of calling ext4_abort() for debugging
              purposes.  This is normally used while remounting a filesystem
              which is already mounted.

       <b>auto_da_alloc</b>|<b>noauto_da_alloc</b>
              Many broken applications don't use fsync() when replacing
              existing files via patterns such as

              fd = open("foo.new")/write(fd,...)/close(fd)/
              rename("foo.new", "foo")

              or worse yet

              fd = open("foo", O_TRUNC)/write(fd,...)/close(fd).

              If auto_da_alloc is enabled, ext4 will detect the replace-via-
              rename and replace-via-truncate patterns and force that any
              delayed allocation blocks are allocated such that at the next
              journal commit, in the default data=ordered mode, the data
              blocks of the new file are forced to disk before the rename()
              operation is committed.  This provides roughly the same level
              of guarantees as ext3, and avoids the "zero-length" problem
              that can happen when a system crashes before the delayed
              allocation blocks are forced to disk.

       <b>noinit_itable</b>
              Do not initialize any uninitialized inode table blocks in the
              background. This feature may be used by installation CD's so
              that the install process can complete as quickly as possible;
              the inode table initialization process would then be deferred
              until the next time the filesystem is mounted.

       <b>init_itable=n</b>
              The lazy itable init code will wait n times the number of
              milliseconds it took to zero out the previous block group's
              inode table. This minimizes the impact on system performance
              while the filesystem's inode table is being initialized.

       <b>discard</b>/<b>nodiscard</b>
              Controls whether ext4 should issue discard/TRIM commands to
              the underlying block device when blocks are freed.  This is
              useful for SSD devices and sparse/thinly-provisioned LUNs, but
              it is off by default until sufficient testing has been done.

       <b>block_validity</b>/<b>noblock_validity</b>
              This options enables/disables the in-kernel facility for
              tracking filesystem metadata blocks within internal data
              structures. This allows multi-block allocator and other
              routines to quickly locate extents which might overlap with
              filesystem metadata blocks. This option is intended for
              debugging purposes and since it negatively affects the
              performance, it is off by default.

       <b>dioread_lock</b>/<b>dioread_nolock</b>
              Controls whether or not ext4 should use the DIO read locking.
              If the dioread_nolock option is specified ext4 will allocate
              uninitialized extent before buffer write and convert the
              extent to initialized after IO completes.  This approach
              allows ext4 code to avoid using inode mutex, which improves
              scalability on high speed storages. However this does not work
              with data journaling and dioread_nolock option will be ignored
              with kernel warning.  Note that dioread_nolock code path is
              only used for extent-based files.  Because of the restrictions
              this options comprises it is off by default (e.g.
              dioread_lock).

       <b>max_dir_size_kb=n</b>
              This limits the size of the directories so that any attempt to
              expand them beyond the specified limit in kilobytes will cause
              an ENOSPC error. This is useful in memory-constrained
              environments, where a very large directory can cause severe
              performance problems or even provoke the Out Of Memory killer.
              (For example, if there is only 512 MB memory available, a
              176 MB directory may seriously cramp the system's style.)

       <b>i_version</b>
              Enable 64-bit inode version support. This option is off by
              default.
</pre>
<h2><a id="FILE_ATTRIBUTES" href="#FILE_ATTRIBUTES"></a>FILE ATTRIBUTES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       The ext2, ext3, and ext4 filesystems support setting the following
       file attributes on Linux systems using the <a href="../man1/chattr.1.html">chattr(1)</a> utility:

       <b>a </b>- append only

       <b>A </b>- no atime updates

       <b>d </b>- no dump

       <b>D </b>- synchronous directory updates

       <b>i </b>- immutable

       <b>S </b>- synchronous updates

       <b>u </b>- undeletable

       In addition, the ext3 and ext4 filesystems support the following
       flag:

       <b>j </b>- data journaling

       Finally, the ext4 filesystem also supports the following flag:

       <b>e </b>- extents format

       For descriptions of these attribute flags, please refer to the
       <a href="../man1/chattr.1.html">chattr(1)</a> man page.
</pre>
<h2><a id="KERNEL_SUPPORT" href="#KERNEL_SUPPORT"></a>KERNEL SUPPORT  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       This section lists the file system driver (e.g., ext2, ext3, ext4)
       and upstream kernel version where a particular file system feature
       was supported.  Note that in some cases the feature was present in
       earlier kernel versions, but there were known, serious bugs.  In
       other cases the feature may still be considered in an experimental
       state.  Finally, note that some distributions may have backported
       features into older kernels; in particular the kernel versions in
       certain "enterprise distributions" can be extremely misleading.

       <b>filetype            </b>ext2, 2.2.0

       <b>sparse_super        </b>ext2, 2.2.0

       <b>large_file          </b>ext2, 2.2.0

       <b>has_journal         </b>ext3, 2.4.15

       <b>ext_attr            </b>ext2/ext3, 2.6.0

       <b>dir_index           </b>ext3, 2.6.0

       <b>resize_inode        </b>ext3, 2.6.10 (online resizing)

       <b>64bit               </b>ext4, 2.6.28

       <b>dir_nlink           </b>ext4, 2.6.28

       <b>extent              </b>ext4, 2.6.28

       <b>extra_isize         </b>ext4, 2.6.28

       <b>flex_bg             </b>ext4, 2.6.28

       <b>huge_file           </b>ext4, 2.6.28

       <b>meta_bg             </b>ext4, 2.6.28

       <b>uninit_bg           </b>ext4, 2.6.28

       <b>mmp                 </b>ext4, 3.0

       <b>bigalloc            </b>ext4, 3.2

       <b>quota               </b>ext4, 3.6

       <b>inline_data         </b>ext4, 3.8

       <b>sparse_super2       </b>ext4, 3.16

       <b>metadata_csum       </b>ext4, 3.18

       <b>encrypt             </b>ext4, 4.1

       <b>project             </b>ext4, 4.5
</pre>
<h2><a id="SEE_ALSO" href="#SEE_ALSO"></a>SEE ALSO  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <a href="../man8/mke2fs.8.html">mke2fs(8)</a>, <a href="mke2fs.conf.5.html">mke2fs.conf(5)</a>, <a href="../man8/e2fsck.8.html">e2fsck(8)</a>, <a href="../man8/dumpe2fs.8.html">dumpe2fs(8)</a>, <a href="../man8/tune2fs.8.html">tune2fs(8)</a>,
       <a href="../man8/debugfs.8.html">debugfs(8)</a>, <a href="../man8/mount.8.html">mount(8)</a>, <a href="../man1/chattr.1.html">chattr(1)</a>
</pre>
<h2><a id="COLOPHON" href="#COLOPHON"></a>COLOPHON  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       This page is part of the <i>e2fsprogs</i> (utilities for ext2/3/4
       filesystems) project.  Information about the project can be found at
       ⟨<a href="http://e2fsprogs.sourceforge.net/">http://e2fsprogs.sourceforge.net/</a>⟩.  It is not known how to report
       bugs for this man page; if you know, please send a mail to
       man-pages@man7.org.  This page was obtained from the project's
       upstream Git repository 
       ⟨git://git.kernel.org/pub/scm/fs/ext2/e2fsprogs.git⟩ on 2017-07-05.
       If you discover any rendering problems in this HTML version of the
       page, or you believe there is a better or more up-to-date source for
       the page, or you have corrections or improvements to the information
       in this COLOPHON (which is <i>not</i> part of the original manual page),
       send a mail to man-pages@man7.org

<span class="footline">E2fsprogs version 1.43.5-WIP    February 2017                        EXT4(5)</span>
</pre>

<hr class="end-man-text" />
<p>Pages that refer to this page: 
    <a href="../man1/chattr.1.html">chattr(1)</a>,&nbsp; 
    <a href="../man1/fuse2fs.1.html">fuse2fs(1)</a>,&nbsp; 
    <a href="../man2/ioctl_iflags.2.html">ioctl_iflags(2)</a>,&nbsp; 
    <a href="../man2/link.2.html">link(2)</a>,&nbsp; 
    <a href="filesystems.5.html">filesystems(5)</a>,&nbsp; 
    <a href="../man8/debugfs.8.html">debugfs(8)</a>,&nbsp; 
    <a href="../man8/dmstats.8.html">dmstats(8)</a>,&nbsp; 
    <a href="../man8/dumpe2fs.8.html">dumpe2fs(8)</a>,&nbsp; 
    <a href="../man8/mke2fs.8.html">mke2fs(8)</a>,&nbsp; 
    <a href="../man8/tune2fs.8.html">tune2fs(8)</a>
</p>
<hr/>

 
<hr class="start-footer" />

<div class="footer"> 

<table class="colophon-table">
    <tr>
    <td class="pub-info">
        <p>
            HTML rendering created 2017-07-13
            by <a href="http://man7.org/mtk/index.html">Michael Kerrisk</a>, 
            author of 
            <a href="http://man7.org/tlpi/"><em>The Linux Programming Interface</em></a>, 
            maintainer of the 
            <a href="https://www.kernel.org/doc/man-pages/">Linux <em>man-pages</em> project</a>.
        </p>
        <p>
            For details of in-depth
            <strong>Linux/UNIX system programming training courses</strong>
            that I teach, look <a href="http://man7.org/training/">here</a>.
        </p>
        <p>
            Hosting by <a href="http://www.jambit.com/index_en.html">jambit GmbH</a>.
        </p>
        <p>
            <a href="http://validator.w3.org/check?uri=referer">
            <img src="http://www.w3.org/Icons/valid-xhtml11"
                alt="Valid XHTML 1.1" height="31" width="88" />
            </a>
        </p>
    </td>
    <td class="colophon-divider">
    </td>
    <td class="tlpi-cover">
        <a href="http://man7.org/tlpi/"><img src="../../../tlpi/cover/TLPI-front-cover-vsmall.png" alt="Cover of TLPI" /></a>
    </td>
    </tr>
</table>

</div>

<hr class="end-footer" />



<!--BEGIN-SITETRACKING-->
<!-- SITETRACKING.man7.org_linux_man-pages -->

<!-- Start of StatCounter Code (xhtml) -->

<script type="text/javascript">
//<![CDATA[
var sc_project=7422636; 
var sc_invisible=1; 
var sc_security="9b6714ff"; 
//]]>
</script>
<script type="text/javascript"
src="../../../../www.statcounter.com/counter/counter_xhtml.js"></script>
<noscript><div class="statcounter"><a title="website
statistics" href="http://statcounter.com/"
class="statcounter"><img class="statcounter"
src="http://c.statcounter.com/7422636/0/9b6714ff/1/"
alt="website statistics" /></a></div></noscript>

<!-- End of StatCounter Code -->


<!-- Start of Google Analytics Code -->

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-9830363-8']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<!-- End of Google Analytics Code -->

<!--END-SITETRACKING-->

</body>
</html>
