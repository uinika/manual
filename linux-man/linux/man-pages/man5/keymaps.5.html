
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
        "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <link rel="stylesheet" type="text/css" href="../../../style.css" title="style" />
    <link rel="stylesheet" type="text/css" href="../style.css" title="style" />
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />

    <title>keymaps(5) - Linux manual page</title>
</head>

<body>

<div class="page-top"><a id="top_of_page"></a></div>
<!--%%%TOP_BAR%%%-->
    <div class="nav-bar">
        <table class="nav-table">
            <tr>
                <td class="nav-cell">
                    <p class="nav-text">
                        <a href="http://man7.org/index.html">man7.org</a> &gt; Linux &gt; <a href="../index.html">man-pages</a>
                    </p>
                </td>
                <td class="training-cell">
                    <p class="training-text"><a class="training-link" href="http://man7.org/training/">Linux/UNIX system programming training</a></p>
                </td>
            </tr>
        </table>
    </div>

<hr class="nav-end" />

<!--%%%PAGE_START%%%-->


<table class="sec-table">
<tr>
    <td>
        <p class="section-dir">
<a href="#NAME">NAME</a> | <a href="#DESCRIPTION">DESCRIPTION</a> | <a href="#INCLUDE_FILES">INCLUDE&nbsp;FILES</a> | <a href="#CHARSET_DEFINITIONS">CHARSET&nbsp;DEFINITIONS</a> | <a href="#COMPLETE_KEYCODE_DEFINITIONS">COMPLETE&nbsp;KEYCODE&nbsp;DEFINITIONS</a> | <a href="#SINGLE_MODIFIER_DEFINITIONS">SINGLE&nbsp;MODIFIER&nbsp;DEFINITIONS</a> | <a href="#STRING_DEFINITIONS">STRING&nbsp;DEFINITIONS</a> | <a href="#COMPOSE_DEFINITIONS">COMPOSE&nbsp;DEFINITIONS</a> | <a href="#ABBREVIATIONS">ABBREVIATIONS</a> | <a href="#EXAMPLES">EXAMPLES</a> | <a href="#SEE_ALSO">SEE&nbsp;ALSO</a> | <a href="#COLOPHON">COLOPHON</a>
        </p>
    </td>
    <td class="search-box">
        <div class="man-search-box">

            <form method="get" action="http://www.google.com/search">
                <fieldset class="man-search">
                    <input type="text" name="q" size="10" maxlength="255" value="" />
                    <input type="hidden" name="sitesearch" value="man7.org/linux/man-pages" />
                    <input type="submit" name="sa" value="Search online pages" />
                </fieldset>
            </form>

        </div>
    </td>
    <td> </td>
</tr>
</table>

<pre>
<span class="headline">KEYMAPS(5)                   File Formats Manual                  KEYMAPS(5)</span>
</pre>
<h2><a id="NAME" href="#NAME"></a>NAME  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       keymaps - keyboard table descriptions for loadkeys and dumpkeys
</pre>
<h2><a id="DESCRIPTION" href="#DESCRIPTION"></a>DESCRIPTION  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       These files are used by <a href="../man1/loadkeys.1.html">loadkeys(1)</a> to modify the translation tables
       used by the kernel keyboard driver and generated by <a href="../man1/dumpkeys.1.html">dumpkeys(1)</a> from
       those translation tables.

       The format of these files is vaguely similar to the one accepted by
       <b>xmodmap</b>(1).  The file consists of charset or key or string definition
       lines interspersed with comments.

       Comments are introduced with <b>!  </b>or <b># </b>characters and continue to the
       end of the line. Anything following one of these characters on that
       line is ignored. Note that comments need not begin from column one as
       with <b>xmodmap</b>(1).

       The syntax of keymap files is line oriented; a complete definition
       must fit on a single logical line. Logical lines can, however, be
       split into multiple physical lines by ending each subline with the
       backslash character (\).
</pre>
<h2><a id="INCLUDE_FILES" href="#INCLUDE_FILES"></a>INCLUDE FILES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       A keymap can include other keymaps using the syntax

              include "pathname"
</pre>
<h2><a id="CHARSET_DEFINITIONS" href="#CHARSET_DEFINITIONS"></a>CHARSET DEFINITIONS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       A character set definition line is of the form:

              charset "iso-8859-x"

       It defines how following keysyms are to be interpreted.  For example,
       in iso-8859-1 the symbol mu (or micro) has code 0265, while in
       iso-8859-7 the letter mu has code 0354.
</pre>
<h2><a id="COMPLETE_KEYCODE_DEFINITIONS" href="#COMPLETE_KEYCODE_DEFINITIONS"></a>COMPLETE KEYCODE DEFINITIONS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       Each complete key definition line is of the form:

              <b>keycode </b><i>keynumber</i> <b>= </b><i>keysym keysym keysym</i>...

       <i>keynumber</i> is the internal identification number of the key, roughly
       equivalent to the scan code of it.  <i>keynumber</i> can be given in
       decimal, octal or hexadecimal notation.  Octal is denoted by a
       leading zero and hexadecimal by the prefix <b>0x.</b>

       Each of the <i>keysyms</i> represent keyboard actions, of which up to 256
       can be bound to a single key. The actions available include
       outputting character codes or character sequences, switching consoles
       or keymaps, booting the machine etc. (The complete list can be
       obtained from dumpkeys(1) by saying  <b>dumpkeys -l </b>.)

       Each <i>keysym</i> may be prefixed by a '+' (plus sign), in wich case this
       keysym is treated as a "letter" and therefore affected by the
       "CapsLock" the same way as by "Shift" (to be correct, the CapsLock
       inverts the Shift state).  The ASCII letters ('a'-'z' and 'A'-'Z')
       are made CapsLock'able by default.  If Shift+CapsLock should not
       produce a lower case symbol, put lines like

              <b>keycode 30 = +a  A</b>

       in the map file.

       Which of the actions bound to a given key is taken when it is pressed
       depends on what modifiers are in effect at that moment.  The keyboard
       driver supports 9 modifiers. These modifiers are labeled (completely
       arbitrarily) Shift, AltGr, Control, Alt, ShiftL, ShiftR, CtrlL, CtrlR
       and CapsShift.  Each of these modifiers has an associated weight of
       power of two according to the following table:

              <i>modifier</i>            <i>weight</i>

              Shift                  1
              AltGr                  2
              Control                4
              Alt                    8
              ShiftL                16
              ShiftR                32
              CtrlL                 64
              CtrlR                128
              CapsShift            256

       The effective action of a key is found out by adding up the weights
       of all the modifiers in effect. By default, no modifiers are in
       effect, so action number zero, i.e. the one in the first column in a
       key definition line, is taken when the key is pressed or released.
       When e.g. Shift and Alt modifiers are in effect, action number nine
       (from the 10th column) is the effective one.

       Changing the state of what modifiers are in effect can be achieved by
       binding appropriate key actions to desired keys. For example, binding
       the symbol Shift to a key sets the Shift modifier in effect when that
       key is pressed and cancels the effect of that modifier when the key
       is released. Binding AltGr_Lock to a key sets AltGr in effect when
       the key is pressed and cancels the effect when the key is pressed
       again.  (By default Shift, AltGr, Control and Alt are bound to the
       keys that bear a similar label; AltGr may denote the right Alt key.)

       Note that you should be very careful when binding the modifier keys,
       otherwise you can end up with an unusable keyboard mapping. If you
       for example define a key to have Control in its first column and
       leave the rest of the columns to be VoidSymbols, you're in trouble.
       This is because pressing the key puts Control modifier in effect and
       the following actions are looked up from the fifth column (see the
       table above). So, when you release the key, the action from the fifth
       column is taken. It has VoidSymbol in it, so nothing happens. This
       means that the Control modifier is still in effect, although you have
       released the key.  Re-pressing and releasing the key has no effect.
       To avoid this, you should always define all the columns to have the
       same modifier symbol. There is a handy short-hand notation for this,
       see below.

       <i>keysyms</i> can be given in decimal, octal, hexadecimal, unicode or
       symbolic notation.  The numeric notations use the same format as with
       <i>keynumber</i>.  Unicode notation is "U+" followed by four hexadecimal
       digits.  The symbolic notation resembles that used by <b>xmodmap</b>(1).
       Notable differences are the number symbols. The numeric symbols '0',
       ..., '9' of <b>xmodmap</b>(1) are replaced with the corresponding words
       'zero', 'one', ... 'nine' to avoid confusion with the numeric
       notation.

       It should be noted that using numeric notation for the <i>keysyms</i> is
       highly unportable as the key action numbers may vary from one kernel
       version to another and the use of numeric notations is thus strongly
       discouraged. They are intended to be used only when you know there is
       a supported keyboard action in your kernel for which your current
       version of <a href="../man1/loadkeys.1.html">loadkeys(1)</a> has no symbolic name.

       There is a number of short-hand notations to add readability and
       reduce typing work and the probability of typing-errors.

       First of all, you can give a map specification line, of the form

              keymaps 0-2,4-5,8,12

       to indicate that the lines of the keymap will not specify all 256
       columns, but only the indicated ones. (In the example: only the
       plain, Shift, AltGr, Control, Control+Shift, Alt and Control+Alt
       maps, that is, 7 columns instead of 256.)  When no such line is
       given, the keymaps 0-M will be defined, where M+1 is the maximum num‐
       ber of entries found in any definition line.

       Next, you can leave off any trailing VoidSymbol entries from a key
       definition line. VoidSymbol denotes a keyboard action which produces
       no output and has no other effects either. For example, to define key
       number 30 to output 'a' unshifted, 'A' when pressed with Shift and do
       nothing when pressed with AltGr or other modifiers, you can write

              keycode  30 = a     A

       instead of the more verbose

              keycode  30 = a     A    VoidSymbol     VoidSymbol \
                        VoidSymbol VoidSymbol VoidSymbol ...

       For added convenience, you can usually get off with still more terse
       definitions. If you enter a key definition line with only and exactly
       one action code after the equals sign, it has a special meaning. If
       the code (numeric or symbolic) is not an ASCII letter, it means the
       code is implicitly replicated through all columns being defined.  If,
       on the other hand, the action code is an ASCII character in the range
       'a', ..., 'z' or 'A', ..., 'Z' in the ASCII collating sequence, the
       following definitions are made for the different modifier combina‐
       tions, provided these are actually being defined.  (The table lists
       the two possible cases: either the single action code is a lower case
       letter, denoted by 'x' or an upper case letter, denoted by 'Y'.)

           <i>modifier</i>                <i>symbol</i>

           none                    x              Y
           Shift                   X              y
           AltGr                   x              Y
           Shift+AltGr             X              y
           Control                 Control_x      Control_y
           Shift+Control           Control_x      Control_y
           AltGr+Control           Control_x      Control_y
           Shift+AltGr+Control     Control_x      Control_y
           Alt                     Meta_x         Meta_Y
           Shift+Alt               Meta_X         Meta_y
           AltGr+Alt               Meta_x         Meta_Y
           Shift+AltGr+Alt         Meta_X         Meta_y
           Control+Alt             Meta_Control_x Meta_Control_y
           Shift+Control+Alt       Meta_Control_x Meta_Control_y
           AltGr+Control+Alt       Meta_Control_x Meta_Control_y
           Shift+AltGr+Control+Alt Meta_Control_x Meta_Control_y
</pre>
<h2><a id="SINGLE_MODIFIER_DEFINITIONS" href="#SINGLE_MODIFIER_DEFINITIONS"></a>SINGLE MODIFIER DEFINITIONS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       All the previous forms of key definition lines always define all the
       M+1 possible modifier combinations being defined, whether the line
       actually contains that many action codes or not.  There is, however,
       a variation of the definition syntax for defining only single actions
       to a particular modifier combination of a key. This is especially
       useful, if you load a keymap which doesn't match your needs in only
       some modifier combinations, like AltGr+function keys. You can then
       make a small local file redefining only those modifier combinations
       and loading it after the main file.  The syntax of this form is:

       { <b>plain </b>| &lt;modifier sequence&gt; } <b>keycode </b><i>keynumber</i> <b>= </b><i>keysym</i>

       , e.g.,
              plain keycode 14 = BackSpace
              control alt keycode 83 = Boot
              alt keycode 105 = Decr_Console
              alt keycode 106 = Incr_Console
       Using "plain" will define only the base entry of a key (i.e. the one
       with no modifiers in effect) without affecting the bindings of other
       modifier combinations of that key.
</pre>
<h2><a id="STRING_DEFINITIONS" href="#STRING_DEFINITIONS"></a>STRING DEFINITIONS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       In addition to comments and key definition lines, a keymap can
       contain string definitions. These are used to define what each
       function key action code sends. The syntax of string definitions is:

              <b>string </b><i>keysym</i> <b>= </b>"text"

       <i>text</i> can contain literal characters, octal character codes in the
       format of backslash followed by up to three octal digits, and the
       three escape sequences <b>\n</b>, <b>\\</b>, and <b>\"</b>, for newline, backslash and
       quote, respectively.
</pre>
<h2><a id="COMPOSE_DEFINITIONS" href="#COMPOSE_DEFINITIONS"></a>COMPOSE DEFINITIONS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       Then there may also be compose definitions. They have syntax

              <b>compose '</b><i>char</i><b>' '</b><i>char</i><b>' to '</b><i>char</i><b>'</b>
       and describe how two bytes are combined to form a third one (when a
       dead accent or compose key is used).  This is used to get accented
       letters and the like on a standard keyboard.
</pre>
<h2><a id="ABBREVIATIONS" href="#ABBREVIATIONS"></a>ABBREVIATIONS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       Various abbreviations can be used with kbd-0.96 and later.

       <b>strings as usual</b>
              Defines the usual values of the strings (but not the keys they
              are bound to).

       <b>compose as usual for "iso-8859-1"</b>
              Defines the usual compose combinations.

       To find out what <i>keysyms</i> there are available for use in keymaps, use
       the command

              <b>dumpkeys --long-info</b>

       Unfortunately, there is currently no description of what each symbol
       does. It has to be guessed from the name or figured out from the
       kernel sources.
</pre>
<h2><a id="EXAMPLES" href="#EXAMPLES"></a>EXAMPLES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       (Be careful to use a keymaps line, like the first line of `dumpkeys`,
       or "keymaps 0-15" or so.)

       The following entry exchanges the left Control key and the Caps Lock
       key on the keyboard:

              keycode  58 = Control
              keycode  29 = Caps_Lock

       Key number 58 is normally the Caps Lock key, and key number 29 is
       normally the Control key.

       The following entry sets the Shift and Caps Lock keys to behave more
       nicely, like in older typewriters. That is, pressing Caps Lock key
       once or more sets the keyboard in CapsLock state and pressing either
       of the Shift keys releases it.

              keycode  42 = Uncaps_Shift
              keycode  54 = Uncaps_Shift
              keycode  58 = Caps_On

       The following entry sets the layout of the edit pad in the enhanced
       keyboard to be more like that in the VT200 series terminals:

              keycode 102 = Insert
              keycode 104 = Remove
              keycode 107 = Prior
              shift keycode 107 = Scroll_Backward
              keycode 110 = Find
              keycode 111 = Select
              control alt   keycode 111 = Boot
              control altgr keycode 111 = Boot

       Here's an example to bind the string "du\ndf\n" to the key AltGr-D.
       We use the "spare" action code F100 not normally bound to any key.

              altgr keycode 32 = F100
              string F100 = "du\ndf\n"
</pre>
<h2><a id="SEE_ALSO" href="#SEE_ALSO"></a>SEE ALSO  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <a href="../man1/loadkeys.1.html">loadkeys(1)</a>, <a href="../man1/dumpkeys.1.html">dumpkeys(1)</a>, <a href="../man1/showkey.1.html">showkey(1)</a>, <b>xmodmap</b>(1)
</pre>
<h2><a id="COLOPHON" href="#COLOPHON"></a>COLOPHON  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       This page is part of the <i>kbd</i> (Linux keyboard tools) project.
       Information about the project can be found at 
       ⟨<a href="http://www.kbd-project.org/">http://www.kbd-project.org/</a>⟩.  If you have a bug report for this man‐
       ual page, send it to kbd@lists.altlinux.org.  This page was obtained
       from the project's upstream Git repository 
       ⟨git://git.kernel.org/pub/scm/linux/kernel/git/legion/kbd.git⟩ on
       2017-07-05.  If you discover any rendering problems in this HTML ver‐
       sion of the page, or you believe there is a better or more up-to-date
       source for the page, or you have corrections or improvements to the
       information in this COLOPHON (which is <i>not</i> part of the original man‐
       ual page), send a mail to man-pages@man7.org

<span class="footline">                                24 April 1998                     KEYMAPS(5)</span>
</pre>

<hr class="end-man-text" />
<p>Pages that refer to this page: 
    <a href="../man1/dumpkeys.1.html">dumpkeys(1)</a>,&nbsp; 
    <a href="../man1/loadkeys.1.html">loadkeys(1)</a>,&nbsp; 
    <a href="../man1/showkey.1.html">showkey(1)</a>
</p>
<hr/>

 
<hr class="start-footer" />

<div class="footer"> 

<table class="colophon-table">
    <tr>
    <td class="pub-info">
        <p>
            HTML rendering created 2017-07-13
            by <a href="http://man7.org/mtk/index.html">Michael Kerrisk</a>, 
            author of 
            <a href="http://man7.org/tlpi/"><em>The Linux Programming Interface</em></a>, 
            maintainer of the 
            <a href="https://www.kernel.org/doc/man-pages/">Linux <em>man-pages</em> project</a>.
        </p>
        <p>
            For details of in-depth
            <strong>Linux/UNIX system programming training courses</strong>
            that I teach, look <a href="http://man7.org/training/">here</a>.
        </p>
        <p>
            Hosting by <a href="http://www.jambit.com/index_en.html">jambit GmbH</a>.
        </p>
        <p>
            <a href="http://validator.w3.org/check?uri=referer">
            <img src="http://www.w3.org/Icons/valid-xhtml11"
                alt="Valid XHTML 1.1" height="31" width="88" />
            </a>
        </p>
    </td>
    <td class="colophon-divider">
    </td>
    <td class="tlpi-cover">
        <a href="http://man7.org/tlpi/"><img src="../../../tlpi/cover/TLPI-front-cover-vsmall.png" alt="Cover of TLPI" /></a>
    </td>
    </tr>
</table>

</div>

<hr class="end-footer" />



<!--BEGIN-SITETRACKING-->
<!-- SITETRACKING.man7.org_linux_man-pages -->

<!-- Start of StatCounter Code (xhtml) -->

<script type="text/javascript">
//<![CDATA[
var sc_project=7422636; 
var sc_invisible=1; 
var sc_security="9b6714ff"; 
//]]>
</script>
<script type="text/javascript"
src="../../../../www.statcounter.com/counter/counter_xhtml.js"></script>
<noscript><div class="statcounter"><a title="website
statistics" href="http://statcounter.com/"
class="statcounter"><img class="statcounter"
src="http://c.statcounter.com/7422636/0/9b6714ff/1/"
alt="website statistics" /></a></div></noscript>

<!-- End of StatCounter Code -->


<!-- Start of Google Analytics Code -->

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-9830363-8']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<!-- End of Google Analytics Code -->

<!--END-SITETRACKING-->

</body>
</html>
