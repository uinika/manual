
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
        "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <link rel="stylesheet" type="text/css" href="../../../style.css" title="style" />
    <link rel="stylesheet" type="text/css" href="../style.css" title="style" />
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />

    <title>systemd.socket(5) - Linux manual page</title>
</head>

<body>

<div class="page-top"><a id="top_of_page"></a></div>
<!--%%%TOP_BAR%%%-->
    <div class="nav-bar">
        <table class="nav-table">
            <tr>
                <td class="nav-cell">
                    <p class="nav-text">
                        <a href="http://man7.org/index.html">man7.org</a> &gt; Linux &gt; <a href="../index.html">man-pages</a>
                    </p>
                </td>
                <td class="training-cell">
                    <p class="training-text"><a class="training-link" href="http://man7.org/training/">Linux/UNIX system programming training</a></p>
                </td>
            </tr>
        </table>
    </div>

<hr class="nav-end" />

<!--%%%PAGE_START%%%-->


<table class="sec-table">
<tr>
    <td>
        <p class="section-dir">
<a href="#NAME">NAME</a> | <a href="#SYNOPSIS">SYNOPSIS</a> | <a href="#DESCRIPTION">DESCRIPTION</a> | <a href="#AUTOMATIC_DEPENDENCIES">AUTOMATIC&nbsp;DEPENDENCIES</a> | <a href="#OPTIONS">OPTIONS</a> | <a href="#SEE_ALSO">SEE&nbsp;ALSO</a> | <a href="#NOTES">NOTES</a> | <a href="#COLOPHON">COLOPHON</a>
        </p>
    </td>
    <td class="search-box">
        <div class="man-search-box">

            <form method="get" action="http://www.google.com/search">
                <fieldset class="man-search">
                    <input type="text" name="q" size="10" maxlength="255" value="" />
                    <input type="hidden" name="sitesearch" value="man7.org/linux/man-pages" />
                    <input type="submit" name="sa" value="Search online pages" />
                </fieldset>
            </form>

        </div>
    </td>
    <td> </td>
</tr>
</table>

<pre>
<span class="headline">SYSTEMD.SOCKET(5)              systemd.socket              SYSTEMD.SOCKET(5)</span>
</pre>
<h2><a id="NAME" href="#NAME"></a>NAME  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       systemd.socket - Socket unit configuration
</pre>
<h2><a id="SYNOPSIS" href="#SYNOPSIS"></a>SYNOPSIS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <i>socket</i>.socket
</pre>
<h2><a id="DESCRIPTION" href="#DESCRIPTION"></a>DESCRIPTION  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       A unit configuration file whose name ends in ".socket" encodes
       information about an IPC or network socket or a file system FIFO
       controlled and supervised by systemd, for socket-based activation.

       This man page lists the configuration options specific to this unit
       type. See <a href="systemd.unit.5.html">systemd.unit(5)</a> for the common options of all unit
       configuration files. The common configuration items are configured in
       the generic [Unit] and [Install] sections. The socket specific
       configuration options are configured in the [Socket] section.

       Additional options are listed in <a href="systemd.exec.5.html">systemd.exec(5)</a>, which define the
       execution environment the <b>ExecStartPre=</b>, <b>ExecStartPost=</b>, <b>ExecStopPre=</b>
       and <b>ExecStopPost= </b>commands are executed in, and in <a href="systemd.kill.5.html">systemd.kill(5)</a>,
       which define the way the processes are terminated, and in
       <a href="systemd.resource-control.5.html">systemd.resource-control(5)</a>, which configure resource control
       settings for the processes of the socket.

       For each socket file, a matching service file must exist, describing
       the service to start on incoming traffic on the socket (see
       <a href="systemd.service.5.html">systemd.service(5)</a> for more information about .service files). The
       name of the .service unit is by default the same as the name of the
       .socket unit, but can be altered with the <b>Service= </b>option described
       below. Depending on the setting of the <b>Accept= </b>option described
       below, this .service unit must either be named like the .socket unit,
       but with the suffix replaced, unless overridden with <b>Service=</b>; or it
       must be a template unit named the same way. Example: a socket file
       foo.socket needs a matching service foo.service if <b>Accept=false </b>is
       set. If <b>Accept=true </b>is set, a service template file foo@.service must
       exist from which services are instantiated for each incoming
       connection.

       Unless <i>DefaultDependencies=</i> in the "[Unit]" section is set to <b>false</b>,
       socket units will implicitly have dependencies of type <i>Requires=</i> and
       <i>After=</i> on sysinit.target as well as dependencies of type <i>Conflicts=</i>
       and <i>Before=</i> on shutdown.target. These ensure that socket units pull
       in basic system initialization, and are terminated cleanly prior to
       system shutdown. Only sockets involved with early boot or late system
       shutdown should disable this option.

       Socket units will have a <i>Before=</i> dependency on the service which they
       trigger added implicitly. No implicit <i>WantedBy=</i> or <i>RequiredBy=</i>
       dependency from the socket to the service is added. This means that
       the service may be started without the socket, in which case it must
       be able to open sockets by itself. To prevent this, an explicit
       <i>Requires=</i> dependency may be added.

       Socket units may be used to implement on-demand starting of services,
       as well as parallelized starting of services. See the blog stories
       linked at the end for an introduction.

       Note that the daemon software configured for socket activation with
       socket units needs to be able to accept sockets from systemd, either
       via systemd's native socket passing interface (see <a href="../man3/sd_listen_fds.3.html">sd_listen_fds(3)</a>
       for details) or via the traditional <b>inetd</b>(8)-style socket passing
       (i.e. sockets passed in via standard input and output, using
       <i>StandardInput=socket</i> in the service file).
</pre>
<h2><a id="AUTOMATIC_DEPENDENCIES" href="#AUTOMATIC_DEPENDENCIES"></a>AUTOMATIC DEPENDENCIES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       Socket units automatically gain a <i>Before=</i> dependency on the service
       units they activate.

       Socket units referring to file system paths (such as AF_UNIX sockets
       or FIFOs) implicitly gain <i>Requires=</i> and <i>After=</i> dependencies on all
       mount units necessary to access those paths.

       Socket units using the <i>BindToDevice=</i> setting automatically gain a
       <i>BindsTo=</i> and <i>After=</i> dependency on the device unit encapsulating the
       specified network interface.

       If <i>DefaultDependencies=yes</i> is set (the default), socket units
       automatically gain a <i>Before=</i> dependency on sockets.target. They also
       gain a pair of <i>After=</i> and <i>Requires=</i> dependency on sysinit.target, and
       a pair of <i>Before=</i> and <i>Conflicts=</i> dependencies on shutdown.target.
       These dependencies ensure that the socket unit is started before
       normal services at boot, and is stopped on shutdown.

       Additional implicit dependencies may be added as result of execution
       and resource control parameters as documented in <a href="systemd.exec.5.html">systemd.exec(5)</a> and
       <a href="systemd.resource-control.5.html">systemd.resource-control(5)</a>.
</pre>
<h2><a id="OPTIONS" href="#OPTIONS"></a>OPTIONS  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       Socket files must include a [Socket] section, which carries
       information about the socket or FIFO it supervises. A number of
       options that may be used in this section are shared with other unit
       types. These options are documented in <a href="systemd.exec.5.html">systemd.exec(5)</a> and
       <a href="systemd.kill.5.html">systemd.kill(5)</a>. The options specific to the [Socket] section of
       socket units are the following:

       <i>ListenStream=</i>, <i>ListenDatagram=</i>, <i>ListenSequentialPacket=</i>
           Specifies an address to listen on for a stream (<b>SOCK_STREAM</b>),
           datagram (<b>SOCK_DGRAM</b>), or sequential packet (<b>SOCK_SEQPACKET</b>)
           socket, respectively. The address can be written in various
           formats:

           If the address starts with a slash ("/"), it is read as file
           system socket in the <b>AF_UNIX </b>socket family.

           If the address starts with an at symbol ("@"), it is read as
           abstract namespace socket in the <b>AF_UNIX </b>family. The "@" is
           replaced with a <b>NUL </b>character before binding. For details, see
           <a href="../man7/unix.7.html">unix(7)</a>.

           If the address string is a single number, it is read as port
           number to listen on via IPv6. Depending on the value of
           <i>BindIPv6Only=</i> (see below) this might result in the service being
           available via both IPv6 and IPv4 (default) or just via IPv6.

           If the address string is a string in the format v.w.x.y:z, it is
           read as IPv4 specifier for listening on an address v.w.x.y on a
           port z.

           If the address string is a string in the format [x]:y, it is read
           as IPv6 address x on a port y. Note that this might make the
           service available via IPv4, too, depending on the <i>BindIPv6Only=</i>
           setting (see below).

           If the address string is a string in the format "vsock:x:y", it
           is read as CID "x" on a port "y" address in the <b>AF_VSOCK </b>family.
           The CID is a unique 32-bit integer identifier in <b>AF_VSOCK</b>
           analogous to an IP address. Specifying the CID is optional, and
           may be set to the empty string.

           Note that <b>SOCK_SEQPACKET </b>(i.e.  <i>ListenSequentialPacket=</i>) is only
           available for <b>AF_UNIX </b>sockets.  <b>SOCK_STREAM </b>(i.e.  <i>ListenStream=</i>)
           when used for IP sockets refers to TCP sockets, <b>SOCK_DGRAM </b>(i.e.
           <i>ListenDatagram=</i>) to UDP.

           These options may be specified more than once, in which case
           incoming traffic on any of the sockets will trigger service
           activation, and all listed sockets will be passed to the service,
           regardless of whether there is incoming traffic on them or not.
           If the empty string is assigned to any of these options, the list
           of addresses to listen on is reset, all prior uses of any of
           these options will have no effect.

           It is also possible to have more than one socket unit for the
           same service when using <i>Service=</i>, and the service will receive
           all the sockets configured in all the socket units. Sockets
           configured in one unit are passed in the order of configuration,
           but no ordering between socket units is specified.

           If an IP address is used here, it is often desirable to listen on
           it before the interface it is configured on is up and running,
           and even regardless of whether it will be up and running at any
           point. To deal with this, it is recommended to set the <i>FreeBind=</i>
           option described below.

       <i>ListenFIFO=</i>
           Specifies a file system FIFO to listen on. This expects an
           absolute file system path as argument. Behavior otherwise is very
           similar to the <i>ListenDatagram=</i> directive above.

       <i>ListenSpecial=</i>
           Specifies a special file in the file system to listen on. This
           expects an absolute file system path as argument. Behavior
           otherwise is very similar to the <i>ListenFIFO=</i> directive above. Use
           this to open character device nodes as well as special files in
           /proc and /sys.

       <i>ListenNetlink=</i>
           Specifies a Netlink family to create a socket for to listen on.
           This expects a short string referring to the <b>AF_NETLINK </b>family
           name (such as <i>audit</i> or <i>kobject-uevent</i>) as argument, optionally
           suffixed by a whitespace followed by a multicast group integer.
           Behavior otherwise is very similar to the <i>ListenDatagram=</i>
           directive above.

       <i>ListenMessageQueue=</i>
           Specifies a POSIX message queue name to listen on. This expects a
           valid message queue name (i.e. beginning with /). Behavior
           otherwise is very similar to the <i>ListenFIFO=</i> directive above. On
           Linux message queue descriptors are actually file descriptors and
           can be inherited between processes.

       <i>ListenUSBFunction=</i>
           Specifies a <b>USB FunctionFS</b><b></b>[1] endpoints location to listen on,
           for implementation of USB gadget functions. This expects an
           absolute file system path of functionfs mount point as the
           argument. Behavior otherwise is very similar to the <i>ListenFIFO=</i>
           directive above. Use this to open the FunctionFS endpoint ep0.
           When using this option, the activated service has to have the
           <i>USBFunctionDescriptors=</i> and <i>USBFunctionStrings=</i> options set.

       <i>SocketProtocol=</i>
           Takes a one of <b>udplite </b>or <b>sctp</b>. Specifies a socket protocol
           (<b>IPPROTO_UDPLITE</b>) UDP-Lite (<b>IPPROTO_SCTP</b>) SCTP socket
           respectively.

       <i>BindIPv6Only=</i>
           Takes a one of <b>default</b>, <b>both </b>or <b>ipv6-only</b>. Controls the
           IPV6_V6ONLY socket option (see <a href="../man7/ipv6.7.html">ipv6(7)</a> for details). If <b>both</b>,
           IPv6 sockets bound will be accessible via both IPv4 and IPv6. If
           <b>ipv6-only</b>, they will be accessible via IPv6 only. If <b>default</b>
           (which is the default, surprise!), the system wide default
           setting is used, as controlled by /proc/sys/net/ipv6/bindv6only,
           which in turn defaults to the equivalent of <b>both</b>.

       <i>Backlog=</i>
           Takes an unsigned integer argument. Specifies the number of
           connections to queue that have not been accepted yet. This
           setting matters only for stream and sequential packet sockets.
           See <a href="../man2/listen.2.html">listen(2)</a> for details. Defaults to SOMAXCONN (128).

       <i>BindToDevice=</i>
           Specifies a network interface name to bind this socket to. If
           set, traffic will only be accepted from the specified network
           interfaces. This controls the SO_BINDTODEVICE socket option (see
           <a href="../man7/socket.7.html">socket(7)</a> for details). If this option is used, an automatic
           dependency from this socket unit on the network interface device
           unit (<a href="systemd.device.5.html">systemd.device(5)</a> is created. Note that setting this
           parameter might result in additional dependencies to be added to
           the unit (see above).

       <i>SocketUser=</i>, <i>SocketGroup=</i>
           Takes a UNIX user/group name. When specified, all AF_UNIX sockets
           and FIFO nodes in the file system are owned by the specified user
           and group. If unset (the default), the nodes are owned by the
           root user/group (if run in system context) or the invoking
           user/group (if run in user context). If only a user is specified
           but no group, then the group is derived from the user's default
           group.

       <i>SocketMode=</i>
           If listening on a file system socket or FIFO, this option
           specifies the file system access mode used when creating the file
           node. Takes an access mode in octal notation. Defaults to 0666.

       <i>DirectoryMode=</i>
           If listening on a file system socket or FIFO, the parent
           directories are automatically created if needed. This option
           specifies the file system access mode used when creating these
           directories. Takes an access mode in octal notation. Defaults to
           0755.

       <i>Accept=</i>
           Takes a boolean argument. If true, a service instance is spawned
           for each incoming connection and only the connection socket is
           passed to it. If false, all listening sockets themselves are
           passed to the started service unit, and only one service unit is
           spawned for all connections (also see above). This value is
           ignored for datagram sockets and FIFOs where a single service
           unit unconditionally handles all incoming traffic. Defaults to
           <b>false</b>. For performance reasons, it is recommended to write new
           daemons only in a way that is suitable for <b>Accept=false</b>. A daemon
           listening on an <b>AF_UNIX </b>socket may, but does not need to, call
           <a href="../man2/close.2.html">close(2)</a> on the received socket before exiting. However, it must
           not unlink the socket from a file system. It should not invoke
           <a href="../man2/shutdown.2.html">shutdown(2)</a> on sockets it got with <i>Accept=false</i>, but it may do so
           for sockets it got with <i>Accept=true</i> set. Setting <i>Accept=true</i> is
           mostly useful to allow daemons designed for usage with <b>inetd</b>(8)
           to work unmodified with systemd socket activation.

           For IPv4 and IPv6 connections, the <i>REMOTE_ADDR</i> environment
           variable will contain the remote IP address, and <i>REMOTE_PORT</i> will
           contain the remote port. This is the same as the format used by
           CGI. For SOCK_RAW, the port is the IP protocol.

       <i>Writable=</i>
           Takes a boolean argument. May only be used in conjunction with
           <i>ListenSpecial=</i>. If true, the specified special file is opened in
           read-write mode, if false, in read-only mode. Defaults to false.

       <i>MaxConnections=</i>
           The maximum number of connections to simultaneously run services
           instances for, when <b>Accept=true </b>is set. If more concurrent
           connections are coming in, they will be refused until at least
           one existing connection is terminated. This setting has no effect
           on sockets configured with <b>Accept=false </b>or datagram sockets.
           Defaults to 64.

       <i>MaxConnectionsPerSource=</i>
           The maximum number of connections for a service per source IP
           address. This is very similar to the <i>MaxConnections=</i> directive
           above. Disabled by default.

       <i>KeepAlive=</i>
           Takes a boolean argument. If true, the TCP/IP stack will send a
           keep alive message after 2h (depending on the configuration of
           /proc/sys/net/ipv4/tcp_keepalive_time) for all TCP streams
           accepted on this socket. This controls the SO_KEEPALIVE socket
           option (see <a href="../man7/socket.7.html">socket(7)</a> and the <b>TCP Keepalive HOWTO</b><b></b>[2] for
           details.) Defaults to <b>false</b>.

       <i>KeepAliveTimeSec=</i>
           Takes time (in seconds) as argument. The connection needs to
           remain idle before TCP starts sending keepalive probes. This
           controls the TCP_KEEPIDLE socket option (see <a href="../man7/socket.7.html">socket(7)</a> and the
           <b>TCP Keepalive HOWTO</b><b></b>[2] for details.) Defaults value is 7200
           seconds (2 hours).

       <i>KeepAliveIntervalSec=</i>
           Takes time (in seconds) as argument between individual keepalive
           probes, if the socket option SO_KEEPALIVE has been set on this
           socket. This controls the TCP_KEEPINTVL socket option (see
           <a href="../man7/socket.7.html">socket(7)</a> and the <b>TCP Keepalive HOWTO</b><b></b>[2] for details.) Defaults
           value is 75 seconds.

       <i>KeepAliveProbes=</i>
           Takes an integer as argument. It is the number of unacknowledged
           probes to send before considering the connection dead and
           notifying the application layer. This controls the TCP_KEEPCNT
           socket option (see <a href="../man7/socket.7.html">socket(7)</a> and the <b>TCP Keepalive HOWTO</b><b></b>[2] for
           details.) Defaults value is 9.

       <i>NoDelay=</i>
           Takes a boolean argument. TCP Nagle's algorithm works by
           combining a number of small outgoing messages, and sending them
           all at once. This controls the TCP_NODELAY socket option (see
           <a href="../man7/tcp.7.html">tcp(7)</a> Defaults to <b>false</b>.

       <i>Priority=</i>
           Takes an integer argument controlling the priority for all
           traffic sent from this socket. This controls the SO_PRIORITY
           socket option (see <a href="../man7/socket.7.html">socket(7)</a> for details.).

       <i>DeferAcceptSec=</i>
           Takes time (in seconds) as argument. If set, the listening
           process will be awakened only when data arrives on the socket,
           and not immediately when connection is established. When this
           option is set, the <b>TCP_DEFER_ACCEPT </b>socket option will be used
           (see <a href="../man7/tcp.7.html">tcp(7)</a>), and the kernel will ignore initial ACK packets
           without any data. The argument specifies the approximate amount
           of time the kernel should wait for incoming data before falling
           back to the normal behavior of honoring empty ACK packets. This
           option is beneficial for protocols where the client sends the
           data first (e.g. HTTP, in contrast to SMTP), because the server
           process will not be woken up unnecessarily before it can take any
           action.

           If the client also uses the <b>TCP_DEFER_ACCEPT </b>option, the latency
           of the initial connection may be reduced, because the kernel will
           send data in the final packet establishing the connection (the
           third packet in the "three-way handshake").

           Disabled by default.

       <i>ReceiveBuffer=</i>, <i>SendBuffer=</i>
           Takes an integer argument controlling the receive or send buffer
           sizes of this socket, respectively. This controls the SO_RCVBUF
           and SO_SNDBUF socket options (see <a href="../man7/socket.7.html">socket(7)</a> for details.). The
           usual suffixes K, M, G are supported and are understood to the
           base of 1024.

       <i>IPTOS=</i>
           Takes an integer argument controlling the IP Type-Of-Service
           field for packets generated from this socket. This controls the
           IP_TOS socket option (see <a href="../man7/ip.7.html">ip(7)</a> for details.). Either a numeric
           string or one of <b>low-delay</b>, <b>throughput</b>, <b>reliability </b>or <b>low-cost</b>
           may be specified.

       <i>IPTTL=</i>
           Takes an integer argument controlling the IPv4 Time-To-Live/IPv6
           Hop-Count field for packets generated from this socket. This sets
           the IP_TTL/IPV6_UNICAST_HOPS socket options (see <a href="../man7/ip.7.html">ip(7)</a> and
           <a href="../man7/ipv6.7.html">ipv6(7)</a> for details.)

       <i>Mark=</i>
           Takes an integer value. Controls the firewall mark of packets
           generated by this socket. This can be used in the firewall logic
           to filter packets from this socket. This sets the SO_MARK socket
           option. See <b>iptables</b>(8) for details.

       <i>ReusePort=</i>
           Takes a boolean value. If true, allows multiple <a href="../man2/bind.2.html">bind(2)</a>s to this
           TCP or UDP port. This controls the SO_REUSEPORT socket option.
           See <a href="../man7/socket.7.html">socket(7)</a> for details.

       <i>SmackLabel=</i>, <i>SmackLabelIPIn=</i>, <i>SmackLabelIPOut=</i>
           Takes a string value. Controls the extended attributes
           "security.SMACK64", "security.SMACK64IPIN" and
           "security.SMACK64IPOUT", respectively, i.e. the security label of
           the FIFO, or the security label for the incoming or outgoing
           connections of the socket, respectively. See <b>Smack.txt</b><b></b>[3] for
           details.

       <i>SELinuxContextFromNet=</i>
           Takes a boolean argument. When true, systemd will attempt to
           figure out the SELinux label used for the instantiated service
           from the information handed by the peer over the network. Note
           that only the security level is used from the information
           provided by the peer. Other parts of the resulting SELinux
           context originate from either the target binary that is
           effectively triggered by socket unit or from the value of the
           <i>SELinuxContext=</i> option. This configuration option only affects
           sockets with <i>Accept=</i> mode set to "true". Also note that this
           option is useful only when MLS/MCS SELinux policy is deployed.
           Defaults to "false".

       <i>PipeSize=</i>
           Takes a size in bytes. Controls the pipe buffer size of FIFOs
           configured in this socket unit. See <a href="../man2/fcntl.2.html">fcntl(2)</a> for details. The
           usual suffixes K, M, G are supported and are understood to the
           base of 1024.

       <i>MessageQueueMaxMessages=</i>, <i>MessageQueueMessageSize=</i>
           These two settings take integer values and control the mq_maxmsg
           field or the mq_msgsize field, respectively, when creating the
           message queue. Note that either none or both of these variables
           need to be set. See <a href="../man3/mq_setattr.3.html">mq_setattr(3)</a> for details.

       <i>FreeBind=</i>
           Takes a boolean value. Controls whether the socket can be bound
           to non-local IP addresses. This is useful to configure sockets
           listening on specific IP addresses before those IP addresses are
           successfully configured on a network interface. This sets the
           IP_FREEBIND socket option. For robustness reasons it is
           recommended to use this option whenever you bind a socket to a
           specific IP address. Defaults to <b>false</b>.

       <i>Transparent=</i>
           Takes a boolean value. Controls the IP_TRANSPARENT socket option.
           Defaults to <b>false</b>.

       <i>Broadcast=</i>
           Takes a boolean value. This controls the SO_BROADCAST socket
           option, which allows broadcast datagrams to be sent from this
           socket. Defaults to <b>false</b>.

       <i>PassCredentials=</i>
           Takes a boolean value. This controls the SO_PASSCRED socket
           option, which allows <b>AF_UNIX </b>sockets to receive the credentials
           of the sending process in an ancillary message. Defaults to
           <b>false</b>.

       <i>PassSecurity=</i>
           Takes a boolean value. This controls the SO_PASSSEC socket
           option, which allows <b>AF_UNIX </b>sockets to receive the security
           context of the sending process in an ancillary message. Defaults
           to <b>false</b>.

       <i>TCPCongestion=</i>
           Takes a string value. Controls the TCP congestion algorithm used
           by this socket. Should be one of "westwood", "veno", "cubic",
           "lp" or any other available algorithm supported by the IP stack.
           This setting applies only to stream sockets.

       <i>ExecStartPre=</i>, <i>ExecStartPost=</i>
           Takes one or more command lines, which are executed before or
           after the listening sockets/FIFOs are created and bound,
           respectively. The first token of the command line must be an
           absolute filename, then followed by arguments for the process.
           Multiple command lines may be specified following the same scheme
           as used for <i>ExecStartPre=</i> of service unit files.

       <i>ExecStopPre=</i>, <i>ExecStopPost=</i>
           Additional commands that are executed before or after the
           listening sockets/FIFOs are closed and removed, respectively.
           Multiple command lines may be specified following the same scheme
           as used for <i>ExecStartPre=</i> of service unit files.

       <i>TimeoutSec=</i>
           Configures the time to wait for the commands specified in
           <i>ExecStartPre=</i>, <i>ExecStartPost=</i>, <i>ExecStopPre=</i> and <i>ExecStopPost=</i> to
           finish. If a command does not exit within the configured time,
           the socket will be considered failed and be shut down again. All
           commands still running will be terminated forcibly via <b>SIGTERM</b>,
           and after another delay of this time with <b>SIGKILL</b>. (See <b>KillMode=</b>
           in <a href="systemd.kill.5.html">systemd.kill(5)</a>.) Takes a unit-less value in seconds, or a
           time span value such as "5min 20s". Pass "0" to disable the
           timeout logic. Defaults to <i>DefaultTimeoutStartSec=</i> from the
           manager configuration file (see <a href="systemd-system.conf.5.html">systemd-system.conf(5)</a>).

       <i>Service=</i>
           Specifies the service unit name to activate on incoming traffic.
           This setting is only allowed for sockets with <i>Accept=no</i>. It
           defaults to the service that bears the same name as the socket
           (with the suffix replaced). In most cases, it should not be
           necessary to use this option. Note that setting this parameter
           might result in additional dependencies to be added to the unit
           (see above).

       <i>RemoveOnStop=</i>
           Takes a boolean argument. If enabled, any file nodes created by
           this socket unit are removed when it is stopped. This applies to
           AF_UNIX sockets in the file system, POSIX message queues, FIFOs,
           as well as any symlinks to them configured with <i>Symlinks=</i>.
           Normally, it should not be necessary to use this option, and is
           not recommended as services might continue to run after the
           socket unit has been terminated and it should still be possible
           to communicate with them via their file system node. Defaults to
           off.

       <i>Symlinks=</i>
           Takes a list of file system paths. The specified paths will be
           created as symlinks to the AF_UNIX socket path or FIFO path of
           this socket unit. If this setting is used, only one AF_UNIX
           socket in the file system or one FIFO may be configured for the
           socket unit. Use this option to manage one or more symlinked
           alias names for a socket, binding their lifecycle together.
           Defaults to the empty list.

       <i>FileDescriptorName=</i>
           Assigns a name to all file descriptors this socket unit
           encapsulates. This is useful to help activated services identify
           specific file descriptors, if multiple fds are passed. Services
           may use the <a href="../man3/sd_listen_fds_with_names.3.html">sd_listen_fds_with_names(3)</a> call to acquire the names
           configured for the received file descriptors. Names may contain
           any ASCII character, but must exclude control characters and ":",
           and must be at most 255 characters in length. If this setting is
           not used, the file descriptor name defaults to the name of the
           socket unit, including its .socket suffix.

       <i>TriggerLimitIntervalSec=</i>, <i>TriggerLimitBurst=</i>
           Configures a limit on how often this socket unit my be activated
           within a specific time interval. The <i>TriggerLimitIntervalSec=</i> may
           be used to configure the length of the time interval in the usual
           time units "us", "ms", "s", "min", "h", ... and defaults to 2s
           (See <a href="../man7/systemd.time.7.html">systemd.time(7)</a> for details on the various time units
           understood). The <i>TriggerLimitBurst=</i> setting takes a positive
           integer value and specifies the number of permitted activations
           per time interval, and defaults to 200 for <i>Accept=yes</i> sockets
           (thus by default permitting 200 activations per 2s), and 20
           otherwise (20 activations per 2s). Set either to 0 to disable any
           form of trigger rate limiting. If the limit is hit, the socket
           unit is placed into a failure mode, and will not be connectible
           anymore until restarted. Note that this limit is enforced before
           the service activation is enqueued.

       Check <a href="systemd.exec.5.html">systemd.exec(5)</a> and <a href="systemd.kill.5.html">systemd.kill(5)</a> for more settings.
</pre>
<h2><a id="SEE_ALSO" href="#SEE_ALSO"></a>SEE ALSO  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       <a href="../man1/systemd.1.html">systemd(1)</a>, <a href="../man1/systemctl.1.html">systemctl(1)</a>, <a href="systemd.unit.5.html">systemd.unit(5)</a>, <a href="systemd.exec.5.html">systemd.exec(5)</a>,
       <a href="systemd.kill.5.html">systemd.kill(5)</a>, <a href="systemd.resource-control.5.html">systemd.resource-control(5)</a>, <a href="systemd.service.5.html">systemd.service(5)</a>,
       <a href="../man7/systemd.directives.7.html">systemd.directives(7)</a>, <a href="../man3/sd_listen_fds.3.html">sd_listen_fds(3)</a>, <a href="../man3/sd_listen_fds_with_names.3.html">sd_listen_fds_with_names(3)</a>

       For more extensive descriptions see the "systemd for Developers"
       series: <b>Socket Activation</b><b></b>[4], <b>Socket Activation, part II</b><b></b>[5],
       <b>Converting inetd Services</b><b></b>[6], <b>Socket Activated Internet Services and</b>
       <b>OS Containers</b><b></b>[7].
</pre>
<h2><a id="NOTES" href="#NOTES"></a>NOTES  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
        1. USB FunctionFS
           <a href="https://www.kernel.org/doc/Documentation/usb/functionfs.txt">https://www.kernel.org/doc/Documentation/usb/functionfs.txt</a>

        2. TCP Keepalive HOWTO
           <a href="http://www.tldp.org/HOWTO/html_single/TCP-Keepalive-HOWTO/">http://www.tldp.org/HOWTO/html_single/TCP-Keepalive-HOWTO/</a>

        3. Smack.txt
           <a href="https://www.kernel.org/doc/Documentation/security/Smack.txt">https://www.kernel.org/doc/Documentation/security/Smack.txt</a>

        4. Socket Activation
           <a href="http://0pointer.de/blog/projects/socket-activation.html">http://0pointer.de/blog/projects/socket-activation.html</a>

        5. Socket Activation, part II
           <a href="http://0pointer.de/blog/projects/socket-activation2.html">http://0pointer.de/blog/projects/socket-activation2.html</a>

        6. Converting inetd Services
           <a href="http://0pointer.de/blog/projects/inetd.html">http://0pointer.de/blog/projects/inetd.html</a>

        7. Socket Activated Internet Services and OS Containers
           <a href="http://0pointer.de/blog/projects/socket-activated-containers.html">http://0pointer.de/blog/projects/socket-activated-containers.html</a>
</pre>
<h2><a id="COLOPHON" href="#COLOPHON"></a>COLOPHON  &nbsp; &nbsp; &nbsp; &nbsp; <a href="#top_of_page"><span class="top-link">top</span></a></h2><pre>
       This page is part of the <i>systemd</i> (systemd system and service manager)
       project.  Information about the project can be found at 
       ⟨<a href="http://www.freedesktop.org/wiki/Software/systemd">http://www.freedesktop.org/wiki/Software/systemd</a>⟩.  If you have a bug
       report for this manual page, see 
       ⟨<a href="http://www.freedesktop.org/wiki/Software/systemd/#bugreports">http://www.freedesktop.org/wiki/Software/systemd/#bugreports</a>⟩.  This
       page was obtained from the project's upstream Git repository 
       ⟨<a href="https://github.com/systemd/systemd.git">https://github.com/systemd/systemd.git</a>⟩ on 2017-07-05.  If you dis‐
       cover any rendering problems in this HTML version of the page, or you
       believe there is a better or more up-to-date source for the page, or
       you have corrections or improvements to the information in this
       COLOPHON (which is <i>not</i> part of the original manual page), send a mail
       to man-pages@man7.org

<span class="footline">systemd 234                                                SYSTEMD.SOCKET(5)</span>
</pre>

<hr class="end-man-text" />
<p>Pages that refer to this page: 
    <a href="../man1/systemctl.1.html">systemctl(1)</a>,&nbsp; 
    <a href="../man1/systemd.1.html">systemd(1)</a>,&nbsp; 
    <a href="../man1/systemd-socket-activate.1.html">systemd-socket-activate(1)</a>,&nbsp; 
    <a href="../man3/sd-daemon.3.html">sd-daemon(3)</a>,&nbsp; 
    <a href="../man3/sd_is_fifo.3.html">sd_is_fifo(3)</a>,&nbsp; 
    <a href="../man3/sd_listen_fds.3.html">sd_listen_fds(3)</a>,&nbsp; 
    <a href="systemd.exec.5.html">systemd.exec(5)</a>,&nbsp; 
    <a href="systemd.kill.5.html">systemd.kill(5)</a>,&nbsp; 
    <a href="systemd.resource-control.5.html">systemd.resource-control(5)</a>,&nbsp; 
    <a href="systemd.service.5.html">systemd.service(5)</a>,&nbsp; 
    <a href="systemd.unit.5.html">systemd.unit(5)</a>,&nbsp; 
    <a href="../man7/daemon.7.html">daemon(7)</a>,&nbsp; 
    <a href="../man7/systemd.directives.7.html">systemd.directives(7)</a>,&nbsp; 
    <a href="../man7/systemd.index.7.html">systemd.index(7)</a>,&nbsp; 
    <a href="../man7/systemd.special.7.html">systemd.special(7)</a>,&nbsp; 
    <a href="../man8/systemd-activate.8.html">systemd-activate(8)</a>,&nbsp; 
    <a href="../man8/systemd-socket-proxyd.8.html">systemd-socket-proxyd(8)</a>
</p>
<hr/>

 
<hr class="start-footer" />

<div class="footer"> 

<table class="colophon-table">
    <tr>
    <td class="pub-info">
        <p>
            HTML rendering created 2017-07-13
            by <a href="http://man7.org/mtk/index.html">Michael Kerrisk</a>, 
            author of 
            <a href="http://man7.org/tlpi/"><em>The Linux Programming Interface</em></a>, 
            maintainer of the 
            <a href="https://www.kernel.org/doc/man-pages/">Linux <em>man-pages</em> project</a>.
        </p>
        <p>
            For details of in-depth
            <strong>Linux/UNIX system programming training courses</strong>
            that I teach, look <a href="http://man7.org/training/">here</a>.
        </p>
        <p>
            Hosting by <a href="http://www.jambit.com/index_en.html">jambit GmbH</a>.
        </p>
        <p>
            <a href="http://validator.w3.org/check?uri=referer">
            <img src="http://www.w3.org/Icons/valid-xhtml11"
                alt="Valid XHTML 1.1" height="31" width="88" />
            </a>
        </p>
    </td>
    <td class="colophon-divider">
    </td>
    <td class="tlpi-cover">
        <a href="http://man7.org/tlpi/"><img src="../../../tlpi/cover/TLPI-front-cover-vsmall.png" alt="Cover of TLPI" /></a>
    </td>
    </tr>
</table>

</div>

<hr class="end-footer" />



<!--BEGIN-SITETRACKING-->
<!-- SITETRACKING.man7.org_linux_man-pages -->

<!-- Start of StatCounter Code (xhtml) -->

<script type="text/javascript">
//<![CDATA[
var sc_project=7422636; 
var sc_invisible=1; 
var sc_security="9b6714ff"; 
//]]>
</script>
<script type="text/javascript"
src="../../../../www.statcounter.com/counter/counter_xhtml.js"></script>
<noscript><div class="statcounter"><a title="website
statistics" href="http://statcounter.com/"
class="statcounter"><img class="statcounter"
src="http://c.statcounter.com/7422636/0/9b6714ff/1/"
alt="website statistics" /></a></div></noscript>

<!-- End of StatCounter Code -->


<!-- Start of Google Analytics Code -->

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-9830363-8']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<!-- End of Google Analytics Code -->

<!--END-SITETRACKING-->

</body>
</html>
