(function(){"use strict";function e(e){this.__engine__=new v(u(e),{threshold:.25})}function t(){if(!y&&"undefined"==typeof phantom&&!document.hidden&&navigator.onLine&&"none"==getComputedStyle(C).display){y=!0;var e=document.createElement("script");e.addEventListener("error",o),e.id="_carbonads_js",e.src="https://cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=lodashcom",k.style.transform="none",k.insertBefore(e,k.firstChild)}}function n(){return S.call(arguments).join(" ")}function a(e){return e.replace(/\s+/g,"")}function o(){k.style.transform=""}function c(e){return decodeURIComponent(e).replace(/\+/g," ")}function i(e){var t=R.exec(r(e));return t?l(t[1]):""}function r(e){var t=b.exec(e);return t?c(t[1]):""}function s(e){if("click"==e.type)return!0;var t=e.key||e.keyIdentifier;return" "==t||"U+0020"==t?(e.preventDefault(),!0):"Enter"==t}function l(e){return m(a(e.toLowerCase()))}function u(e){return l(e).replace(/^_\.?/,"")}function d(e,t){return e[t]?"":"hidden"}function h(e){e=void 0===e?!k.classList.contains("open"):e,C.firstChild.title=(e?"Collapse":"Expand")+" Menu",k.classList[e?"add":"remove"]("open"),e&&p.focus()}function m(e){return e.replace(/^\s+|\s+$/g,"")}var f,p,v=(new Fuse).options.searchFn,y=!1,g=document.querySelector(".doc-container"),E=document.querySelector("a"),C=document.querySelector(".mobile-menu"),b=/[?&]q=([^&]+)/,R=/\blodash[. ](\w+)/i,L=function(e){var t=i(e);return _.findKey(t&&_.prototype,function(e,n){return l(n)==t})||""}(document.referrer),S=Array.prototype.slice,k=document.querySelector(".toc-container"),x=r(location.search),M=location.pathname.match(/[\d.]+(?=(?:\.html)?$)/),D=document.getElementById("version"),q=M?M[0]:"4.17.4";e.prototype.isMatch=function(e){return this.__engine__.search(u(e)).isMatch};var I=React.createClass({displayName:"Menu",getInitialState:function(){return{content:[],searchFound:!0,searchValue:""}},componentWillMount:function(){this.setState({content:_.map(k.children,function(e,t){return{key:t,title:e.querySelector("h2 code").textContent,expanded:!0,visible:!0,functions:_.map(e.querySelectorAll("ul li a"),function(e,n){return{key:t+":"+n,name:e.textContent,href:e.href,visible:!0}})}})})},componentDidMount:function(){document.addEventListener("keydown",this.onDocumentKeyDown,!0)},componentWillUnmount:function(){document.removeEventListener("keydown",this.onDocumentKeyDown,!0)},handleSearchChange:function(t){var n=u(t),a=new e(t),o=!1;this.setState({content:this.state.content.map(function(e){var t=!n||a.isMatch(e.title),c=t,i=e.visible!==c,r=e.functions.map(function(e){var n=t||a.isMatch(e.name)||a.isMatch(e.href.split("#")[1]);return c||(c=n),o||(o=n),e.visible!==n?(i=!0,_.assign({},e,{visible:n})):e});return i?_.assign({},e,{functions:r,visible:c}):e}),searchFound:o,searchValue:t})},onChangeExpanded:function(e,t){var n=this.state.content.slice(),a=n[t];n[t]=_.assign({},a,{expanded:!a.expanded}),this.setState({content:n})},onChangeSearch:function(e){this.handleSearchChange(e.target.value)},onClickMenuItem:function(){h(!1)},onDocumentKeyDown:function(e){var t=e.key||e.keyIdentifier;"Tab"!=t&&"U+0009"!=t||!k.classList.contains("open")||e.target!==f||(e.preventDefault(),E.focus()),"/"!=t&&"U+002F"!=t||(e.preventDefault(),p.focus())},onRefMenuItem:function(e){f=e},onRefSearch:function(e){p=e,this.handleSearchChange(x||L)},shouldComponentUpdate:function(e,t){return(this.state.searchFound||t.searchFound)&&(l(this.state.searchValue)!==l(t.searchValue)||!_.isEqual(this.state.content,t.content))},render:function(){var e=this,t=this.state.content.map(function(t,a,o){var c=t.expanded,i=a+1==o.size,r=function(t){s(t)&&e.onChangeExpanded(t,a)};return React.createElement("div",{key:t.key,className:d(t,"visible")},React.createElement("h2",null,React.createElement("i",{className:n("fa",c?"fa-minus-square-o":"fa-plus-square-o"),tabIndex:0,title:(c?"Collapse":"Expand")+" Category",onClick:r,onKeyPress:r}),t.title),React.createElement("ul",{className:d(t,"expanded")},t.functions.map(function(t,n,a){var o=[t.name],c=i&&n+1==a.size;return/^_\./.test(t.name)&&(o=[React.createElement("span",{className:"subtle-punctuation"},"_."),t.name.slice(2)]),React.createElement("li",{key:t.key,className:d(t,"visible")},React.createElement("a",{href:t.href,onClick:e.onClickMenuItem,ref:c?e.onRefMenuItem:void 0},React.createElement.apply(React,["code",null].concat(o))))})))});return React.createElement("div",{className:"react-menu-container"},React.createElement("div",{className:"search"},React.createElement("i",{"aria-hidden":!0,className:"fa fa-search"}),React.createElement("input",{autoFocus:"none"==getComputedStyle(C).display,placeholder:"Search",type:"search",value:this.state.searchValue,onChange:this.onChangeSearch,ref:this.onRefSearch})),t,React.createElement("div",{className:n("empty-state",this.state.searchFound?"hidden":"")},"Sorry, no matches."))}});ReactDOM.render(React.createElement(I),k),_.each(D.options,function(e){if(e.value==q)return e.selected=!0,!1}),D.addEventListener("change",function(e){var t=e.target.value;t&&(location.href="1.3.1"==t?"https://github.com/lodash/lodash/blob/1.3.1/doc/README.md":"/docs/"+t+location.hash)}),C.addEventListener("click",function(e){e.preventDefault(),h()}),g.addEventListener("click",function(){h(!1)}),addEventListener("hashchange",function(){var e=document.getElementById(location.hash.slice(1));e&&e.scrollIntoView()}),document.addEventListener("visibilitychange",t),document.addEventListener("DOMContentLoaded",function(){document.hidden||t(),"innerText"in g&&_.each(g.querySelectorAll(".highlight.js"),function(e){var t=document.createElement("a"),n=e.parentNode;t.classList.add("btn-repl"),t.textContent="Try in REPL",t.style.display=navigator.onLine?"":"none",t.addEventListener("click",function(){var a=e.innerText;n.removeChild(e),n.removeChild(t),RunKit.createNotebook({element:n,nodeVersion:"*",preamble:['var _ = require("lodash@'+D.value+'")','_.assign(global, require("lodash-doc-globals"))\nObject.observe = _.noop'].join("\n"),source:a,syntaxTheme:"atom-light-syntax",onLoad:function(e){var t=n.lastElementChild;t.style.cssText="height:"+t.style.height,t.classList.add("repl"),e.evaluate()}})}),n.appendChild(t)})})})();