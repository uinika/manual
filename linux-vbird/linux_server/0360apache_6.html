<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-TW" lang="zh-TW"><head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf8">
	<meta name="Author" content="VBird, 鳥哥">
	<meta name="Description" content="Linux + Apache + MySQL + PHP (LAMP) 架設詳解囉！">
	<title>鳥哥的 Linux 私房菜 -- WWW 伺服器 Apache</title>
    <script src="../script/SpryMenuBar.js" type="text/javascript"></script>
	<script src="../script/index.js" type="text/javascript"></script>
	<link href="../css/SpryMenuBarHorizontal.css" rel="stylesheet" type="text/css" />
    <link href="../css/main.css" rel="stylesheet" type="text/css" />
    </head><body style="margin: 0pt; padding: 0pt;" class="table"onload="MM_preloadImages('../index-2.html','../index-2.html','../index-2.html','../index-2.html','../index-2.html','../index-2.html','../index-2.html','../index-2.html')">

<center>
<div id="apDiv5">
<div> <LINK REL="SHORTCUT ICON" HREF="../index-2.html">
<!-- ImageReady Slices (title3.ai) -->
<table id="___01" width="898" height="81" border="0" align="center" cellpadding="0" cellspacing="0";>
	<tr>
		<td colspan="15">
			<img src="image/title/title_01.png" width="900" height="1" alt=""></td>
	</tr>
	<tr>
		<td rowspan="4" bgcolor="#182448"><p><img src="http://linux.vbird.org/cgi-bin/Count.cgi?dd=C&amp;ft=5&amp;sh=T&amp;md=8&amp;pad=Y&amp;df=vbird.dic.ksu.edu.tw.dat" width="93" align="left" title="計數器" /></p>
	    <p><font color="#FFFFFF" size="-1">since2012/04/23</font></p></td>
		<td rowspan="4" align="left" valign="top"><a href="../index.html"><img src="image/title/title_03.png" alt="" width="263" height="79" border="0"></a></td>
		<td colspan="13">
			<img src="image/title/title_04.png" alt="" width="535" height="9" border="0"></td>
	</tr>
	<tr>
		<td rowspan="3">
			<img src="image/title/title_05.png" alt="" width="53" height="70" border="0"></td>
		<td colspan="2" align="left" valign="top"><a href="../linux_basic/0110whatislinux.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image51','','image/title/title_06.png',1)"><img src="image/title/title3_06.png" name="Image51" width="106" height="25" border="0" id="Image51" alt=""/></a></td>
		<td rowspan="2">
			<img src="image/title/title_07.png" alt="" width="27" height="37" border="0"></td>
		<td colspan="3" align="left" valign="top"><a href="0110network_basic.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image52','','image/title/title_08.png',1)"><img src="image/title/title3_08.png" name="Image52" width="107" height="25" border="0" id="Image52" alt=""/></a></td>
		<td rowspan="2">
			<img src="image/title/title_09.png" alt="" width="37" height="37" border="0"></td>
		<td colspan="2" align="left" valign="top"><a href="../about.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image53','','image/title/title_10.png',1)"><img src="image/title/title3_10.png" name="Image53" width="75" height="25" border="0" id="Image53" alt=""/></a></td>
		<td rowspan="3">
			<img src="image/title/title_11.png" alt="" width="35" height="70" border="0"></td>
		<td align="left" valign="top"><a href="mailto:vbird@mail.vbird.idv.tw" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image54','','image/title/title_12.png',1)"><img src="image/title/title3_12.png" name="Image54" width="74" height="25" border="0" id="Image54" alt=""/></a></td>
		<td rowspan="3">
			<img src="image/title/title_13.png" alt="" width="21" height="70" border="0"></td>
	</tr>
	<tr>
		<td colspan="2">
			<img src="image/title/title_14.png" alt="" width="106" height="12" border="0"></td>
		<td colspan="3">
			<img src="image/title/title_15.png" alt="" width="107" height="12" border="0"></td>
		<td colspan="2">
			<img src="image/title/title_16.png" width="75" height="12" alt=""></td>
		<td rowspan="2">
			<img src="image/title/title_17.png" alt="" width="74" height="45" border="0"></td>
	</tr>
	<tr>
		<td>
			<img src="image/title/title_18.png" alt="" width="15" height="33" border="0"></td>
		<td colspan="3" align="left" valign="top"><ul id="MenuBar1" class="MenuBarHorizontal">
	  <li><a href="../linux_basic/linux_basic.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image44','','image/title/title_19.png',1)"><img src="image/title/title3_19.png" name="Image44" width="123" height="33" border="0" id="Image44" /></a>
			    <ul>
			      <li><a href="../linux_basic/Mandrake9.0/mandrake9.0.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image46','','image/title/title_26.png',1)"><img src="image/title/title_23.png" name="Image46" width="120" height="26" border="0" id="Image46" alt="" /></a></li>
                  <li><a href="../linux_basic/fedora_4/fc4.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image47','','image/title/title_27.png',1)"><img src="image/title/title_24.png" name="Image47" width="120" height="26" border="0" id="Image47" alt="" /></a></li>
                  <li><a href="../linux_basic/linux_basic.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image48','','image/title/title_28.png',1)"><img src="image/title/title_25.png" name="Image48" width="120" height="26" border="0" id="Image48" alt="" /></a></li>
                </ul>
		      </li>
		</ul></td>
		<td>
			<img src="image/title/title_20.png" alt="" width="42" height="33" border="0"></td>
		<td colspan="3" align="left" valign="top"><ul id="MenuBar2" class="MenuBarHorizontal">
	  <li><a href="index.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image45','','image/title/title_21.png',1)"><img src="image/title/title3_21.png" name="Image45" width="125" height="33" border="0" id="Image45" /></a>
			    <ul>
			      <li><a href="linux_redhat9/redhat9.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image43','','image/title/title_26.png',1)"><img src="image/title/title_23.png" name="Image43" width="120" height="26" border="0" id="Image43" alt=""/></a></li>
			      <li><a href="centos4.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image49','','image/title/title_27.png',1)"><img src="image/title/title_24.png" name="Image49" width="120" height="26" border="0" id="Image49" alt="" /></a></li>
			      <li><a href="index.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image50','','image/title/title_28.png',1)"><img src="image/title/title_25.png" name="Image50" width="120" height="26" border="0" id="Image50" alt="" /></a></li>
		        </ul>
		      </li>
		</ul></td>
		<td>
			<img src="image/title/title_22.png" alt="" width="47" height="33" border="0"></td>
	</tr>
	<tr>
		<td>
			<img src="image/title/Spacer.gif" width="101" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="263" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="53" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="15" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="91" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="27" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="5" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="42" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="60" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="37" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="28" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="47" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="35" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="74" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="22" height="1" alt=""></td>
	</tr>
</table>
<!-- End ImageReady Slices -->
<script type="text/javascript">
<!--
var MenuBar1 = new Spry.Widget.MenuBar("MenuBar1", {imgDown:"SpryAssets/SpryMenuBarDownHover.gif", imgRight:"SpryAssets/SpryMenuBarRightHover.gif"});
var MenuBar2 = new Spry.Widget.MenuBar("MenuBar2", {imgDown:"SpryAssets/SpryMenuBarDownHover.gif", imgRight:"SpryAssets/SpryMenuBarRightHover.gif"});
//-->
</script>
</div>
<table summary="本文内容的排版" style="width: 898px;" border="0" cellpadding="0" cellspacing="0">
<tbody><tr><td style="width: 16px; height: 16px;">　</td>
    <td style="width: 866px; height: 16px;">　</td>
    <td style="width: 16px; height: 16px;">　</td></tr>
<tr><td style="width: 16px; font-size: 6px;">　</td>
    <td width="866">

<!-- 本文的檔頭部分 -->
<div style="text-align:center">
    <a href="http://linux.vbird.org/linux_server/0360apache.php">
    <span class="text_head0">第二十章、<span class="text_head_en">WWW </span>伺服器</span></a><br>
</div>
    <div style="text-align:right">
        <span class="text_history">最近更新日期：2011/08/05</span>
    </div>
<!-- 本文的連結區部分 -->
<div class="block1">
<span class="text_h1">
20.6 <a href="#hint">重點回顧</a><br>
20.7 <a href="#ex">本章習題</a><br>
20.8 <a href="#reference">參考資料與延伸閱讀</a><br>
<span class="text_h2">
20.9 <a href="http://phorum.vbird.org/viewtopic.php?p=116564" target="_blank">針對本文的建議：http://phorum.vbird.org/viewtopic.php?p=116564</a><br>
</span>
</span></div>
<!-- 本文的正式部分 -->
<hr><a name="hint"></a><img src="../image/logo.png" alt="大标题的图示" width="35" align="middle" height="34"><span class="text_h1">20.6 重點回顧</span><br>
<div class="block1">
<ul class="text_import2">
	<li>WWW 的傳輸協定使用 HTTP (Hyper Text Transport Protocol) ，最早是由歐洲核子物理實驗室的伯納斯-李所發展的；</li>
	<li>WWW 在 server/client 端主要傳遞的訊息資料以 HTML (Hyper Text Markup Language) 語法為主；</li>
	<li>http://www.w3c.org 為制訂與發佈 WWW 標準語法的組織，你撰寫網頁最好依據該站之標準為宜；</li>
	<li>Apache 是達成 WWW 伺服器的一項軟體，至於用戶端的瀏覽則使用瀏覽器，目前可使用 firefox</li>
	<li>瀏覽器可達成的主機連結不止 http，可在網址列輸入對應的『協定://主機[:port]/資源』即可取得不同的資料；</li>
	<li>若要 WWW 伺服器可以達成與使用者資訊互動，尚須要網頁程式語言 (如PHP, perl 等) 以及資料庫軟體 (如 MySQL, 
		portgresql 等)；</li>
	<li>因為 http 使用的是明碼傳送，目前 WWW 可利用 SSL 等機制來進行資料加密的傳輸；</li>
	<li>Apache 的設定檔其實只有 httpd.conf 而已，其他的設定檔都是被 Include 進來的；</li>
	<li>Apache 的首頁目錄以 DocumentRoot 決定，首頁檔案則以 DirectoryIndex 決定；</li>
	<li>Apache 可以透過虛擬主機的設定以指定不同主機名稱到不同的 DocumentRoot 下；</li>
	<li>Apache 是多執行緒的軟體，可以啟動多個程序來負責 WWW。主要的模組有 prefork 及 worker，
		至於最大可連線的數量則以 MaxClients 來決定。</li>
	<li>若要正確的讓瀏覽器顯示網頁的編碼格式，最好在網頁上宣告語系，並將 Apache  的設定檔 httpd.conf
		內的 AddDefaultCharset 設定值取消；</li>
	<li>在 Apache 可瀏覽的目錄權限設定上  (Options 參數)，最好將 Indexes拿掉；</li>
	<li>透過 AllowOverride  與 .htaccess 可讓使用者在自己管理的目錄下制訂自己的風格；</li>
	<li>Apache 本身提供一個 apachectl 的 script 讓使用者得以快速管理其 apache 的服務；</li>
	<li>Apache 分析的資料如果比較重要時，務必以 SSL 或者是保護目錄來保護。</li>
</ul>
</div>


<hr><a name="ex"></a><img src="../image/logo.png" alt="大标题的图示" width="35" align="middle" height="34"><span class="text_h1">20.7 本章習題</span><br>
<div class="block1">
<ul>
	<li>請問 LAMP 這個伺服器代表什麼意思？
	<div class="blockex">
		這個名詞代表了 Linux + Apache + MySQL + PHP 這個 WWW 伺服器的組成！
	</div></li>

	<li>Apache 的設定檔檔名一般為何？
	<div class="blockex">
		Apache 的設定檔檔名為 httpd.conf ，不過，由於 httpd.conf 內容參數可以使用『 
		include "額外設定檔名"』，所以也可能具有其他的額外設定檔喔！ 
	</div></li>

	<li>在 Apache 的設定檔當中，哪一個參數是用來設定『主網頁』的？
	<div class="blockex">
		設定主網頁的參數為：DocumentRoot 喔！後面接的是主網頁放置的『目錄』！
	</div></li>

	<li>哪一個指令用來重新啟動與關閉 Apache ？(請以 Apache 本身提供的功能來說明)
	<div class="blockex">
		其實不論是 RPM 還是 Tarball 都是使用 apachectl 這個檔案來啟動 apache 的，不過 RPM 
		已經將該檔案整合到 /etc/init.d/httpd 裡面去而已
	</div></li>

	<li>當我使用 ps -aux 的時候，發現好多的 httpd... 的程序，這是正常的嗎？
	最多可以有幾個程序是在那個檔案的那個參數所設定的？
	<div class="blockex">
		由於 Apache 預設為多執行緒，所以啟動多個 processes 是正常的。至於啟動幾個 process 則由很多設定所處理，
		包括 MinSpareServers, MaxSpareServers, MaxClients 等等。
	</div></li>

	<li>又，呈上題，這些程序 (process) 的 owner 與 group 是誰？該察看那個設定檔的那個參數？
	<div class="blockex">
		同樣察看 httpd.conf 裡面的 User 與 Group 這兩個設定值！ 
	</div></li>

	<li>如果今天我以 http://your.ip 結果卻發現瀏覽器出現類似 FTP 
	的畫面(會列出該目錄下的所有檔案)，這是什麼原因造成的？該如何避免？
	<div class="blockex">
		這是由於在 httpd.conf 裡面，針對該目錄的設定參數『 Options 』當中，設定了 Indexes 
		這個設定值，導致當找不到主頁時(通常是 index.html)，就會將該目錄下的所有檔案秀出來！解決的方法就是拿掉
		Options 裡面的 Indexes 設定值即可！ 
	</div></li>

	<li>在 Apache 裡面 .htaccess 這個檔案的功能為何？
	<div class="blockex">
		可以用來取代 httpd.conf 裡面的設定參數！創造屬於使用者自己的 Apache 風格！
	</div></li>

	<li>若你之前瀏覽過網頁，但顯示的資料並非正確的中文。後來按照上文的說明修改了中文的設定，卻還是無法看到中文。
	請問可能的原因為何？
	<div class="blockex">
		由於你曾經瀏覽過該網站的網頁，所以該網頁會被你的瀏覽器所暫存 (cache)，因此你應該可以這樣做：<br>
		<ul>
		<li>在同一頁面下按下『 reload 』來重新載入；</li>
		<li>清除掉所有的瀏覽器快取；</li>
		<li>將原本的網頁在伺服器端改名，並讓瀏覽器瀏覽新的網頁名稱。</li>
		</ul>
	</div></li>

	<li>PHP 的程式碼一定要使用 &lt;?php 程式碼 ?&gt; 嗎？有沒有替代方案？
	<div class="blockex">
		預設的情況下，你應該要輸入 &lt;?php ?&gt; 才能寫入 PHP 的程式。不過早期的程式或許都以 &lt;? ?&gt; 來撰寫的。
		如果想要讓該種方式生效的話，你可以進入 /etc/php.ini 檔案中，修改『short_open_tag = On』這個設定項目即可。
	</div></li>
	
</ul>
</div>


<hr><a name="reference"></a><img src="../image/logo.png" alt="大标题的图示" width="35" align="middle" height="34"><span class="text_h1">20.8 參考資料與延伸閱讀</span><br>
<div class="block1">
<ul>
	<li>葛林.穆迪著，杜默譯，『Linux傳奇』，時報出版；</li>
	<li>WWW 發展者蒂姆•伯納斯－李的生平簡介：
	<a href="http://zh.wikipedia.org/wiki/蒂姆·伯纳斯－李" target="_blank">http://zh.wikipedia.org/wiki/蒂姆•伯納斯－李</a></li>
	<li>W3C 標準制訂與公布網站：<a href="http://www.w3c.org/" target="_blank">http://www.w3c.org</a></li>
	<li>Apache 官方網站： <a href="http://www.apache.org/" target="_blank">http://www.apache.org/</a></li>
	<li>Mozilla 官方網站： <a href="http://www.mozilla.org/" target="_blank">http://www.mozilla.org/</a></li>
	<li>PHP 官方網站： <a href="http://www.php.net/" target="_blank">http://www.php.net/</a></li>
	<li>MySQL 官方網站： <a href="http://www.mysql.org/" target="_blank">http://www.mysql.org/</a></li>
	<li>MySQL 中文使用手冊： <a href="http://linux.tnc.edu.tw/techdoc/mysql/mysql_doc/manual_toc.html" target="_blank">http://linux.tnc.edu.tw/techdoc/mysql/mysql_doc/manual_toc.html</a></li>
	<li>Apache 1.3 版的 Tarball 安裝方式：<a href="http://linux.vbird.org/linux_server/0360apache/0360apache-1.php" target="_blank">http://linux.vbird.org/linux_server/0360apache/0360apache-1.php</a></li>
	<li>Apache 2.0 的說明文件： <a href="http://httpd.apache.org/docs/2.0/mod/core.html" target="_blank">http://httpd.apache.org/docs/2.0/mod/core.html</a></li>
	<li>林彥明的 Apache SSL 實戰演練：<a href="http://www.vbird.org/somepaper/20060310-https.pdf" target="_blank">http://www.vbird.org/somepaper/20060310-https.pdf</a></li>
</ul>
</div>
<hr />
    </td>
    <td style="width: 16px; font-size: 6px;">　</td></tr>
<tr><td style="width: 16px; height: 16px;">　</td>
    <td style="width: 866px; height: 16px;">　</td>
    <td style="width: 16px; height: 16px;">　</td></tr>
</tbody></table>

<div style="padding-top: 0px; text-align: center;">
<span style="font-size: 80%;">
	<a href="http://linux.vbird.org/" target="_top" title="前往鸟哥的首页">http://linux.vbird.org</a>
	is designed by <a href="mailto:vbird@mail.vbird.idv.tw" title="联络鸟哥(我不要广告信！)">VBird</a>
		during 2001-2011. <a href="http://www.ksu.edu.tw/" target="_blank">ksu.edu</a></span>
         ﻿<div id="apDiv4">
      <p>本网页主要以Firefox配合解析度 1024x768 作为设计依据&nbsp;&nbsp;&nbsp;&nbsp; 鸟哥自由软件整合应用研究室</p></div></div>
</div>
</center>
</body></html>
