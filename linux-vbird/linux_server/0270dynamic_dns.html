<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-TW" lang="zh-TW"><head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf8">
	<meta name="Author" content="VBird, 鸟哥">
	<meta name="Description" content="主机名是很重要的，尤其是动态的 DNS 主机名，本文还有谈论动态的 DNS 之侦测技巧，以及相关的文件！">
	<title>鸟哥的 Linux 私房菜 -- 申请合法的主机名</title>
    <script src="../script/SpryMenuBar.js" type="text/javascript"></script>
	<script src="../script/index.js" type="text/javascript"></script>
	<link href="../css/SpryMenuBarHorizontal.css" rel="stylesheet" type="text/css" />
    <link href="../css/main.css" rel="stylesheet" type="text/css" />
    </head><body style="margin: 0pt; padding: 0pt;" class="table"onload="MM_preloadImages('../index-2.html','../index-2.html','../index-2.html','../index-2.html','../index-2.html','../index-2.html','../index-2.html','../index-2.html')">

<center>
<div id="apDiv5">
<div> <LINK REL="SHORTCUT ICON" HREF="../index-2.html">
<!-- ImageReady Slices (title3.ai) -->
<table id="___01" width="898" height="81" border="0" align="center" cellpadding="0" cellspacing="0";>
	<tr>
		<td colspan="15">
			<img src="image/title/title_01.png" width="900" height="1" alt=""></td>
	</tr>
	<tr>
		<td rowspan="4" bgcolor="#182448"><p><img src="http://linux.vbird.org/cgi-bin/Count.cgi?dd=C&amp;ft=5&amp;sh=T&amp;md=8&amp;pad=Y&amp;df=vbird.dic.ksu.edu.tw.dat" width="93" align="left" title="計數器" /></p>
	    <p><font color="#FFFFFF" size="-1">since2012/04/23</font></p></td>
		<td rowspan="4" align="left" valign="top"><a href="../index.html"><img src="image/title/title_03.png" alt="" width="263" height="79" border="0"></a></td>
		<td colspan="13">
			<img src="image/title/title_04.png" alt="" width="535" height="9" border="0"></td>
	</tr>
	<tr>
		<td rowspan="3">
			<img src="image/title/title_05.png" alt="" width="53" height="70" border="0"></td>
		<td colspan="2" align="left" valign="top"><a href="../linux_basic/0110whatislinux.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image51','','image/title/title_06.png',1)"><img src="image/title/title3_06.png" name="Image51" width="106" height="25" border="0" id="Image51" alt=""/></a></td>
		<td rowspan="2">
			<img src="image/title/title_07.png" alt="" width="27" height="37" border="0"></td>
		<td colspan="3" align="left" valign="top"><a href="0110network_basic.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image52','','image/title/title_08.png',1)"><img src="image/title/title3_08.png" name="Image52" width="107" height="25" border="0" id="Image52" alt=""/></a></td>
		<td rowspan="2">
			<img src="image/title/title_09.png" alt="" width="37" height="37" border="0"></td>
		<td colspan="2" align="left" valign="top"><a href="../about.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image53','','image/title/title_10.png',1)"><img src="image/title/title3_10.png" name="Image53" width="75" height="25" border="0" id="Image53" alt=""/></a></td>
		<td rowspan="3">
			<img src="image/title/title_11.png" alt="" width="35" height="70" border="0"></td>
		<td align="left" valign="top"><a href="mailto:vbird@mail.vbird.idv.tw" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image54','','image/title/title_12.png',1)"><img src="image/title/title3_12.png" name="Image54" width="74" height="25" border="0" id="Image54" alt=""/></a></td>
		<td rowspan="3">
			<img src="image/title/title_13.png" alt="" width="21" height="70" border="0"></td>
	</tr>
	<tr>
		<td colspan="2">
			<img src="image/title/title_14.png" alt="" width="106" height="12" border="0"></td>
		<td colspan="3">
			<img src="image/title/title_15.png" alt="" width="107" height="12" border="0"></td>
		<td colspan="2">
			<img src="image/title/title_16.png" width="75" height="12" alt=""></td>
		<td rowspan="2">
			<img src="image/title/title_17.png" alt="" width="74" height="45" border="0"></td>
	</tr>
	<tr>
		<td>
			<img src="image/title/title_18.png" alt="" width="15" height="33" border="0"></td>
		<td colspan="3" align="left" valign="top"><ul id="MenuBar1" class="MenuBarHorizontal">
	  <li><a href="../linux_basic/linux_basic.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image44','','image/title/title_19.png',1)"><img src="image/title/title3_19.png" name="Image44" width="123" height="33" border="0" id="Image44" /></a>
			    <ul>
			      <li><a href="../linux_basic/Mandrake9.0/mandrake9.0.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image46','','image/title/title_26.png',1)"><img src="image/title/title_23.png" name="Image46" width="120" height="26" border="0" id="Image46" alt="" /></a></li>
                  <li><a href="../linux_basic/fedora_4/fc4.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image47','','image/title/title_27.png',1)"><img src="image/title/title_24.png" name="Image47" width="120" height="26" border="0" id="Image47" alt="" /></a></li>
                  <li><a href="../linux_basic/linux_basic.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image48','','image/title/title_28.png',1)"><img src="image/title/title_25.png" name="Image48" width="120" height="26" border="0" id="Image48" alt="" /></a></li>
                </ul>
		      </li>
		</ul></td>
		<td>
			<img src="image/title/title_20.png" alt="" width="42" height="33" border="0"></td>
		<td colspan="3" align="left" valign="top"><ul id="MenuBar2" class="MenuBarHorizontal">
	  <li><a href="index.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image45','','image/title/title_21.png',1)"><img src="image/title/title3_21.png" name="Image45" width="125" height="33" border="0" id="Image45" /></a>
			    <ul>
			      <li><a href="linux_redhat9/redhat9.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image43','','image/title/title_26.png',1)"><img src="image/title/title_23.png" name="Image43" width="120" height="26" border="0" id="Image43" alt=""/></a></li>
			      <li><a href="centos4.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image49','','image/title/title_27.png',1)"><img src="image/title/title_24.png" name="Image49" width="120" height="26" border="0" id="Image49" alt="" /></a></li>
			      <li><a href="index.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image50','','image/title/title_28.png',1)"><img src="image/title/title_25.png" name="Image50" width="120" height="26" border="0" id="Image50" alt="" /></a></li>
		        </ul>
		      </li>
		</ul></td>
		<td>
			<img src="image/title/title_22.png" alt="" width="47" height="33" border="0"></td>
	</tr>
	<tr>
		<td>
			<img src="image/title/Spacer.gif" width="101" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="263" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="53" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="15" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="91" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="27" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="5" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="42" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="60" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="37" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="28" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="47" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="35" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="74" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="22" height="1" alt=""></td>
	</tr>
</table>
<!-- End ImageReady Slices -->
<script type="text/javascript">
<!--
var MenuBar1 = new Spry.Widget.MenuBar("MenuBar1", {imgDown:"SpryAssets/SpryMenuBarDownHover.gif", imgRight:"SpryAssets/SpryMenuBarRightHover.gif"});
var MenuBar2 = new Spry.Widget.MenuBar("MenuBar2", {imgDown:"SpryAssets/SpryMenuBarDownHover.gif", imgRight:"SpryAssets/SpryMenuBarRightHover.gif"});
//-->
</script>
</div>
<table summary="本文内容的排版" style="width: 898px;" border="0" cellpadding="0" cellspacing="0">
<tbody><tr><td style="width: 16px; height: 16px;">　</td>
    <td style="width: 866px; height: 16px;">　</td>
    <td style="width: 16px; height: 16px;">　</td></tr>
<tr><td style="width: 16px; font-size: 6px;">　</td>
    <td width="866">

<!-- 本文的档头部分 -->
<div style="text-align:center">
    <a href="http://linux.vbird.org/linux_server/0270dynamic_dns.php">
    <span class="text_head0">第十章、申请合法的主机名</span></a><br>
</div>
    <div style="text-align:right">
        <span class="text_history">最近更新日期：2011/07/23</span>
    </div>

<!-- 本文的档头部分 -->
<center><table class="head1" summary="排版：文章档头的说明"><tbody><tr><td class="head1">
	在读完了网络基础并且架设了个人简易的防火墙之后，总算是准备要开始来给他进入 Server 
	的架设了！服务器架设的步骤里面，很重要的一点是『你的主机名必须要在
	Internet 上面可以被查询』才好！这是因为人类对于 IP 记忆力不佳，所以才会以主机名来取代 IP。不过，
	你的主机名要能够被查询到才有用啊！这个时候，一个『合法』的主机名就很重要了！那要合法的主机，就得要让
	DNS 系统能够找的到你的主机啊！不过，如果我们的主机是使用拨接得到的不固定
	IP 呢？又该如何申请 DNS 主机名？那就得要使用动态 DNS 的系统啰！在这个章节中，我们主要在介绍
	Client 端的设定，而不是在设定 DNS 服务器喔！ ^_^
</td></tr></tbody></table></center><br>


<!-- 本文的连结区部分 -->
<div class="block1">
<span class="text_h1">
10.1 <a href="#hostname">为何需要主机名</a><br>
	<span class="text_h2">
	　　10.1.1 <a href="#hostname_why">主机名的由来</a><br>
	　　10.1.2 <a href="#hostname_avalible">重点在合法授权</a><br>
	　　10.1.3 <a href="#hostname_what">申请静态还是动态 DNS 主机名 </a><br>
	</span>
10.2 <a href="#need">注册一个合法的主机名</a><br>
	<span class="text_h2">
	　　10.2.1 <a href="#need_static">静态 DNS 主机名注册：以 Hinet 为例</a><br>
	　　10.2.2 <a href="#need_dynamic_noip">动态 DNS 主机名注册：以 no-ip 为例</a><br>
	</span>
10.3 <a href="#hint">重点回顾</a><br>
10.4 <a href="#ex">本章习题</a><br>
10.5 <a href="#reference">参考数据与延伸阅读</a><br>
<span class="text_h2">
10.6 <a href="http://phorum.vbird.org/viewtopic.php?t=26634" target="_blank">针对本文的建议：http://phorum.vbird.org/viewtopic.php?t=26634</a><br>
</span>

</span>
</div>


<!-- 本文的正式部分 -->
<hr><a name="hostname"></a><img src="../image/logo.png" alt="大标题的图示" width="35" align="middle" height="34"><span class="text_h1">10.1 为何需要主机名</span><br>
<div class="block1">
	<p>如果你已经将<a href="http://linux.vbird.org/linux_server/0110network_basic.php">第二章的网络基础</a>看完的话，应该会知道其实我们的 
	TCP/IP 环境只要有 IP 与正确的路由即可联机了。那么你申请主机名要干嘛？因为『<span class="text_import2">没办法啊！人脑太不中用了！</span>』举例来说，你可以背出来我们常上去查数据的 www.google.com 的 
	IP 吗？报告！鸟哥没办法背出来～</p>

	<p>因为 IP 是那么难背的东西，而且，如果你的 IP 又是类似拨接的不固定的 IP 时，那还更伤脑筋呢！
	因此我们才会习惯以熟悉的英文字符串来做为主机名，然后让『这个主机名与 IP 达成对应』，那直接记忆主机名就行了，反正 
	IP 的查询就交给计算机主机来做即可！在这样的想法下，我们当然就需要有主机名啦！</p>

	<div style="padding: 10pt 0pt 10pt 0pt ;" align="right"><table width="90%"><tbody><tr><td><b>Tips:</b><br><span style="color : #009000"><font size="-1">	在这个章节当中，我们将会介绍如何申请一个合法的主机名。目前 Internet 上面使用的主机名都是透过所谓的
	DNS 系统，而你想要取得一个 DNS 的主机名，就必须要『注册』，所谓的『注册』就是要钱去申请啦！
	当然也有免费提供主机名的服务啦！在这个章节当中鸟哥不会介绍如何架设一部 DNS 服务器，
	而是介绍如何利用注册或免费申请的方式来达成主机名的取得。
	</font></span></td><td><img src="0270dynamic_dns_files/vbird_face.gif" alt="鸟哥的图示" title="鸟哥的图示"></td></tr></tbody></table></div>
	<hr><a name="hostname_why"></a><img src="../image/logo.png" alt="小标题的图示" width="24" align="middle" height="23"><span class="text_h2">10.1.1 主机名的由来</span><br>
	<div class="block2">
		<p>因为 IP 是这么难记忆的东西，因此人们就使用『名字』来对应到主机的 IP，这就是主机名的由来。
		好在早期连上网络的计算机数量不多，所以在网络上的人们就想出一个简单的办法来进行主机名与 IP 
		的对应，那就是『<span class="text_import2">在每部计算机的 /etc/hosts 里面设定好主机名与 IP 
		的对应表</span>』。那么人们就可以直接藉由主机名来连接上某些网络上的主机啰！</p>

		<p>然而因为科技的发达，连上 Internet 的人们越来越多，使用 /etc/hosts 
		的方法已经搞不定了 (只要一部新计算机上线，全部 Internet 上面的所有计算机都要重新改写 /etc/hosts 才行！)
		，这个时候领域名系统 ( Domain Name System, DNS ) 就适时的出现了！</p>

		<p>DNS 利用类似树状目录的型态，<span class="text_import2">将主机名的管理分配在不同层级的 DNS 
		服务器当中，经由分层管理，所以每一部服务器记忆的信息就不会很多，而且异动上面也相当的容易修改</span>！
		这个 DNS 的功能你知道了吗？对啦！就是『<span class="text_import2">将计算机主机的名称转译成 
		IP</span> 』就是了！当然啰，他的额外功能还很多，关于 DNS 的详细的解析部分我们将在后续的 
		<a href="http://linux.vbird.org/linux_server/0350dns.php">第十九章 DNS 服务器架设</a>当中再持续的加强内容，总之，
		它的最大功能就是『<span class="text_import2">让有意义的，人类较容易记忆的主机名(英文字母)
		，转译成为计算机所熟悉的 IP 地址！</span>』</p>

		<p>透过上面的简单说明，你得要知道，如果你想要一个主机名，那你就得要透过 DNS 系统，而不是单纯的修改你的 /etc/hosts 而已。
		那你如何加入一个主机名到 DNS 系统当中呢？『授权』是重点！那什么是授权呢？</p>
	</div>

	<hr><a name="hostname_avalible"></a><img src="../image/logo.png" alt="小标题的图示" width="24" align="middle" height="23"><span class="text_h2">10.1.2 重点在合法授权</span><br>
	<div class="block2">
		<p>很多朋友都认为：『<span class="text_import2">因为我想要架站，所以主机需要有个主机名，因此我就得要架设 
		DNS 服务器？</span>』是这样吗？当然不是啰！DNS 是个很庞大的架构，而且是串连在全球的网络当中，除非你经由『注册』的手续来让 
		DNS 系统承认你主机名存在的合法性，否则你架设的 DNS 只能说是一个『地下练习的测试站』而已啦！并没有用途的。</p>

		<p>那我要如何加入 DNS 系统呢？很简单啦！首先你必须要选择一个注册单位，
		并且检查出你想要注册的主机名是否存在？主机名是有意义的，并不是你可以随便注册的喔！
		举例来说，在台湾常见的个人网站注册主机名为： *.idv.tw ，而公司行号则可能注册为
		*.com.tw 了！这个得要特别留意。至于台湾地区的注册单位很多，你可以选择例如 Hinet 或 Seednet 
		之类的 ISP 来注册。当然，你也可以选择免费的 no-ip.org 来注册的。</p>

		<p>如果想要了解啥是『合法授权』的话，得要从 DNS 主机名的查询方式来谈起，由于 DNS
		查询的方式都是由上层的 ISP 提供解析授权给下游的注册者，因此，下游的注册者只要设定妥当后，
		全世界的主机就会知道你设定的数据了。详细的查询流程我们留到<a href="http://linux.vbird.org/linux_server/0350dns.php">DNS 服务器</a>章节再来谈，
		底下仅是介绍一个简单的查询示意图。</p>

		<a name="fig10.1-1"></a>
		<center><img src="0270dynamic_dns_files/auth_search.gif" alt="DNS 查询示意图" title="DNS 查询示意图" border="0"><br>
		图 10.1-1、 DNS 查询示意图<br></center>

		<p>举昆山信息传播系的 WWW 服务器的主机名注册方式来说好了，我们系上得要先跟昆山计中 (相当于我们的 ISP)
		注册取得 <a href="http://www.dic.ksu.edu.tw/" target="_blank">www.dic.ksu.edu.tw</a> 这个主机名与 IP 的对应，
		这个对应信息是写在昆山计中的 DNS 服务器上，与资传系的 WWW 服务器无关喔！那你怎么知道那部 www.dic.ksu.edu.tw
		在哪里？你会先向你的 DNS 要求查询，该 DNS 会去向全世界的 DNS 系统查询，该系统会主动的查询到 KSU dns 服务器，
		然后你的 PC 就会知道 www.dic.ksu.edu.tw 的 IP 在哪，最后你就开始联机啰。</p>

		<p>从这个流程当中，你可以发现我们的 www 服务器与 KUS dns 服务器没有绝对关系，两者是独立的，我们只要作好 DNS
		的『注册』工作 (向计中申请注册) 即可，并不需要去维护 DNS 的信息。所以啰，
		这里你只要知道：<span class="text_import2">(1)主机名的设计是有意义的，不可以随便设定、
		(2)主机名要生效，得要透过注册来取得合法授权。</span>这样就好了，如果想要架设 DNS 与更了解 DNS 系统的话，
		等到后续的 DNS 服务器章节再来谈。</p>

		<div style="padding: 10pt 0pt 10pt 0pt ;" align="right"><table width="90%"><tbody><tr><td><b>Tips:</b><br><span style="color : #009000"><font size="-1">		在这个章节当中，理论方面的讲解比较少，因为很多数据都与 <a href="http://linux.vbird.org/linux_server/0350dns.php">DNS 服务器篇</a>
		有重复，在这个章节当中鸟哥主要在介绍动态 IP 架站的一个简单主机名申请方式啦！ ^_^
		</font></span></td><td><img src="0270dynamic_dns_files/vbird_face.gif" alt="鸟哥的图示" title="鸟哥的图示"></td></tr></tbody></table></div>	</div>

	<hr><a name="hostname_what"></a><img src="../image/logo.png" alt="小标题的图示" width="24" align="middle" height="23"><span class="text_h2">10.1.3 申请静态还是动态 
	DNS 主机名</span><br>
	<div class="block2">
		<p>由上面的说明当中，我们可以很清楚的知道 DNS 系统最大的功能就是在主机名对应 IP 的转译上面。当然啦，预设的 
		DNS 转译是用在『<span class="text_import2">固定 IP 对应主机名</span>』的方法上面的！就像上面的<a href="#fig10.1-1">图 10.1-1</a> 所示一般。在这个情况底下，你在 DNS 架构下申请完主机名后，
		如果你的 IP 不会更动，那就永远不用去烦恼主机名的相关问题啰，这也是所谓的静态 DNS 主机名功能。</p>

		<p>但是...夭寿喔！我们的很多小网站都是以非固定 IP 来上网的，更有甚者，某些 ADSL 拨接模式甚至会定时强制断线，也就是说，
		在一段时间后，我们都得需要重新拨接上网，而每次拨接成功后取得的 IP 可不见得相同啊，如此一来 IP 不是一直在变吗？
		那么我不就需要一直跟我上层 DNS 主机的管理员申请『变更 IP 』吗？会不会太麻烦了点？ </p>

		<p>是很麻烦啊！所以现在为了解决这个问题，很多 ISP 提供了所谓的<span class="text_import2">动态 DNS 
		服务</span>的功能，他是这样做的：</p>

		<ol class="text_import2">
		<li>Client 端(就是你啦)每次开机或者是重新拨接，并取得一个新的 IP 之后，会主动向 DNS Server 端提出要求，希望 
		Server 端变更主机名与 IP 的对应 (这个步骤在每个主要的 ISP 都有提供适当的程序来提供给 client 使用)；<br><br></li>

		<li>Server 端接受 Client 端的要求之后，会先去查询 Client 提供的账号密码是否正确，
		若正确就会立即修改 Server 本身对于你的主机名的设定值。</li>
		</ol>

		<p>所以啰，每次我们取得了新的 IP 之后，我们的主机名对应的 IP 也会跟着在 DNS 系统上面更新，
		如此一来，只要别人知道你的主机名，不论你的 IP 为何，他一定可以连上你的主机 (因为 IP 跟着你的主机而变！) 
		这对于我们这种使用动态 IP 的人是很有帮助的！ (阿！真是造福我们这些穷苦人家的孩子呀！) 
		整个程序就有点像底下的图示，WWW 服务器与 DNS 服务器之间就有关连性啦。</p>

		<a name="fig10.1-2"></a>
		<center><img src="0270dynamic_dns_files/auth_dynamic.gif" alt="动态 DNS 服务--客户端向服务器端发送更新要求" title="动态 DNS 服务--客户端向服务器端发送更新要求" border="0"><br>
		图 10.1-2、动态 DNS 服务--客户端向服务器端发送更新要求<br></center>

		<p>不过，还是需要注意的是，目前的主机名申请很多是『需要钱的』！如果你需要比较稳定的主机名对应 
		IP 的服务，那么花点钱来注册还是必须的。不过，如果是实验性质的网站，那么也是可以申请免费的动态 DNS 服务喔！</p>
	</div>
</div>


<hr><a name="need"></a><img src="../image/logo.png" alt="大标题的图示" width="35" align="middle" height="34"><span class="text_h1">10.2 注册一个合法的主机名</span><br>
<div class="block1">
	<p>根据前面的说法，如果你只想要有合法的主机名的话，那么依据你的 IP 是否固定而有： (1)静态 DNS 主机名与
	(2)动态 DNS 主机名两种注册方式。底下鸟哥列出自己有注册经验的网站提供大家参考：</p>

	<ul>
	<li><span class="text_import1">静态 DNS 主机名注册：</span><br>
	静态 IP 对应主机名的注册网站实在太多了，底下是鸟哥有注册经验的网站：
		<ul>
		<li>台湾网络信息中心：<a href="http://www.twnic.net/" target="_blank">http://www.twnic.net</a></li>
		<li>国外的领域名系统：<a href="http://www.netsol.com/" target="_blank">http://www.netsol.com</a></li>
		<li>国外的领域名系统：<a href="http://www.dotster.com/" target="_blank">http://www.dotster.com</a></li>
		<li>国外的领域名系统：<a href="http://www.godaddy.com/" target="_blank">http://www.godaddy.com</a></li>
		</ul><br></li>
	
	<li><span class="text_import1">动态 DNS 主机名注册：</span><br>
	至于免费的动态 DNS 系统主要就是这个 NO-IP 公司提供的网站啰！如下连结：
		<ul>
		<li>国外的免费 DNS 系统：<a href="http://www.no-ip.com/" target="_blank">http://www.no-ip.com</a></li>
		</ul></li>
	</ul><br>

	<hr><a name="need_static"></a><img src="../image/logo.png" alt="小标题的图示" width="24" align="middle" height="23"><span class="text_h2">10.2.1 静态 DNS 主机名注册：以 
	Hinet 为例</span><br>
	<div class="block2">
		<p>静态 DNS 的申请方式其实都差不多，都是需要：</p>

		<ol class="text_import2">
		<li>先查询所想要注册的网域是否存在；</li>
		<li>进入 ISP 去申请注册你所想要的主机名；</li>
		<li>缴费，并等待主机名被启用。</li>
		</ol>

		<p>我们以台湾蛮常见的 Hinet 这个 ISP 提供的『个人网域： .idv.tw』注册方式来说明：<br><br></p>

		<ul class="list1">
		<li><hr><span class="text_import1">1. 登入主画面，并查询欲注册网域是否存在</span><br><br>
		先连结到底下的网页去：<a href="http://domain.hinet.net/" target="_blank">http://domain.hinet.net/</a>
		，并在 whois 的画面当中(右上角)选择你想要注册的主机名，按下『Go』开始搜寻。<br><br>

		<center><img src="0270dynamic_dns_files/static_dns_01.png" alt="利用 whois 查询欲注册网域是否存在" title="利用 whois 查询欲注册网域是否存在" border="1"><br>
		图 10.2-1、利用 whois 查询欲注册网域是否存在<br></center><br></li>

		<li><hr><span class="text_import1">2. 逐步进行注册</span><br><br>
		如果确认你的主机名没有被注册掉，那么你就可以开始注册了！同样的在上面的网站连结当中，
		选择『个人域名』就可以开始申请了！请由『域名申请』开始依序一步一步办理！这里不再说明了，反正都是中文，
		看的懂得啦！ ^_^<br><br>

		<center><img src="0270dynamic_dns_files/static_dns_02_20110214.gif" alt="个人网域逐步注册的流程示意图" title="个人网域逐步注册的流程示意图" border="1"><br>
		图 10.2-2、个人网域逐步注册的流程示意图<br></center><br></li>

		<li><hr><span class="text_import1">3. 填写主机名对应的 IP</span><br><br>
		通常花个几天等待缴费完毕后，我们就可以开始进行登入与主机名的填写了！在图 10.2-2 的图示中按下『DNS 异动与查询』的项目，
		并填入当初注册时的主机名与密码，然后就会出现如下的画面了：<br><br>

		<center><img src="0270dynamic_dns_files/static_dns_03.png" alt="主机名与 IP 对应的填写范例" title="主机名与 IP 对应的填写范例" border="1"><br>
		图 10.2-3、主机名与 IP 对应的填写范例<br></center><br>

		特别的给他留意，因为我们没有要架设 DNS 主机，所以当然最上方要选择『主机』的项目，
		然后你可以填入三部主机名喔！当然，这三部主机名可以通通指向同一个 IP ，也可以不同！
		随你的便吶！需要注意到的是，<span class="text_import2">你的主机名应该是『othername.yourhost.idv.tw』后面的 
		yourhost.idv.tw 是不变的，前面的 othername 则可以自由选取呢</span>！例如鸟哥上面的设定，后面均是 
		vbird.idv.tw ，而前面的名称就可以让我自由选择啦！<br><br></li>

		<li><hr><span class="text_import1">4. 等待 DNS 启用</span><br><br>
		在上图 10.2-3 当中按下『填写完请按这里』后，就等着启用吧！不过设定成功到可以使用，其实需要一定的时间的。
		以鸟哥为例，第一次申请之后，大约过了 20 小时该设定才正确的启动呢！请耐心等候啊！不要太着急啰！ ^_^</li>
		</ul><br><hr><br>

		<p>在台湾，各家的领域名注册流程都差不多，不过，金额是有点差异的，当然，服务也就有不同啊！鸟哥的
		vbird.org 领域名则是在 <a href="http://www.godaddy.com/" target="_blank">http://www.godaddy.com</a> 注册的喔！如果你不想要使用 
		.idv.tw 来注册的话，那么国外的 ISP 提供的 DNS 也可以考虑看看说！</p>
	</div>

	<hr><a name="need_dynamic_noip"></a><img src="../image/logo.png" alt="小标题的图示" width="24" align="middle" height="23"><span class="text_h2">10.2.2 动态 DNS 主机名注册：以
	no-ip 为例</span><br>
	<div class="block2">
		<p>如果你跟鸟哥一样使用 ADSL 拨接的方式来上网，这表示你的 IP 应该是不固定的！果真如此的话，
		那想要用这样的网络环境来架站就比较麻烦一点！因为上面利用 Hinet 注册的方式通常是给固定 IP 使用的，
		你应该不会想要天天上去更新你的 IP 吧？此时这个 no-ip.com 所提供的免费动态 IP 
		对应主机名的服务就很重要啦！我们先来申请一个主机名来玩玩吧！ ^_^<br><br></p>

		<ul class="list1">
		<li><hr><span class="text_import1">1. 登入主网页，并且注册一个新账号</span><br><br>
		你必须要连上 <a href="http://www.no-ip.com/" target="_blank">http://www.no-ip.com</a> 这个网站，
		然后在出现的画面当中的右上角部分，选择『 Create Account 』那个项目。不过，如果你已经有 no-ip 
		网站的注册账号，那么直接跳到底下第四步骤去登入即可。<br><br>

		<a name="fig10.2-4"></a>
		<center><img src="0270dynamic_dns_files/noip_01.gif" alt="no-ip 网站的注册：新建账号点选" title="no-ip 网站的注册：新建账号点选" border="1"><br>
		图 10.2-4、no-ip 网站的注册：新建账号点选<br></center><br></li>

		<li><hr><span class="text_import1">2. 开始填写识别数据</span><br><br>
		由于启动账号必须由 no-ip 提供一个注册启动的连结，因此你必须要填写正确的 email 
		来接受启动码。整个注册的讯息如下图所示：<br><br>

		<center><img src="0270dynamic_dns_files/noip_02.gif" alt="no-ip 网站的注册：新账号建立所需填写数据" title="no-ip 网站的注册：新账号建立所需填写数据" border="1"><br>
		图 10.2-5、no-ip 网站的注册：新账号建立所需填写数据<br></center><br>

		最重要的是，在该网页的最下方还有验证码以及你必须要勾选的『I agree that...』项目才行喔！
		最后才点选『I Accept, Create my Account』项目噜。详细图示如下所示：<br><br>

		<center><img src="0270dynamic_dns_files/noip_03.gif" alt="no-ip 网站的注册：新账号建立务必勾选项目" title="no-ip 网站的注册：新账号建立务必勾选项目" width="550" border="1"><br>
		图 10.2-6、no-ip 网站的注册：新账号建立务必勾选项目<br></center><br></li>

		<li><hr><span class="text_import1">3. 启用账号</span><br><br>
		在你申请注册一个新账号后， no-ip 会发一封信给你，请自行参考信件内容，并点选正确的启动码连结，
		那你的账号就能够启动，此时请回到<a href="#fig10.2-4">图 10.2-4</a> 去，针对你的 email(username)/密码(password)
		填写妥当，就能够登入 NO IP 网站了。<br><br></li>

		<li><hr><span class="text_import1">4. 登入 no-ip 且设定主机名与 IP 的对应</span><br><br>
		透过<a href="#fig10.2-4">图 10.2-4</a> 的样子来登入后，你会看到有点像底下的图示，底下就准备来处理你主机名与 IP
		的对应数据了：<br><br>

		<center><img src="0270dynamic_dns_files/noip_04.gif" alt="登入 NO IP 网站后的示意图" title="登入 NO IP 网站后的示意图" width="560" border="1"><br>
		图 10.2-7、登入 NO IP 网站后的示意图<br></center><br>

		上图的重点在于『Add a Host (新增一个主机名)』及『Manage Hosts (管理主机名)』两者，由于我们都还没有主机名的设定，
		因此首先就使用 Add a Host 来新增一笔主机名吧！按下那个图示，之后就会出现底下的画面：<br><br>

		<center><img src="0270dynamic_dns_files/noip_05.gif" alt="新增一个主机名与 IP 对应的方式" title="新增一个主机名与 IP 对应的方式" width="560" border="1"><br>
		图 10.2-8、新增一个主机名与 IP 对应的方式<br></center><br>

		主要填写的内容为：<br>
		<ol>
		<li>你想要的主机名；</li>
		<li>No IP 网站提供的领域名，与上个名称组合成完整的主机名；</li>
		<li>选择单一主机的 IP 对应；</li>
		<li>填写该主机名对应的正确 IP 为何 (后续可以透过程序直接修改，这里随便填也没关系)</li>
		<li>只与 mail server 有关，所以写不写都无所谓，不过，建议填写自己的主机名即可</li>
		<li>若上述数据都正确，按下 Create Host 即可建立成功。如果该主机名有被使用掉的话，屏幕会出现警告讯息，
		此时请再选填另外的主机名吧！</li>
		</ol><br>

		如果一切都没有问题的话，应该就会出现如下所示的图示。未来如果你想要更新或者是删除或者是新增主机名的话，
		就透过下图的示意流程来处理即可。且由下图你也可以知道， NO IP 有提供 5 个免费的主机名给你使用喔！真是太棒了！
		如果你想要维护相关数据，就使用『 Manage Hosts 』按钮即可处理了。<br><br>

		<center><img src="0270dynamic_dns_files/noip_06.gif" alt="主机名处理完毕与维护的示意画面" title="主机名处理完毕与维护的示意画面" width="560" border="1"><br>
		图 10.2-9、主机名处理完毕与维护的示意画面<br></center><br></li>

		<li><hr><span class="text_import1">5. 设定自动更新主机名与 IP 的对应</span><br><br>
		如果系统重新启动，或者是重新拨接取得一个新的 IP 后，我们都要登入 no-ip 网站来修改的话，
		那就太没有效率了！所以 no-ip 提供一个好用的客户端程序给系统管理员使用，你可以在 no-ip 官网右上方的『Download』
		处选择相关的档案。该网站目前提供给 Linux, Windows 与 MAC 等系统使用的程序，非常方便。
		我们当然是选择 Linux 那个项目啊！请自行下载并且将该程序移动到 Linux 系统上吧！
		整个安装与启用的流程式这样的：<br>

<table class="term"><tbody><tr><td class="term"><pre><span class="term_hd"># 1. 编译与安装：</span>
[root@www ~]# <span class="term_command">wget  \</span>
&gt; <span class="term_command">http://www.no-ip.com/client/linux/noip-duc-linux.tar.gz</span>
[root@www ~]# <span class="term_command">cd /usr/local/src</span>
[root@www src]# <span class="term_command">tar -zxvf /root/noip-duc-linux.tar.gz</span>

[root@www src]# <span class="term_command">cd noip-*</span>
<span class="term_say"># 注意一下，这个目录里面有个文件名为 README.FIRST 的档案，务必察看一下内容！</span>
[root@www noip]# <span class="term_command">make</span>
[root@www noip]# <span class="term_command">make install</span>
<span class="term_say"># 这样会将主程序安装在 /usr/local/bin/noip2 而主参数档放在
# /usr/local/etc/no-ip2.conf 当中！然后你必须要开始回答一些问题：</span>

Please select the Internet interface from this list.

By typing the number associated with it.
0       eth0
1       eth1
<span class="term_command">0</span>      <span class="term_note">&lt;==因为鸟哥的主机对外使用 eth0 接口</span>

Please enter the login/email string for no-ip.com  <span class="term_command">kiki@gmail.com</span>
Please enter the password for user 'kiki@gmail.com' <span class="term_command">***</span>
<span class="term_say"># 上面这两个是你刚刚注册时所填写的 email 与密码喔！</span>

Only one host [vbirdtsai.no-ip.org] is registered to this account.
It will be used.
Please enter an update interval:[30]
Do you wish to run something at successful update?[N] (y/N) <span class="term_command">n</span>

mv /tmp/no-ip2.conf /usr/local/etc/no-ip2.conf
<span class="term_say"># 重点在此！刚刚你做的配置文件被放到上面这个档案中了！</span>
</pre></td></tr></tbody></table>

		这样就将你的 no-ip 制作完毕，而且也可以开始来执行啰！执行的方法也是很简单啦！<br>

<table class="term"><tbody><tr><td class="term"><pre><span class="term_hd"># 2. noip2 的程序使用：</span>
[root@www ~]# <span class="term_command">/usr/local/bin/noip2</span>
<span class="term_say"># 不要怀疑！这样输入后，你在 no-ip 上面注册的主机名，
# 就开始可以自动的产生对应了！就这么简单！</span>

[root@www ~]# <span class="term_command">noip2 [-CS]</span>
<span class="term_say">选项与参数：
-C ：重新设定参数，亦即设定刚刚我们上面输入粗体字的咚咚！
     如果你有两个以上的 no-ip 主机名时，就一定需要使用 noip2 -C 
     来重新设定参数档案！
-S ：将目前的 noip2 的状况显示出来！</span>

[root@www ~]# <span class="term_command">noip2 -S</span>
1 noip2 process active.

Process 2496, started as /usr/local/src/noip-2.1.9-1/noip2, (version 2.1.9)
Using configuration from /usr/local/etc/no-ip2.conf
Last IP Address set 140.116.44.180
Account kiki@gmail.com
configured for:
        host  <span class="term_write">vbirdtsai.no-ip.org</span>
Updating every 30 minutes via /dev/eth0 with NAT enabled.
</pre></td></tr></tbody></table>

		嘿嘿！这样就成功了！而且每 30 分钟 noip2 可以自动的去主网站上面进行更新呢！真是很不错！那如果想要一开机就启动 
		noip2 呢？这样做即可：<br>

<table class="term"><tbody><tr><td class="term"><pre><span class="term_hd"># 3. 设定开机启动：</span>
[root@www ~]# <span class="term_command">vim /etc/rc.d/rc.local</span>
<span class="term_say"># 加入底下这一行：</span>
<span class="term_write">/usr/local/bin/noip2</span>
</pre></td></tr></tbody></table>
		</li></ul>
	</div>
</div>


<hr><a name="hint"></a><img src="../image/logo.png" alt="大标题的图示" width="35" align="middle" height="34"><span class="text_h1">10.3 重点回顾</span><br>
<div class="block1">
<ul class="text_import2">
	<li>主机名的目的在辅助人们记忆 TCP/IP 的 IP 数值；</li>
	<li>主机名与 IP 的对应，由早期的 /etc/hosts 变更为 DNS 系统来记录</li>
	<li>合法的主机名必须要透过合法授权后，才能够在 Internet 上面完整的生效</li>
	<li>除了静态的主机名与 IP 对应外，若是不固定 IP 的联机模式，可以透过动态 DNS 服务，来达成非固定 IP 
		永远指向同一个主机名的任务。</li>
</ul>
</div>


<hr><a name="ex"></a><img src="../image/logo.png" alt="大标题的图示" width="35" align="middle" height="34"><span class="text_h1">10.4 本章习题</span><br>
<div class="block1">
<ul>
	<li>请简易说明 /etc/hosts 的用途；
	<div class="blockex">
	这个档案是早期用在进行主机名与 IP 的解析的，目前比较常用在内部私有网域的名称解析上，可以加快内部网域的反查喔！
	</div></li>

	<li>请说明『合法授权』的主机名需要做什么？
	<div class="blockex">
	如果想要合法授权，就需要向上层 DNS 主机『注册』才行！而且还要上层 DNS 主机管理员愿意将领域名的解析权限授权给你啊！
	</div></li>

	<li>什么是动态 DNS 系统？(仅说明 client 端)
	<div class="blockex">
	因为我们的 Client 拨接时，得到的 IP 都不是固定的，所以无法以 DNS 系统进行固定 IP 对应主机名的工作！
	此时就需要动态 DNS 系统了！以 DNS 主机提供的动态更新主机名对应 IP 的机制，可以让我们的不同 IP 
	对应到同一个主机名吶！ 
	</div></li>

	<li>如果你使用 adsl 拨接来上网设定服务器，那么该申请哪一类型的主机名？为什么？
	<div class="blockex">
	因为我是以 ADSL 上网拨接，所以 IP 是不固定的，此时需要申请动态 DNS 主机的主机名，例如 no-ip.org 等等！
	</div></li>
</ul>
</div>


<hr><a name="reference"></a><img src="../image/logo.png" alt="大标题的图示" width="35" align="middle" height="34"><span class="text_h1">10.5 参考数据与延伸阅读</span><br>
<div class="block1">
<ul>
	<li>台湾网络信息中心：<a href="http://www.twnic.net/" target="_blank">http://www.twnic.net/</a></li>
	<li>国外的领域名系统：<a href="http://www.netsol.com/" target="_blank">http://www.netsol.com/</a></li>
	<li>国外的领域名系统：<a href="http://www.dotster.com/home/" target="_blank">http://www.dotster.com/</a></li>
	<li>国外的免费 DNS 系统：<a href="http://www.no-ip.com/" target="_blank">http://www.no-ip.com</a></li>
</ul>
</div>


<hr><span class="text_history">
2002/08/05：第一次完成日期！<br>
2003/08/26：修改篇名、增加一 <a href="#need_dynamic_noip">no-ip 的设定方式</a>！<br>
2006/09/15：将旧的文章移动到 <a href="http://linux.vbird.org/linux_server/0270dynamic_dns//0270dynamic_dns.php">此处</a>。<br>
2011/02/09：将基于 CentOS 4.x 所写的文章移动到 <a href="http://linux.vbird.org/linux_server/0270dynamic_dns//0270dynamic_dns-centos4.php">此处</a><br>
2011/02/15：由于 noip 网站页面有变更，作了一些图片的重新处理，其他则是大同小异。<br>
2011/07/23：将基于 CentOS 5.x 的版本移动到<a href="http://linux.vbird.org/linux_server/0270dynamic_dns//0270dynamic_dns-centos5.php">此处</a><hr>
</span>
    </td>
    <td style="width: 16px; font-size: 6px;">　</td></tr>
<tr><td style="width: 16px; height: 16px;">　</td>
    <td style="width: 866px; height: 16px;">　</td>
    <td style="width: 16px; height: 16px;">　</td></tr>
</tbody></table>

<div style="padding-top: 0px; text-align: center;">
<span style="font-size: 80%;">
	<a href="http://linux.vbird.org/" target="_top" title="前往鸟哥的首页">http://linux.vbird.org</a>
	is designed by <a href="mailto:vbird@mail.vbird.idv.tw" title="联络鸟哥(我不要广告信！)">VBird</a>
		during 2001-2011. <a href="http://www.ksu.edu.tw/" target="_blank">ksu.edu</a></span>
         ﻿<div id="apDiv4">
      <p>本网页主要以Firefox配合解析度 1024x768 作为设计依据&nbsp;&nbsp;&nbsp;&nbsp; 鸟哥自由软件整合应用研究室</p></div></div>
</div>
</center>
</body></html>
