<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-TW" lang="zh-TW"><head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf8">
	<meta name="Author" content="VBird, 鸟哥">
	<meta name="Description" content="主要说明局域网络架构，以及 Linux 服务器应该放置于何种角色的定位">
	<title>鸟哥的 Linux 私房菜 -- 局域网络架构简介</title>
    <script src="../script/SpryMenuBar.js" type="text/javascript"></script>
	<script src="../script/index.js" type="text/javascript"></script>
	<link href="../css/SpryMenuBarHorizontal.css" rel="stylesheet" type="text/css" />
    <link href="../css/main.css" rel="stylesheet" type="text/css" />
    </head><body style="margin: 0pt; padding: 0pt;" class="table"onload="MM_preloadImages('../index-2.html','../index-2.html','../index-2.html','../index-2.html','../index-2.html','../index-2.html','../index-2.html','../index-2.html')">

<center>
<div id="apDiv5">
<div> <LINK REL="SHORTCUT ICON" HREF="../index-2.html">
<!-- ImageReady Slices (title3.ai) -->
<table id="___01" width="898" height="81" border="0" align="center" cellpadding="0" cellspacing="0";>
	<tr>
		<td colspan="15">
			<img src="image/title/title_01.png" width="900" height="1" alt=""></td>
	</tr>
	<tr>
		<td rowspan="4" bgcolor="#182448"><p><img src="http://linux.vbird.org/cgi-bin/Count.cgi?dd=C&amp;ft=5&amp;sh=T&amp;md=8&amp;pad=Y&amp;df=vbird.dic.ksu.edu.tw.dat" width="93" align="left" title="計數器" /></p>
	    <p><font color="#FFFFFF" size="-1">since2012/04/23</font></p></td>
		<td rowspan="4" align="left" valign="top"><a href="../index.html"><img src="image/title/title_03.png" alt="" width="263" height="79" border="0"></a></td>
		<td colspan="13">
			<img src="image/title/title_04.png" alt="" width="535" height="9" border="0"></td>
	</tr>
	<tr>
		<td rowspan="3">
			<img src="image/title/title_05.png" alt="" width="53" height="70" border="0"></td>
		<td colspan="2" align="left" valign="top"><a href="../linux_basic/0110whatislinux.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image51','','image/title/title_06.png',1)"><img src="image/title/title3_06.png" name="Image51" width="106" height="25" border="0" id="Image51" alt=""/></a></td>
		<td rowspan="2">
			<img src="image/title/title_07.png" alt="" width="27" height="37" border="0"></td>
		<td colspan="3" align="left" valign="top"><a href="0110network_basic.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image52','','image/title/title_08.png',1)"><img src="image/title/title3_08.png" name="Image52" width="107" height="25" border="0" id="Image52" alt=""/></a></td>
		<td rowspan="2">
			<img src="image/title/title_09.png" alt="" width="37" height="37" border="0"></td>
		<td colspan="2" align="left" valign="top"><a href="../about.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image53','','image/title/title_10.png',1)"><img src="image/title/title3_10.png" name="Image53" width="75" height="25" border="0" id="Image53" alt=""/></a></td>
		<td rowspan="3">
			<img src="image/title/title_11.png" alt="" width="35" height="70" border="0"></td>
		<td align="left" valign="top"><a href="mailto:vbird@mail.vbird.idv.tw" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image54','','image/title/title_12.png',1)"><img src="image/title/title3_12.png" name="Image54" width="74" height="25" border="0" id="Image54" alt=""/></a></td>
		<td rowspan="3">
			<img src="image/title/title_13.png" alt="" width="21" height="70" border="0"></td>
	</tr>
	<tr>
		<td colspan="2">
			<img src="image/title/title_14.png" alt="" width="106" height="12" border="0"></td>
		<td colspan="3">
			<img src="image/title/title_15.png" alt="" width="107" height="12" border="0"></td>
		<td colspan="2">
			<img src="image/title/title_16.png" width="75" height="12" alt=""></td>
		<td rowspan="2">
			<img src="image/title/title_17.png" alt="" width="74" height="45" border="0"></td>
	</tr>
	<tr>
		<td>
			<img src="image/title/title_18.png" alt="" width="15" height="33" border="0"></td>
		<td colspan="3" align="left" valign="top"><ul id="MenuBar1" class="MenuBarHorizontal">
	  <li><a href="../linux_basic/linux_basic.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image44','','image/title/title_19.png',1)"><img src="image/title/title3_19.png" name="Image44" width="123" height="33" border="0" id="Image44" /></a>
			    <ul>
			      <li><a href="../linux_basic/Mandrake9.0/mandrake9.0.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image46','','image/title/title_26.png',1)"><img src="image/title/title_23.png" name="Image46" width="120" height="26" border="0" id="Image46" alt="" /></a></li>
                  <li><a href="../linux_basic/fedora_4/fc4.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image47','','image/title/title_27.png',1)"><img src="image/title/title_24.png" name="Image47" width="120" height="26" border="0" id="Image47" alt="" /></a></li>
                  <li><a href="../linux_basic/linux_basic.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image48','','image/title/title_28.png',1)"><img src="image/title/title_25.png" name="Image48" width="120" height="26" border="0" id="Image48" alt="" /></a></li>
                </ul>
		      </li>
		</ul></td>
		<td>
			<img src="image/title/title_20.png" alt="" width="42" height="33" border="0"></td>
		<td colspan="3" align="left" valign="top"><ul id="MenuBar2" class="MenuBarHorizontal">
	  <li><a href="index.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image45','','image/title/title_21.png',1)"><img src="image/title/title3_21.png" name="Image45" width="125" height="33" border="0" id="Image45" /></a>
			    <ul>
			      <li><a href="linux_redhat9/redhat9.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image43','','image/title/title_26.png',1)"><img src="image/title/title_23.png" name="Image43" width="120" height="26" border="0" id="Image43" alt=""/></a></li>
			      <li><a href="centos4.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image49','','image/title/title_27.png',1)"><img src="image/title/title_24.png" name="Image49" width="120" height="26" border="0" id="Image49" alt="" /></a></li>
			      <li><a href="index.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image50','','image/title/title_28.png',1)"><img src="image/title/title_25.png" name="Image50" width="120" height="26" border="0" id="Image50" alt="" /></a></li>
		        </ul>
		      </li>
		</ul></td>
		<td>
			<img src="image/title/title_22.png" alt="" width="47" height="33" border="0"></td>
	</tr>
	<tr>
		<td>
			<img src="image/title/Spacer.gif" width="101" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="263" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="53" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="15" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="91" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="27" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="5" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="42" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="60" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="37" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="28" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="47" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="35" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="74" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="22" height="1" alt=""></td>
	</tr>
</table>
<!-- End ImageReady Slices -->
<script type="text/javascript">
<!--
var MenuBar1 = new Spry.Widget.MenuBar("MenuBar1", {imgDown:"SpryAssets/SpryMenuBarDownHover.gif", imgRight:"SpryAssets/SpryMenuBarRightHover.gif"});
var MenuBar2 = new Spry.Widget.MenuBar("MenuBar2", {imgDown:"SpryAssets/SpryMenuBarDownHover.gif", imgRight:"SpryAssets/SpryMenuBarRightHover.gif"});
//-->
</script>
</div>
<table summary="本文内容的排版" style="width: 898px;" border="0" cellpadding="0" cellspacing="0">
<tbody><tr><td style="width: 16px; height: 16px;">　</td>
    <td style="width: 866px; height: 16px;">　</td>
    <td style="width: 16px; height: 16px;">　</td></tr>
<tr><td style="width: 16px; font-size: 6px;">　</td>
    <td width="866">

<!-- 本文的档头部分 -->
<div style="text-align:center">
    <a href="http://linux.vbird.org/linux_server/0120intranet.php">
    <span class="text_head0">第三章、局域网络架构简介</span></a><br>
</div>
    <div style="text-align:right">
        <span class="text_history">最近更新日期：2011/07/15</span>
    </div>
<!-- 本文的连结区部分 -->
<div class="block1">
<span class="text_h1">
3.2 <a href="#protocol">本书使用的内部联机网络参数与通讯协议</a><br>
	<span class="text_h2">
	　　3.2.1 <a href="#protocol_parameter">联机参数与通讯协议</a><br>
	　　3.2.2 <a href="#protocol_win">Windows 个人计算机网络设定范例</a><br>
	</span>
</span></div>
<!-- 本文的正式部分 -->
<hr><a name="protocol"></a><img src="../image/logo.png" alt="大标题的图示" width="35" align="middle" height="34"><span class="text_h1">3.2 本书使用的内部联机网络参数与通讯协议</span><br>
<div class="block1">
	<p>除非你已经具有相当熟练的 Linux 系统与服务器架设维护经验，否则不建议你使用上面<a href="#fig3.1-4">图 3.1-4</a>
	所介绍的联机模式，对于初接触 Linux 服务器架设与维护的朋友来说，将你的联机模式设定成<a href="#fig3.1-3">图 3.1-3</a>
	应该是个不错的选择，除了可以让你简单的就将服务器架设成功之外，也可以让你以 Linux 做为内部 LAN 的防火墙管理中心，
	对于未来的学习成长方面较有帮助啊！ ^_^<br><br></p>

	<hr><a name="protocol_parameter"></a><img src="../image/logo.png" alt="小标题的图示" width="24" align="middle" height="23"><span class="text_h2">3.2.1 联机参数与通讯协议</span><br>
	<div class="block2">
		<p>为使你的服务器学习之旅较有连贯性，因此鸟哥将后续章节会使用到的区网环境以<a href="#fig3.1-3">图 3.1-3</a>为范本，
		设计一个区网，包括相关的网络参数如下所示：</p>

		<a name="fig3.2-1"></a>
		<center><img src="0120intranet_files/connect_vbird.gif" alt="本书所使用的区网环境与参数设定" title="本书所使用的区网环境与参数设定" border="0"><br>
		图 3.2-1、本书所使用的区网环境与参数设定<br></center>

		<p>在上图的环境下，我们主要介绍的是 www.centos.vbird 那部 Linux 主机，该主机必须要具有 router
		的能力，所以当然必须就要有两个接口，一个接口与 Internet 沟通，另一个接口则与内部的 LAN 沟通。那么为什么鸟哥说的是『<span class="text_import2">两个网络接口</span>』而不是『<span class="text_import2">两张网络卡</span>』呢？原因很简单，
		<span class="text_import2">因为一张网络卡可以设定多个 IP</span> 啊！因此，在 
		Linux 当中一张网络卡可以具有一个以上的 IP 呢！由于一个 IP 
		即为一个网络接口，因此只要两个网络接口 (不论有几张网络卡) 即可进行 NAT (类似 IP 分享器功能)
		的设定啦！所以自然一个网络卡即可啰！不过，鸟哥个人还是比较喜欢并且建议两张网络卡的啦，
		将内外网络环境完整的分开，让你的内部网络效能较佳一点！</p>

		<p>关于与 Internet 的联机方面，就如第二章谈到的，目前在台湾最常见的有 ADSL, Cable Modem, 学术网络的固定 IP 等，
		这些联机的方式我们将在后续章节继续介绍的。至于内部的 LAN 我们则建议使用 Private IP 来设定喔！
		鸟哥通常喜欢使用 192.168.1.0/24 及 192.168.100.0/24 这几个 Class C 的网域，没什么特殊原因，只是因为....我喜欢！ ^_^
		在选定了 Private IP 的网段后，你必须要有『<span class="text_import2">IP, Network, Netmask,
		Broadcast, Default gateway 以及 DNS 服务器的 IP</span>』等等的设定值。
		假设我 Linux 主机的对内 IP 为 192.168.100.254 ，则在<a href="#fig3.2-1">图 3.2-1</a> 内的 LAN 内的 PC 
		之网络相关设定参数则为：</p>

		<ul class="text_import2">
		<li>IP:设定为 192.168.100.1~192.168.100.253 ，但 IP 不可重复；</li>
		<li>Netmask：255.255.255.0</li>
		<li>Network：192.168.100.0、Broadcast：192.168.100.255</li>
		<li>Default Gateway：192.168.100.254 (路由器的 IP)</li>
		<li>DNS：暂时使用 168.95.1.1</li>
		</ul>

		<div style="padding: 10pt 0pt 10pt 0pt ;" align="right"><table width="90%"><tbody><tr><td><b>Tips:</b><br><span style="color : #009000"><font size="-1">		你能有如上图 3.2-1 这么多的计算机来测试你的服务器环境吗？当然不可能！那如何达成上述的功能呢？透过虚拟化技术啊！
		鸟哥是以 virtualbox 这套软件来处理整个局域网络所有主机的安装与测试，主要虚拟出来的机器有 www.centos.vbird, 
		clientlinux, winxp, win7 这四部，要注意的是，www.centos.vbird 有两张网卡，一张为对外联机的使用 bridge 模式，
		一张与其他三部主机联机的请选择『intnet』，这样就能搞定你的区网环境与实验喔！
		</font></span></td><td><img src="0120intranet_files/vbird_face.gif" alt="鸟哥的图示" title="鸟哥的图示"></td></tr></tbody></table></div>
		<ul class="list1"><li class="text_import1"><hr>安装什么通讯协议</li></ul>

		<p>目前网络社会最通用的通讯协议就是 TCP/IP 了！因此你如果要连上 Internet ，你的系统就得要支持 TCP/IP 才行。
		但在局域网络内部时，事实上还可以透过简单的通讯协议来达到数据传输的目的，例如
		<span class="text_import2">NetBEUI</span> 就是一个常见的简易通讯协议。</p>

		<p>在 Linux 系统当中，只要将网络参数设定妥当，那么 TCP/IP 
		就已经被启用了，所以你不需要额外的再安装其他的通讯协议。不过，如果你需要将你的
		Linux 系统中的硬盘空间分享给同网域的 Windows PC 时，那么就需要额外的加装
		<a href="http://linux.vbird.org/linux_server/0370samba.php">SAMBA</a>
		这个服务器软件才行。相关的 SAMBA 数据我们会在后面的章节提及。反正不管怎么说，目前
		Internet 就是经由 TCP/IP 来进行连接的，而 Linux 本身就支持了 
		TCP/IP ，所以不需要额外的安装有的没的说！</p>

		<p>至于在 Windows 部分就比较麻烦一点，因为在较大型的企业当中，还需要额外的考虑到
		Windows Server 所提供的服务，那么在 Windows Clients 端就得要相应的启动某些通讯协议才行。一般来说，在
		Windows Client 系统里面，最常见的两个通讯协议就是 TCP/IP 以及 NetBEUI 这两个通讯协议了。如果你只想让
		Windows 与 Linux 能够藉由网络上的芳邻互通有无，那么启动 TCP/IP 也就够了
		( 因为 SAMBA 是藉由 NetBIOS over TCP/IP 来达成数据传输的 ) ，不过，也可以同时启动
		NetBEUI 这个通讯协议就是了。</p>
	</div>

	<hr><a name="protocol_win"></a><img src="../image/logo.png" alt="小标题的图示" width="24" align="middle" height="23"><span class="text_h2">3.2.2 Windows 个人计算机网络设定范例</span><br>
	<div class="block2">
		<p>我们这本书谈论的是以 Linux 主机提供的服务器为主，所以关于 LAN 里面的 Windows 我都将他假设为 
		Client，并且不提供网络服务，所以都先以固定的 Private IP 来设定 Windows 操作系统，如果你的 LAN 
		有其他的考虑，那么底下的设定就看看就好。</p>

		<p>我们在 Windows 系统上所需要的网络参数除了 <span class="text_import2">IP,
		netmask, DNS</span> 之外，还需要『<span class="text_import2">工作组, workgroup</span>』与
		『<span class="text_import2">计算机名称, Netbios name</span>』等等的设定，此外，我们也可以加上 LAN 里面很常见的
		NetBIOS (NetBEUI) 这个通讯协议吶。因此，除非你确定你的网域内还有其他的工作站，
		否则『<span class="text_import2">请只要安装 TCP/IP 以及 NetBEUI 这两个协议就好了</span>！』
		安装太多反而会有问题呢！底下我们假设你的网络卡都安装好了，并以图 3.2-1 里面那部内部区网的 winxp 主机为例来介绍：</p>

		<ul style="padding-left: 20px">
		<li><span class="text_import2">与网络有关的设定参数：</span><br><br>
		<ul>
			<li>IP: 192.168.100.20</li>
			<li>Netmask: 255.255.255.0</li>
			<li>DNS: 168.95.1.1</li>
			<li>Gateway: 192.168.100.254</li>
			<li>工作组： vbirdhouse</li>
			<li>计算机名称： winxp</li>
		</ul><br></li>

		<li><span class="text_import2">详细的设定流程：</span><br><br>
		<ol style="padding-left: 20px">

		<li>先到『<span class="text_import2">开始</span>』==&gt;
			『<span class="text_import2">设定</span>』==&gt;
			『<span class="text_import2">控制台</span>』==&gt;
			『<span class="text_import2">网络联机</span>』==&gt;
			选择『<span class="text_import2">区域联机</span>』该项后，会出现如下图示：<br><br>

			<center><img src="0120intranet_files/winxp_net_01.gif" alt="区域联机状态" title="区域联机状态" border="1"><br>图 3.2-2、区域联机状态<br></center><br></li>

		<li>上面画面当中选择『<span class="text_import2">内容</span>』进入如下的设定画面中：<br><br>

			<center><img src="0120intranet_files/winxp_net_02.gif" alt="区域联机内容" title="区域联机内容" border="1"><br>图 3.2-3、区域联机内容<br></center><br></li>

		<li>接下来，在上图中选择『<span class="text_import2">联机后，将图标显示在通知区域内</span>』，
			并且双击『<span class="text_import2">Internet Protocol (TCP/IP)</span>』项目，就会出现下图。
			在下图中填上我们需要的各项 IP 参数，然后再按下确定就设定好啰！<br><br>

			<center><img src="0120intranet_files/winxp_net_03.gif" alt="TCP/IP" title="TCP/IP" border="1"><br>图 3.2-4、区域联机 TCP/IP 设定内容<br></center><br></li>

		<li>再来需要编辑你的网络识别喔！选择『<span class="text_import2">开始</span>』==&gt;
			『<span class="text_import2">控制台</span>』==&gt;
			双击『<span class="text_import2">系统</span>』之后出现的图标，再按下『变更』来修改工作组与计算机名称！
			输入正确之后，只要重新启动，那么就可以使用局域网络啰！<br><br>

			<center><img src="0120intranet_files/winxp_net_04.gif" alt="网络识别" title="网络识别" border="1"><br>图 3.2-5、区域联机计算机名称与工作组设定内容<br></center><br></li>
		</ol></li>
		</ul>

		<p>基本上， Windows 的网络参数设定是相当的简单的！鸟哥这里仅介绍修改 IP 与相关网络参数的方式而已。
		未来如果还需要搭配 DHCP 主机、NAT 主机等等服务器的设定时，会再次的提醒用户 Windows 的设定信息喔！尤其是
		SAMBA 主机的设定中， Windows 的网络识别就显的相当的重要呢！</p>
	</div>
</div><hr />
    </td>
    <td style="width: 16px; font-size: 6px;">　</td></tr>
<tr><td style="width: 16px; height: 16px;">　</td>
    <td style="width: 866px; height: 16px;">　</td>
    <td style="width: 16px; height: 16px;">　</td></tr>
</tbody></table>

<div style="padding-top: 0px; text-align: center;">
<span style="font-size: 80%;">
	<a href="http://linux.vbird.org/" target="_top" title="前往鸟哥的首页">http://linux.vbird.org</a>
	is designed by <a href="mailto:vbird@mail.vbird.idv.tw" title="联络鸟哥(我不要广告信！)">VBird</a>
		during 2001-2011. <a href="http://www.ksu.edu.tw/" target="_blank">ksu.edu</a></span>
         ﻿<div id="apDiv4">
      <p>本网页主要以Firefox配合解析度 1024x768 作为设计依据&nbsp;&nbsp;&nbsp;&nbsp; 鸟哥自由软件整合应用研究室</p></div></div>
</div>
</center>
</body></html>
