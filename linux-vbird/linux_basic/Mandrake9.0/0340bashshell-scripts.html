<!DOCTYPE HTML PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html><head>


   <meta http-equiv="Content-Type" content="text/html; charset=utf8">
   <meta name="Author" content="VBird">
   <title>鸟哥的 Linux 私房菜 -- 学习 Shell Scripts</title>
    <script src="../../script/SpryMenuBar.js" type="text/javascript"></script>
	<script src="../../script/index.js" type="text/javascript"></script>
	<link href="../../css/SpryMenuBarHorizontal.css" rel="stylesheet" type="text/css" />
    <link href="../../css/main.css" rel="stylesheet" type="text/css" />

</head><body style="margin: 0pt; padding: 0pt;" class="table"onload="MM_preloadImages('../../index-2.html','../../index-2.html','../../index-2.html','../../index-2.html','../../index-2.html','../../index-2.html','../../index-2.html','../../index-2.html')">

<center>
<div id="apDiv5" align="left">
<div> <LINK REL="SHORTCUT ICON" HREF="../../index-2.html">
<!-- ImageReady Slices (title3.ai) -->
<table id="___01" width="898" height="81" border="0" align="center" cellpadding="0" cellspacing="0";>
	<tr>
		<td colspan="15">
			<img src="image/title/title_01.png" width="900" height="1" alt=""></td>
	</tr>
	<tr>
		<td rowspan="4" bgcolor="#182448"><p><img src="http://linux.vbird.org/cgi-bin/Count.cgi?dd=C&amp;ft=5&amp;sh=T&amp;md=8&amp;pad=Y&amp;df=vbird.dic.ksu.edu.tw.dat" width="93" align="left" title="計數器" /></p>
	    <p><font color="#FFFFFF" size="-1">since2012/04/23</font></p></td>
		<td rowspan="4" align="left" valign="top"><a href="../../index.html"><img src="image/title/title_03.png" alt="" width="263" height="79" border="0"></a></td>
		<td colspan="13">
			<img src="image/title/title_04.png" alt="" width="535" height="9" border="0"></td>
	</tr>
	<tr>
		<td rowspan="3">
			<img src="image/title/title_05.png" alt="" width="53" height="70" border="0"></td>
		<td colspan="2" align="left" valign="top"><a href="../0110whatislinux.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image51','','image/title/title_06.png',1)"><img src="image/title/title3_06.png" name="Image51" width="106" height="25" border="0" id="Image51" alt=""/></a></td>
		<td rowspan="2">
			<img src="image/title/title_07.png" alt="" width="27" height="37" border="0"></td>
		<td colspan="3" align="left" valign="top"><a href="../../linux_server/0110network_basic.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image52','','image/title/title_08.png',1)"><img src="image/title/title3_08.png" name="Image52" width="107" height="25" border="0" id="Image52" alt=""/></a></td>
		<td rowspan="2">
			<img src="image/title/title_09.png" alt="" width="37" height="37" border="0"></td>
		<td colspan="2" align="left" valign="top"><a href="../../about.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image53','','image/title/title_10.png',1)"><img src="image/title/title3_10.png" name="Image53" width="75" height="25" border="0" id="Image53" alt=""/></a></td>
		<td rowspan="3">
			<img src="image/title/title_11.png" alt="" width="35" height="70" border="0"></td>
		<td align="left" valign="top"><a href="mailto:vbird@mail.vbird.idv.tw" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image54','','image/title/title_12.png',1)"><img src="image/title/title3_12.png" name="Image54" width="74" height="25" border="0" id="Image54" alt=""/></a></td>
		<td rowspan="3">
			<img src="image/title/title_13.png" alt="" width="21" height="70" border="0"></td>
	</tr>
	<tr>
		<td colspan="2">
			<img src="image/title/title_14.png" alt="" width="106" height="12" border="0"></td>
		<td colspan="3">
			<img src="image/title/title_15.png" alt="" width="107" height="12" border="0"></td>
		<td colspan="2">
			<img src="image/title/title_16.png" width="75" height="12" alt=""></td>
		<td rowspan="2">
			<img src="image/title/title_17.png" alt="" width="74" height="45" border="0"></td>
	</tr>
	<tr>
		<td>
			<img src="image/title/title_18.png" alt="" width="15" height="33" border="0"></td>
		<td colspan="3" align="left" valign="top"><ul id="MenuBar1" class="MenuBarHorizontal">
	  <li><a href="../linux_basic.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image44','','image/title/title_19.png',1)"><img src="image/title/title3_19.png" name="Image44" width="123" height="33" border="0" id="Image44" /></a>
			    <ul>
			      <li><a href="mandrake9.0.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image46','','image/title/title_26.png',1)"><img src="image/title/title_23.png" name="Image46" width="120" height="26" border="0" id="Image46" alt="" /></a></li>
                  <li><a href="../fedora_4/fc4.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image47','','image/title/title_27.png',1)"><img src="image/title/title_24.png" name="Image47" width="120" height="26" border="0" id="Image47" alt="" /></a></li>
                  <li><a href="../linux_basic.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image48','','image/title/title_28.png',1)"><img src="image/title/title_25.png" name="Image48" width="120" height="26" border="0" id="Image48" alt="" /></a></li>
                </ul>
		      </li>
		</ul></td>
		<td>
			<img src="image/title/title_20.png" alt="" width="42" height="33" border="0"></td>
		<td colspan="3" align="left" valign="top"><ul id="MenuBar2" class="MenuBarHorizontal">
	  <li><a href="../../linux_server/index.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image45','','image/title/title_21.png',1)"><img src="image/title/title3_21.png" name="Image45" width="125" height="33" border="0" id="Image45" /></a>
			    <ul>
			      <li><a href="../../linux_server/linux_redhat9/redhat9.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image43','','image/title/title_26.png',1)"><img src="image/title/title_23.png" name="Image43" width="120" height="26" border="0" id="Image43" alt=""/></a></li>
			      <li><a href="../../linux_server/centos4.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image49','','image/title/title_27.png',1)"><img src="image/title/title_24.png" name="Image49" width="120" height="26" border="0" id="Image49" alt="" /></a></li>
			      <li><a href="../../linux_server/index.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image50','','image/title/title_28.png',1)"><img src="image/title/title_25.png" name="Image50" width="120" height="26" border="0" id="Image50" alt="" /></a></li>
		        </ul>
		      </li>
		</ul></td>
		<td>
			<img src="image/title/title_22.png" alt="" width="47" height="33" border="0"></td>
	</tr>
	<tr>
		<td>
			<img src="image/title/Spacer.gif" width="101" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="263" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="53" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="15" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="91" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="27" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="5" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="42" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="60" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="37" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="28" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="47" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="35" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="74" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="22" height="1" alt=""></td>
	</tr>
</table>
<!-- End ImageReady Slices -->
<script type="text/javascript">
<!--
var MenuBar1 = new Spry.Widget.MenuBar("MenuBar1", {imgDown:"SpryAssets/SpryMenuBarDownHover.gif", imgRight:"SpryAssets/SpryMenuBarRightHover.gif"});
var MenuBar2 = new Spry.Widget.MenuBar("MenuBar2", {imgDown:"SpryAssets/SpryMenuBarDownHover.gif", imgRight:"SpryAssets/SpryMenuBarRightHover.gif"});
//-->
</script>
</div>
<div align="center"><font color="#3333ff"><font size="+2"><a href="http://linux.vbird.org/linux_basic/0340bashshell-scripts/0340bashshell-scripts.php" target="_self"><font face="标楷体">学习</font><font face="Times New Roman,Times">
shell scripts</font></a></font></font><br>
本文以不再维护，新文章请参阅 <a href="http://linux.vbird.org/linux_basic/0340bashshell-scripts.php">此处</a>
</div>
<div align="right"><font face="新细明体"><font color="#3333ff"><font size="-1">最近更新日期：2002/06/27</font></font></font></div>
<font color="#000099"><font size="+1"><a href="#scripts_why">干嘛学习 Scripts</a></font></font>
<br><font color="#000099"><font size="+1"><a href="#first_scripts">scripts
的执行与第一支 scripts</a>：</font></font>
<br><font color="#000099"><font size="+1"><a href="#declare">卷标与运算符号</a>：</font><a href="#declare2">declare</a></font>
<br><font color="#000099"><font size="+1"><a href="#read1">对谈式 scripts</a>
： </font><a href="#read">read</a></font>
<br><font color="#000099"><font size="+1"><a href="#scripts_logical">scripts
逻辑判断式与表达式</a>：</font></font>
<br><font color="#000099"><font size="+1"><a href="#rulesss">条件式判断</a>：</font><a href="#ifthen">if...then...fi</a>,
<a href="#case">case.....esac</a></font>
<br><font color="#000099"><font size="+1"><a href="#cycle">循环</a>：</font>for....do....done,
while...do...done, until...do...done,</font>
<br><font color="#000099"><font size="+1"><a href="#debug">script 如何 debug
</a></font>：</font>
<br><font color="#000099"><font size="+1"><a href="#FAQ">本章习题练习</a></font></font>
<br>
<hr width="100%"><a name="scripts_why"></a><font color="#000099"><font size="+1">干嘛学习
Scripts</font></font>
<blockquote>这个问题可有趣的很了，我为什么要学习 scripts 呢？不要学可不可以呀！？呵呵！如果您只想要『<font color="#000066">会用</font>』
Linux 就好的话，那么这一个部分确实可以先跳过去不看也没关系，不过，如果您想要更加的了解与控制
Linux ，使 Linux 运作更顺畅之外，还可以高枕无忧的让你的 Linux Server 在
Internet 上面提供相关服务的话，那么 scripts 还是多少学一学吧！为什么呢？因为
scripts 可以设计到『<font color="#000099">很聪明的知道什么条件之下需要进行什么动作</font>！』不要小看这个功能呦！当您不在计算机前面的时候，突然之间，主机被一些不明封包试图入侵了，这个时候如果你的
Linux 主机可以透过『当该封包尝试几次还是联机失败之后，就予以抵挡住该 IP
』，如果可以设计到如此功能的话，呵呵！那么可就不得了了！您的 Linux 主机就可以说是『好聪明呀！
smart!』
<p>除了针对主机之外，其实 scripts 还有相当多的运用功能呦！例如您想要在
Linux 上面作你的作业，而这个作业是一些数值方面的计算，这个时候 Scripts
也可以帮您计算呦！还不需要用到 fortran, c 这类高阶的程序语言呢！ scripts
本身就是一个可以用的 program 啰！相当的棒吧！其实， scripts 最开始被新手使用的功能就是『<font color="#000099">汇整一些在
command line 下达的连续指令，将他写入 scripts 当中，而由直接执行 scripts
来启动一连串的 command line 指令输出入！</font>』例如： 防火墙连续规则
( iptables )，开机加载程序的项目 ( 就是在 /etc/rc.d/rc.local 里头的资料
) ，等等都是相似的功能啦！ 其实，说穿了，如果不考虑 program 的部分，那么
scripts 也可以想成，仅是帮我们把一大串的指令汇整在一个档案里面，而直接执行该档案就可以执行那一串又臭又长的指令段！就是这么简单啦！
</p><p>另外的另外，在编写 scripts 时，在 Linux 当中，最常使用的就是 vi 这一套文书编辑器了，所以啰，为了更简易的控管我们的
Linux ，嗯！还是学习一下好了啦！好不好呀！ ^_^</p></blockquote>

<hr width="100%"><a name="first_scripts"></a><font color="#000099"><font size="+1">scripts
的执行与第一支 scripts</font></font>
<ul>
<li>
<b><font color="#000099">scripts 的执行：</font></b></li>
</ul>

<blockquote>嗯！在上一章 <a href="http://linux.vbird.org/linux_basic/0320bash.php">bash shell</a> 当中说了一堆变数啦！管线指令啦！等等的，都是为了接着而来的
scripts 的咚咚啦！什么是 script 啊？由字面上的意思来说， script 就是『脚本、剧本』的意思，那够清楚了吧！就是将我们要执行的内容写成一个『脚本』，让系统依据这个『脚本』来执行我们想要的东西！好了！现在我们来讨论一下怎么写
scripts 好了！基本上，一个 script 被执行的时候， bash 会据以判断执行的步骤为：
<ol>
<li>
<font color="#000066">如果读取到一个 Enter 符号（ CR ），就尝试开始执行该行命令；</font></li>

<li>
<font color="#000066">如同前面 bash command 提到的，指令间的多个空白会被忽略掉；</font></li>

<li>
<font color="#000066">而空白行也将被忽略掉！，并且 tab 也是不会被理会的！</font></li>

<li>
<font color="#000066">至于如果一行的内容太多，则可以使用 \ 来延伸至下一行；</font></li>

<li>
<font color="#000066">此外，使用最多的 # 可做为批注！任何加在 # 后面的字，将全部被视为批注文字而被忽略！</font></li>
</ol>
<font color="#000000">然后，在撰写一个 scripts 的时候，最好养成良好的习惯：</font>
<ol>
<li>
<font color="#000099">先宣告使用的 shell 为何？（特别留意这一点，在某些状况中，例如
/etc/crontab 情况下，如果没有宣告使用的 shell ，常常会出现错误讯息而导致
scripts 无法被执行呦！）</font></li>

<li>
<font color="#000099">注明该 script 的内容功能、版本信息、作者、建文件日期等等</font></li>

<li>
<font color="#000099">每一个大步骤的主要功能（也顺便提供自己未来修改之用！）</font></li>
</ol>
<font color="#000000">那么 scripts 这个档案要如何来执行呢？执行的方法有两种：</font>
<ul>
<li>
<font color="#000099">一个是将该档案改成可以执行的属性，如<font face="细明体"><a href="http://linux.vbird.org/linux_basic/0220filemanager.php#chmod">chmod</a>
755 scripts.file </font>，然后执行该档案；</font></li>

<li>
<font color="#000099">另一种则是直接以 sh 这个执行档来执行 script 的内容，如<font face="细明体">
sh scripts.file</font>！</font></li>
</ul>
<font color="#000000">大致上就是这样啦！OK！那么还记得我们在前面一章已经说过了变量的设定方式了吧？好了，那么我们就以第一支
scripts 来将我们设定的变量直接给他 show 出来！嗯！来设计一下这支 script
吧！</font></blockquote>

<ul>
<li>
<b><font color="#000099">建立你的第一支 script：</font></b></li>
</ul>

<blockquote><font color="#000000">好了，我们来建立第一支简单的 script 吧！最简单的一个例子，就是在屏幕上列出『
</font><b><font color="#000099">Hello
! How are you ?</font></b><font color="#000000">』，可以这样写：（注：最常使用来作为
shell scripts 的写作的软件，就是 <a href="http://linux.vbird.org/linux_basic/0310vi.php">vi </a>啦！有空真的要多熟悉一下
vi 呦！）</font>
<br>&nbsp;
<table width="700" bgcolor="#000000" border="1" cols="1">
<tbody><tr>
<td><font face="细明体"><font size="-1"><font color="#ffffff">[root @test
/root]# </font><font color="#ffff00">mkdir test; cd test</font><font color="#ffffff">&nbsp;</font><font color="#ff9900">
&lt;==建立一个新的目录，所有的 scripts 都暂存在此！</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">[root @test
test]# </font><font color="#ffff00">vi test01-hello.sh</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">#!/bin/bash&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#ff9900">
&lt;==在 # 之后加上 ! 与 shell 的名称，用来宣告使用的 shell</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># 这个脚本的用途在于列出
Hello ! How are you 在屏幕上</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># 建檔日期：
2002/05/20</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># Made by VBird</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">hello=Hello\
\!\ How\ are\ you\ \?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </font><font color="#ff9900">&lt;==这就是变量啦！</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">echo $hello</font></font></font>
<p><font face="细明体"><font size="-1"><font color="#ffffff">[root @test
test]# </font><font color="#ffff00">sh test01-hello.sh</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">Hello ! How
are you ?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</font><font color="#ff9900">&lt;=输出的结果显示在屏幕上！</font></font></font></p></td>
</tr>
</tbody></table>

<p>这里给他注意一下：
</p><ul>
<li>
<font color="#000099">所有在 scripts 里面的东西，基本规则 ( 如变量设定规则
) 需要与 command line 时相同；</font></li>

<li>
<font color="#000099">scripts 的附档名最好为 .sh 提供他人的认识；</font></li>

<li>
<font color="#000099">并非加上 .sh 就可以是执行档，还需要查看其属性中是否有
x 这个属性。</font></li>
</ul>
呵呵！很兴奋吧！你已经会写 scripts 了呦！已经具有初阶的程序设计能力啰！嗯！是该觉得高兴的！^_^...！好了，接着下来我们写稍微复杂一点的，若一个
script 里头有两个以上的变数要相互引用呢？呵呵！这个时候顺便来比较一下 "
与 ' 的异同吧！
<br>&nbsp;
<table width="700" bgcolor="#000000" border="1" cols="1">
<tbody><tr>
<td><font face="细明体"><font size="-1"><font color="#ffffff">[root @test
test]# </font><font color="#ffff00">vi test02-2var.sh</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">#!/bin/bash&nbsp;</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># 这个脚本用途在于引用两个变量，顺便比较一下
" 与 ' 的异同</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># Date: 2002/06/27</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># Made by VBird</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">name="V.Bird"</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">myname1="My
name is $name"</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">myname2='My
name is $name'</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">echo $name</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">echo $myname1</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">echo $myname2</font></font></font>
<p><font face="细明体"><font size="-1"><font color="#ffffff">[root @test
test]#</font><font color="#ffff00"> sh test02-2var.sh</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">V.Bird</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">My name is
V.Bird</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">My name is
$name</font></font></font></p></td>
</tr>
</tbody></table>

<p>看到输出的结果了吧！呵呵！没错！那个 " 与 ' 最大的不同就是在于能不能保有『变量内容』啦！再提醒一次，那个单引号『
' 』里头的数据都将变成『<b>单纯的字符</b>』而不是有特殊的字体呦！</p></blockquote>

<hr width="100%"><a name="declare"></a><font color="#000099"><font size="+1">卷标与运算符号：</font>declare</font>
<ul><font color="#000000">OK！了解了变量的 scripts 写法之后，现在我们来进行一个有趣的实验好了！就是说，当我们在进行『</font><b><font color="#000099">计算</font></b><font color="#000000">』的时候，到底
bash 能不能了解我们所给予的是『<b>数字</b>』还是单纯的『<b>字符</b>』呢？这个很重要的，因为会造成系统的误判呦！好了，我们来试试看！当我们需要输出
3 * 5 的结果时，需要如何做呢？用单纯的 command line 一行一行输入的结果如下：</font>
<br>&nbsp;
<table width="700" bgcolor="#000000" border="1" cols="1">
<tbody><tr>
<td><font face="细明体"><font size="-1"><font color="#ffffff">[root @test
test]# </font><font color="#ffff00">a=3</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">[root @test
test]# </font><font color="#ffff00">b=5</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">[root @test
test]# </font><font color="#ffff00">c=$a*$b</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">[root @test
test]# </font><font color="#ffff00">echo $c</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">3*5&nbsp; </font><font color="#ff9900">&lt;==糟糕！怎么变成了字符串了？！</font></font></font></td>
</tr>
</tbody></table>

<p><font color="#000000">发现了吗？嘿嘿！上面输出的是不是我们所希望的 3*5
= 15 的结果？嗯！这是因为我们没有</font><b><font color="#000099">定义该变量</font></b><font color="#000000">，则该变量默认是呈现『</font><b><font color="#000099">字符串</font></b><font color="#000000">』的型态！那么自然
$c 就成为自串型态了！所以我们需要来</font><b><font color="#000066">宣告一下变量</font></b><font color="#000000">（嘿嘿！跟程序语言很相近吧！也是需要宣告变量的啦！），宣告变量使用的是
</font><b><font color="#3333ff">declare</font></b><font color="#000000">
这个指令，而变量名称有底下这些啰！</font></p></ul>

<blockquote>
<ul>
<hr width="100%">
<li>
<a name="declare2"></a><b><font face="细明体"><font color="#000099">declare</font></font></b></li>

<br><b><font face="细明体"><font color="#000099">宣告变量内容</font></font></b>
<br><font color="#ff0000">语法</font>：
<table width="500" bgcolor="#000000" border="1" cols="1">
<tbody><tr>
<td><font face="细明体"><font size="-1"><font color="#ffffff">[test @test
test]# </font><font color="#ffff00">declare [-afirx]</font></font></font>
<br><font face="细明体"><font color="#ffffcc"><font size="-1">参数说明：</font></font></font>
<br><font face="细明体"><font color="#ffff00"><font size="-1">-a&nbsp; ：定义为数组
array</font></font></font>
<br><font face="细明体"><font color="#ffff00"><font size="-1">-f&nbsp; ：定义为函数
function&nbsp;</font></font></font>
<br><font face="细明体"><font color="#ffff00"><font size="-1">-i&nbsp; ：定义为整数
integer</font></font></font>
<br><font face="细明体"><font color="#ffff00"><font size="-1">-r&nbsp; ：定义为『只读』</font></font></font>
<br><font face="细明体"><font color="#ffff00"><font size="-1">-x&nbsp; ：定义为透过环境输出变量</font></font></font>
<br><font face="细明体"><font color="#ffffcc"><font size="-1">范例：</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">[test @test
test]# </font><font color="#ffff00">declare -i a=3</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">[test @test
test]# </font><font color="#ffff00">declare -i b=5</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">[test @test
test]# </font><font color="#ffff00">declare -i c=$a*$b</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">[test @test
test]# </font><font color="#ffff00">echo $c</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">15&nbsp; </font><font color="#ff9900">&lt;==变成数字啰！
^_^</font></font></font></td>
</tr>
</tbody></table>
</ul>
初步了解了吧！？好了，现在我们来玩玩看，如果您的计算结果当中，需要输入为
2*3+5*13-32+25 时，并且在最后输出『 Your result is ==&gt; 』该怎样写这一支简单的
script 呢？可以这样试试看：
<br>&nbsp;
<table width="500" bgcolor="#000000" border="1" cols="1">
<tbody><tr>
<td><font face="细明体"><font size="-1"><font color="#ffffff">[root @test
test]# </font><font color="#ffff00">vi test03-declare.sh</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">#!/bin/bash</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># This program
is used to "declare" variables</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># VBird 2002/06/27</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">number1=2*3+5*13-32+25</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">declare -i
number2=2*3+5*13-32+25</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">echo "Your
result is ==&gt; $number1"</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">echo "Your
result is ==&gt; $number2"</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">[root @test
test]# </font><font color="#ffff00">sh test03-declare.sh</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">Your result
is ==&gt; 2*3+5*13-32+25</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">Your result
is ==&gt; 64</font></font></font></td>
</tr>
</tbody></table>

<p><font color="#000000">怎样？很有趣吧！更好玩的还在后头呦！再往下看一下吧！</font></p></blockquote>

<hr width="100%"><a name="read1"></a><font color="#000099"><font size="+1">对谈式
scripts ：</font></font>
<blockquote>什么是对谈式的 scripts 呢？很简单啦！例如你在执行 Windows 的安装程序时，系统不是常常会跳出一个窗口，问你『下一步』、『上一步』或『取消』吗？那就是对谈啦！程序会依据您输入的数据来进行判断，OK！那么最简单的对谈式指令是什么呢？呵呵！就是
read 这个指令啦！ read 的功能就是『<b>依据您在键盘输入的结果 input 到变量内容中</b>』，例如：
<br>&nbsp;
<table width="500" bgcolor="#000000" border="1" cols="1">
<tbody><tr>
<td><font face="细明体"><font size="-1"><font color="#ffffff">[root @test
test]#&nbsp;<a name="read"></a></font><font color="#ffff00">read name</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">VBird</font><font color="#ff9900">
&lt;==这是键盘输入的结果</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">[root @test
test]# </font><font color="#ffff00">echo $name</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">VBird</font></font></font></td>
</tr>
</tbody></table>

<p>好了！那么我们来设定一下，当您的 script 在执行的时候，将您由键盘输入的数据列出来！如何做呢？
<br>&nbsp;
<table width="500" bgcolor="#000000" border="1" cols="1">
<tbody><tr>
<td><font face="细明体"><font color="#ffffff"><font size="-1">[root @test
test]# vi test04-read.sh</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">#!/bin/bash</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># This program
is used to "read" variables</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># VBird 2002/06/27</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">echo "Please
keyin your name, and press Enter to start."</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">read name</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">echo "This
is your keyin data ==&gt; $name"</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">[root @test
test]# sh test04-read.sh</font></font></font>
<br><font face="细明体"><font color="#ffff00"><font size="-1">Please keyin
your name, and press Enter to start.</font></font></font>
<br><font face="细明体"><font color="#ffff00"><font size="-1">VBird Tsai</font></font></font>
<br><font face="细明体"><font color="#ffff00"><font size="-1">This is your
keyin data ==&gt; VBird Tsai</font></font></font></td>
</tr>
</tbody></table>

</p><p>就是这么简单，我们后面还会继续的谈到判别式，那个时候输入的数据可就更重要了！</p></blockquote>

<blockquote>好了！下一步我们再来说一说怎样定义一个 script 的参数的代号！？以底下我们的说明为例：
<br>&nbsp;
<table width="500" bgcolor="#000000" border="1" cols="1">
<tbody><tr>
<td><font face="细明体"><font size="-1"><font color="#ffffff">[root @test
test]#</font><font color="#ffff00"> myscript opt1 opt2 opt3 opt4</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">　　　　　　　</font><font color="#ffff00">　</font><font color="#ff9900">　　$0　　　
$1　 $2　 $3 　$4</font></font></font></td>
</tr>
</tbody></table>

<p>这是什么意思呢？嘿嘿！就是说，在这个 script （ myscript ）里面，只要变量名称为
$0 就表示为 myscript 这个咚咚，也就是说：
</p><blockquote><font face="细明体"><font color="#000066">$0 : myscript 亦即是
script 的檔名</font></font>
<br><font face="细明体"><font color="#000066">$1 : opt1 亦即是第一个附加的参数
(parameter)</font></font>
<br><font face="细明体"><font color="#000066">$2 : opt2</font></font>
<br><font face="细明体"><font color="#000066">$3 : opt3</font></font></blockquote>
这样说或许不是很清楚，我们来玩一玩底下这个 script 看看就晓得他的意思啦！
<br>&nbsp;
<table width="500" bgcolor="#000000" border="1" cols="1">
<tbody><tr>
<td><font face="细明体"><font size="-1"><font color="#ffffff">[root @test
test]# </font><font color="#ffff00">vi test05-0123</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">#!/bin/bash</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># This program
will define what is the parameters</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># VBird 2002/06/27</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">echo "This
script's name =&gt; $0"</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">echo "parameters
$1 $2 $3"</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">[root @test
test]# </font><font color="#ffff00">sh test05-0123 pa1 pa2 pa3</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">This script's
name =&gt; test05-0123</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">parameters
pa1 pa2 pa3</font></font></font></td>
</tr>
</tbody></table>

<p>这个东西在运用上也是相当的重要的，例如当您要取得 script 的名称时（因为有时候使用者会自行更改文件名），则这个功能变量就相当的重要了！了解乎！？</p></blockquote>

<hr width="100%"><a name="scripts_logical"></a><font color="#000099"><font size="+1">scripts
逻辑判断式与表达式：</font></font>
<blockquote><font color="#000000">再来的这个东西可就更重要了，尤其在 scripts
当中！那就如『</font><b><font color="#000099">如何判定某个档案或目录，或者是如何判定程序应该朝向那个方向行进</font></b><font color="#000000">』？这个东西需要有比较好一些的逻辑概念的说明才行！底下我们分别说明一下逻辑判断式与表达式之后，再来设定几个小
scripts 试试看不同的用法，以期得到大家的了解啰！</font></blockquote>

<ul>
<li>
<font color="#000099">逻辑判断式：</font></li>

<br><font color="#000000">在 scripts 里头很重要的一项工作就是『</font><b><font color="#3333ff">判断是否可行</font></b><font color="#000000">』的目标！举个例子来说，当我们要建立一个目录的时候，先侦测有没有该目录，如果有的话，那么就不需要建立，如果没有的话，那么就建立该目录！这个就需要
script 来主动的判断了！那么如何判断呢？基本上由于是判断式，那么应该都会与『条件』有关的，所以底下的判断式大多与『<font face="细明体">
if... then... fi </font>』这一种条件判断式有关系！这部份后面再提，这里先提一下逻辑判断式的几个重要的咚咚：</font>
<br>&nbsp;
<table width="700" border="1" cols="2">
<tbody><tr>
<td width="100" bgcolor="#ffcccc">
<center>逻辑卷标</center>
</td>

<td width="600" bgcolor="#cccccc">
<center>表示意思</center>
</td>
</tr>

<tr>
<td>1.</td>

<td><font color="#000099">关于档案与目录的侦测逻辑卷标！</font></td>
</tr>

<tr>
<td>
<center><font face="细明体">-f</font></center>
</td>

<td>
<center><font face="细明体"><font color="#3333ff">常用！侦测『档案』是否存在</font></font></center>
</td>
</tr>

<tr>
<td>
<center>-d</center>
</td>

<td>
<center><font color="#3333ff">常用！侦测『目录』是否存在</font></center>
</td>
</tr>

<tr>
<td>
<center><font face="细明体">-b</font></center>
</td>

<td>
<center><font face="细明体">侦测是否为一个『<font color="#3333ff"> block
档案</font>』</font></center>
</td>
</tr>

<tr>
<td>
<center><font face="细明体">-c</font></center>
</td>

<td>
<center><font face="细明体">侦测是否为一个『<font color="#3333ff"> character
档案</font>』</font></center>
</td>
</tr>

<tr>
<td>
<center>-S</center>
</td>

<td>
<center>侦测是否为一个『<font color="#3333ff"> socket 标签档案</font>』</center>
</td>
</tr>

<tr>
<td>
<center>&nbsp;-L</center>
</td>

<td>
<center>侦测是否为一个『<font color="#3333ff"> symbolic link 的档案</font>』</center>
</td>
</tr>

<tr>
<td>
<center>&nbsp;-e</center>
</td>

<td>
<center>侦测『<font color="#3333ff">某个东西</font>』是否存在！</center>
</td>
</tr>

<tr>
<td>2.</td>

<td><font color="#000099">关于程序的逻辑卷标！</font></td>
</tr>

<tr>
<td>
<center>-G</center>
</td>

<td>
<center>侦测是否由 GID 所执行的程序所拥有</center>
</td>
</tr>

<tr>
<td>
<center>-O</center>
</td>

<td>
<center>侦测是否由 UID 所执行的程序所拥有</center>
</td>
</tr>

<tr>
<td>
<center>-p</center>
</td>

<td>
<center>侦测是否为程序间传送信息的 name pipe 或是 FIFO （老实说，这个不太懂！）</center>
</td>
</tr>

<tr>
<td>3.&nbsp;</td>

<td><font color="#000099">关于档案的属性侦测！</font></td>
</tr>

<tr>
<td>
<center>-r</center>
</td>

<td>
<center>侦测是否为<font color="#3333ff">可读</font>的属性</center>
</td>
</tr>

<tr>
<td>
<center>-w</center>
</td>

<td>
<center>侦测是否为<font color="#3333ff">可以写入</font>的属性</center>
</td>
</tr>

<tr>
<td>
<center>-x</center>
</td>

<td>
<center>侦测是否为<font color="#3333ff">可执行</font>的属性</center>
</td>
</tr>

<tr>
<td>
<center>-s</center>
</td>

<td>
<center>侦测是否为『<font color="#3333ff">非空白档案</font>』</center>
</td>
</tr>

<tr>
<td>
<center>-u</center>
</td>

<td>
<center>侦测是否具有『 <font color="#3333ff">SUID</font> 』的属性</center>
</td>
</tr>

<tr>
<td>
<center>-g</center>
</td>

<td>
<center>侦测是否具有『 <font color="#3333ff">SGID</font> 』的属性</center>
</td>
</tr>

<tr>
<td>
<center>-k</center>
</td>

<td>
<center>侦测是否具有『 <font color="#3333ff">sticky bit</font> 』的属性</center>
</td>
</tr>

<tr>
<td>4.</td>

<td><font color="#000099">两个档案之间的判断与比较 ；例如<font face="细明体">『
test file1 -nt file2 </font>』</font></td>
</tr>

<tr>
<td>
<center>-nt</center>
</td>

<td>
<center>第一个档案比第二个档案新</center>
</td>
</tr>

<tr>
<td>
<center>-ot</center>
</td>

<td>
<center>第一个档案比第二个档案旧</center>
</td>
</tr>

<tr>
<td>
<center>-ef</center>
</td>

<td>
<center>第一个档案与第二个档案为同一个档案（ link 之类的档案）</center>
</td>
</tr>

<tr>
<td>5.</td>

<td><font color="#000099">逻辑的『和(and)』『或(or)』</font></td>
</tr>

<tr>
<td>
<center><b><font face="细明体"><font color="#3333ff">&amp;&amp;</font></font></b></center>
</td>

<td>
<center><b><font color="#3333ff">逻辑的 AND 的意思</font></b></center>
</td>
</tr>

<tr>
<td>
<center><b><font face="细明体"><font color="#3333ff">||</font></font></b></center>
</td>

<td>
<center><b><font color="#3333ff">逻辑的 OR 的意思</font></b></center>
</td>
</tr>
</tbody></table>

<p>比较有趣的应该算是 1, 3 这两种种类的判断，尤其是在建立一些 permission
相关的档案时，这个就更重要了！然后那个『<font color="#3333ff">两个档案之间的判断</font>』也是挺有意思的！有空的话不妨去试一试去！还有，那个
<b><font color="#3333ff">&amp;&amp;</font></b>
及 <b><font color="#3333ff">||</font></b> 这两个东西也是很重要的！接着下来，我们要来谈一谈运算符号啰！</p></ul>

<ul>
<li>
<font color="#000099">运算符号简介：</font></li>

<br>在 bash shell scripts 的运算符号的加减乘除是怎样的一回事呀！？谈一谈吧！
<br>&nbsp;
<table width="600" border="1" cols="2">
<tbody><tr>
<td width="100" bgcolor="#ffcccc">
<center>运算符号</center>
</td>

<td width="500" bgcolor="#cccccc">
<center>代表意义</center>
</td>
</tr>

<tr>
<td>
<center><font face="细明体">=</font></center>
</td>

<td>
<center><font face="细明体">等于</font></center>
</td>
</tr>

<tr>
<td>
<center><font face="细明体">!=</font></center>
</td>

<td>
<center><font face="细明体">不等于</font></center>
</td>
</tr>

<tr>
<td>
<center><font face="细明体">&lt;</font></center>
</td>

<td>
<center><font face="细明体">小于</font></center>
</td>
</tr>

<tr>
<td>
<center><font face="细明体">&gt;</font></center>
</td>

<td>
<center><font face="细明体">大于</font></center>
</td>
</tr>

<tr>
<td>
<center><font face="细明体">-eq</font></center>
</td>

<td>
<center><font face="细明体">等于</font></center>
</td>
</tr>

<tr>
<td>
<center><font face="细明体">-ne</font></center>
</td>

<td>
<center><font face="细明体">不等于</font></center>
</td>
</tr>

<tr>
<td>
<center><font face="细明体">-lt</font></center>
</td>

<td>
<center><font face="细明体">小于</font></center>
</td>
</tr>

<tr>
<td>
<center><font face="细明体">-gt</font></center>
</td>

<td>
<center><font face="细明体">大于</font></center>
</td>
</tr>

<tr>
<td>
<center><font face="细明体">-le</font></center>
</td>

<td>
<center><font face="细明体">小于或等于</font></center>
</td>
</tr>

<tr>
<td>
<center><font face="细明体">-ge</font></center>
</td>

<td>
<center><font face="细明体">大于或等于</font></center>
</td>
</tr>

<tr>
<td>
<center><font face="细明体">-a</font></center>
</td>

<td>
<center><font face="细明体">双方都成立（and）</font></center>
</td>
</tr>

<tr>
<td>
<center><font face="细明体">-o</font></center>
</td>

<td>
<center><font face="细明体">单方成立（or）</font></center>
</td>
</tr>

<tr>
<td>
<center><font face="细明体">-z</font></center>
</td>

<td>
<center><font face="细明体">空字符串</font></center>
</td>
</tr>

<tr>
<td>
<center><font face="细明体">-n</font></center>
</td>

<td>
<center><font face="细明体">非空字符串</font></center>
</td>
</tr>
</tbody></table>

<p>逻辑判断式与 if...then...fi 的关系是密不可分的，我们底下就先来谈一谈这一个判断式当中最常使用的语法吧！</p></ul>

<hr width="100%"><a name="rulesss"></a><font color="#000099"><font size="+1">条件式判断：</font>if...then...fi,
case.....esac</font>
<ul>
<li>
<a name="ifthen"></a><font color="#000099">条件判断一：if then fi 的方式</font></li>
</ul>

<blockquote>OK！刚刚我们 建立了第一支 script ，在屏幕上面以 script 来输出问候语！好了，现在我们如果要让
scripts 加上『判断』要如何来工作呢？这就是所谓的条件式判断了！最常使用到的就是『<font face="细明体">
if ... then .... else if .... then ... end if </font>』的作法了！这个条件判断的语法为：
<br>&nbsp;
<table width="800" bgcolor="#000000" border="1" cols="1">
<tbody><tr>
<td><font face="细明体"><font size="-1"><font color="#ffffff"><b>if</b> [
条件判断一 ] &amp;&amp; </font><font color="#ffff00">(||)</font><font color="#ffffff">
[ 条件判断二 ]; <b>then</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </font><font color="#ffff00">&lt;==
if 是起始的意思，后面可以接若干个判断式，使用 &amp;&amp; 或 ||</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;
执行内容程序</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff"><b>elif</b>
[ 条件判断三 ] &amp;&amp; </font><font color="#ffff00">(||)</font><font color="#ffffff">
[ 条件判断四 ]; <b>then</b>&nbsp;&nbsp;&nbsp;&nbsp; </font><font color="#ffff00">&lt;==第二段的判断，如果第一段没有符合就来此搜寻条件</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;
执行第二段内容程序</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff"><b>else</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</font><font color="#ffff00">&lt;==当前两段都不符合时，就以这段内容来执行！</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;
执行第三段内容程序</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff"><b>fi</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</font><font color="#ffff00">&lt;==结束 if then 的条件判断！</font></font></font></td>
</tr>
</tbody></table>

<p>上面的意思是这这样的：在中刮号『<font face="细明体">[]</font>』里面的是条件式，如果是复合式的条件判断（如若A及B则C之类的逻辑判断），那么就需要在两个中刮号之间加上『
<font face="细明体">&amp;&amp;
(and)』或者是『 || (or)</font>』这样的逻辑表达式才行！如果是多重选择的话，那么就需要以
elif （optional, 选择性的，若有需要才加上！）来新增另一个条件；如果所有的条件都不适用，则使用
else （optional）来进行最后的执行内容啰！</p></blockquote>

<blockquote>不过，这里有几个新手常犯的错误，我们需要来加强说明一下：
<ol>
<li>
<font color="#000099">在 [ ] 当中，只能有一个判别式；</font></li>

<li>
<font color="#000099">在 [ ] 与 [ ] 当中，可以使用 &amp;&amp; 或 || 来组织判别式；</font></li>

<li>
<font color="#000099">每一个独立的组件之间『<b>都需要有空格键来隔开</b>』！</font></li>
</ol>
尤其是最后一点，最容易犯的错啦！好了，我们来进行一个简单的判别式好了！
<br>&nbsp;
<table width="500" bgcolor="#000000" border="1" cols="1">
<tbody><tr>
<td><font face="细明体"><font size="-1"><font color="#ffffff">[root @test
test]# </font><font color="#ffff00">vi test06-ifthen.sh</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">#!/bin/bash</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># This program
is used to study if then</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># VBird 2002/06/27</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">echo "Press
y to continue"</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">read yn</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">if [ "$yn"
= "y" ]; then</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
echo "script is running..."</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">else</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
echo "STOP!"</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">fi</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">[root @test
test]# </font><font color="#ffff00">sh test06-ifthen.sh</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">Press y to
continue</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">y</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">script is running...</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">[root @test
test]$ </font><font color="#ffff00">sh test06-ifthen.sh</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">Press y to
continue</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">n</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">STOP!</font></font></font></td>
</tr>
</tbody></table>

<p>很简单的一个例子吧！当输入为 y 的时候，就给他进行，若非为 y 则不予以进行！但是这里有个问题，就是如果我输入为
Y 时，程序还是停止了！怎么办？！这个时候就需要使用到 || 这个东西啦！我们可以这样做！
<br>&nbsp;
<table width="500" bgcolor="#000000" border="1" cols="1">
<tbody><tr>
<td><font face="细明体"><font size="-1"><font color="#ffffff">[root @test
test]# </font><font color="#ffff00">cp test06-ifthen.sh test07-ifthen.sh</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">[root @test
test]# </font><font color="#ffff00">vi test07-ifthen.sh</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">#!/bin/bash</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># This program
is used to study if then</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># VBird 2002/06/27</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">echo "Press
y to continue"</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">read yn</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">if [ "$yn"
= "y" ] || [ "$yn" = "Y" ]; then</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
echo "script is running..."</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">else</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
echo "STOP!"</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">fi</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">[root @test
test]# </font><font color="#ffff00">sh test07-ifthen.sh</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">Press y to
continue</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">y</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">script is running...</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">[root @test
test]$ </font><font color="#ffff00">sh test07-ifthen.sh</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">Press y to
continue</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">Y</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">script is running...</font></font></font></td>
</tr>
</tbody></table>

</p><p>好了！那么如果再加上前面提过的： parameter 的选用呢？呵呵！这个也蛮有趣的，我们再来试试看：
<br>&nbsp;
<table width="500" bgcolor="#000000" border="1" cols="1">
<tbody><tr>
<td><font face="细明体"><font size="-1"><font color="#ffffff">[root @test
test]# </font><font color="#ffff00">vi test08-ifthen.sh</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">#!/bin/bash</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># set parameters
in the if then</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># 需要加上
hello 这个参数才会显示正确的！</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># VBird 2002/06/27</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">if [ "$1" =
"hello" ]; then</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
echo "Hello! How are you ?"</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">elif [ "$1"
= "" ]; then</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
echo "You MUST input parameters"</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">else</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
echo "The only accept parameter is hello"</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">fi</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">[root @test
test]#</font><font color="#ffff00"> sh test08-ifthen.sh hello</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">Hello! How
are you ?</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">[root @test
test]$ </font><font color="#ffff00">sh test08-ifthen.sh</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">You MUST input
parameters</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">[root @test
test]$ </font><font color="#ffff00">sh test08-ifthen.sh djdkf</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">The only accept
parameter is hello</font></font></font></td>
</tr>
</tbody></table>

</p><p>呵呵！是不是不难呢？玩到这里应该对于 scripts 的认识有一定程度的了解了吧！嗯！好了，底下我们来玩一个大的！假设您已经知道
netstat 与 grep 这两个东西的用法，那么如果要来侦测你的主机上面的 port 是否有开启时，可以使用底下的范例来进行：
<br>&nbsp;
<table width="800" bgcolor="#000000" border="1" cols="1">
<tbody><tr>
<td><font face="细明体"><font size="-1"><font color="#ffffff">[test @test
test]#</font><font color="#ffff00"> vi port.sh&nbsp;&nbsp;&nbsp;</font><font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#ff9900">&nbsp;&nbsp;
&lt;==编辑一个档案为 test1.sh 的 script</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">#!/bin/bash&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#ff9900">&nbsp;
&lt;==宣告使用的 shell 类型</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># program:
Using to study the [if ... then ... fi] program</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># Made by:&nbsp;
VBird</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># date:&nbsp;
2002/05/20</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># content:
I will using this program to show your services</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># 1. print
the program's work in your screen</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp; echo
"Now, the services of your Linux system will be detect!"</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp; echo
"The www, ftp, ssh, and sendmail + pop3 will be detect!"</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp; echo
" "</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># 2. www</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">&nbsp; www=`netstat
-an|grep LISTEN|grep :80`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#ff9900">&nbsp;&nbsp;
&lt;==这个就是变量啦！并使用了管线命令！</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">&nbsp; if [
"$www" != "" ]; 
then&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#ff9900">&nbsp;&nbsp;&nbsp;
&lt;==开始条件的判断啰！</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
echo
 "WWW is 
running"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#ff9900">&nbsp;
&lt;==若条件成立，那么就打印这一行的内容！</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp; else</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
echo "WWW is NOT running"</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp; fi</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># 3. ftp</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp; ftp=`netstat
-an|grep LISTEN|grep :21`</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp; if [
"$ftp" != "" ]; then</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
echo "FTP is running"</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp; else</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
echo "FTP is NOT running"</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp; fi</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># 4. ssh</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp; ssh=`netstat
-an|grep LISTEN|grep :22`</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp; if [
"$ssh" != "" ]; then</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
echo "SSH is running"</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp; else</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
echo "SSH is NOT running"</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp; fi</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># 5. sendmail
+ pop3</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp; smtp=`netstat
-an|grep LISTEN|grep :25`</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp; pop3=`netstat
-an|grep LISTEN|grep :110`</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">&nbsp; if [
"$smtp" != "" ]&nbsp;&nbsp; &amp;&amp; [ "$pop3" != "" ]; then&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#ff9900">&nbsp;
&lt;==有两个以上的条件式，就使用 &amp;&amp; 或 || 来分隔！</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
echo "sendmail is OK!"</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp; elif
[ "$smtp" != "" ] &amp;&amp; [ "$pop3"&nbsp; = "" ]; then</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
echo "sendmail have some problem of your pop3"</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp; elif
[ "$smtp"&nbsp; = "" ] &amp;&amp; [ "$pop3" != "" ]; then</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
echo "sendmail have some problem of your smtp"</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp; else</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
echo "sendmail is NOT running"</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp; fi</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">[test @test
test]#</font><font color="#ffff00"> sh port.sh</font><font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#ffff00">&nbsp;</font><font color="#ff9900">&nbsp;
&lt;==执行看看输出的结果！</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">Now, the services
of your Linux system will be detect!</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">The www, ftp,
ssh, and sendmail + pop3 will be detect!</font></font></font>
<p><font face="细明体"><font color="#ffffff"><font size="-1">WWW is running</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">FTP is running</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">SSH is running</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">sendmail is
OK!</font></font></font></p></td>
</tr>
</tbody></table>

</p><p>很简单吧！上面这样就可以将你主机上面的数据进行解析啰！</p></blockquote>

<ul>
<li>
<a name="case"></a><font color="#000099">条件判断二：使用 case ...esac
的方式</font></li>
</ul>

<blockquote>刚刚的『 if then fi 』的形式是以程序来自行判断，那么<b>如果我已经规划好几个项目要来执行，只要选择执行的『种类方式』就可以正确的执行的话</b>，要怎么做呢？最简单的例子就是我们常常使用到的
/etc/rc.d/init.d/ 里头的 scripts 啰！例如：重新启动 xinetd 是使用：
<blockquote><b><font face="细明体"><font color="#000066">/etc/rc.d/init.d/xinetd
restart</font></font></b></blockquote>
注意啰！那个是 restart 的项目，然后 script 就会自动的去搜寻 restart 项目里面的情况去执行！<b><font color="#000099">那个就是
case ... esac</font></b> 的使用模式啰！有没有注意到，开始是『 case 』结束则是使用
case 的倒写『 esac 』喝！很有趣吧！那么这种格式是怎样呢？
<br>&nbsp;
<table width="800" bgcolor="#000000" border="1" cols="1">
<tbody><tr>
<td><font face="细明体"><font size="-1"><font color="#ffffff"><b>case</b>
种类方式(string) <b>in</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#ffff00">
&lt;==开始阶段，那个种类方式可分成两种类型，通常使用 $1 这一种直接下达类型！</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;
种类方式一)</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
程序执行段</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
;;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</font><font color="#ffff00">&lt;==种类方式一的结束符号！</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;
种类方式二)</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
程序执行段</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
;;</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;
*)</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
echo "Usage: {种类方式一|种类方式二}"&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#ffff00">
&lt;==列出可以利用的参数值！</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
exit 1</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff"><b>esa</b>c&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</font><font color="#ffff00">&lt;==这个 case 的设定结束处！</font></font></font></td>
</tr>
</tbody></table>

<p>在种类方式(string)的格式主要有两种：
</p><ol>
<li>
<font color="#3333ff">直接下达式</font>：就是以『 <font color="#3333ff">执行档案
+ string</font> 』的方式来执行的(/etc/rc.d/init.d 里头的基本设定方式），则
string 可以直接写成『 $1 』（在执行档案后面直接加入参数的第一个参数！）</li>

<li>
<font color="#3333ff">交互式</font>：就是由屏幕输出可能的项目，然后让用户输入，这个通常必须配合『
read variable 』然后 string 则写成『 $variable 』的格式！</li>
</ol>
同样的，我们建立一个名为 test2.sh 的档案来试做看看。假如我们共可分三段格式来进行实作，分别为
one, two, three ，并假设使用直接下达式，则可以写成：
<br>&nbsp;
<table width="700" bgcolor="#000000" border="1" cols="1">
<tbody><tr>
<td><font face="细明体"><font size="-1"><font color="#ffffff">[test @test
test]# </font><font color="#ffff00">vi test09-case.sh</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">#!/bin/bash</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># program:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Using case mode</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># Made by:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
VBird</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># date:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
2002/05/20</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># content:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
I will use this program to study the case mode!</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># 1. print
this program</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp; echo
"This program will print your selection!"</font></font></font>
<p><font face="细明体"><font size="-1"><font color="#ffffff">case $1 
in&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#ff9900">
&lt;==使用直接下达指令型态！</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp; one)</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
echo "your choice is one"</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
;;</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp; two)</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
echo "your choice is two"</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
;;</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp; three)</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
echo "your choice is three"</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
;;</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp; *)</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
echo "Usage {one|two|three}"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#ff9900">&nbsp;
&lt;==列出可以使用的参数（如果使用者下达错误的参数时）</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
exit 1</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">esac</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">[test @test
test]# </font><font color="#ffff00">sh test09-case.sh&nbsp;</font><font color="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#ff9900">
&lt;==执行结果！显示没有相对的参数！所以列出可以参数！</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">This program
will print your selection!</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">Usage {one|two|three}</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">[test @test
test]# </font><font color="#ffff00">sh test09-case.sh three</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">This program
will print your selection!</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">your choice
is three</font></font></font></p></td>
</tr>
</tbody></table>

<p>那么对谈式的 case 又如何呢？嗯！我们利用上面的方式来修改一下内容啰！
<br>&nbsp;
<table width="500" bgcolor="#000000" border="1" cols="1">
<tbody><tr>
<td><font face="细明体"><font size="-1"><font color="#ffffff">[root @test
test]# </font><font color="#ffff00">vi test10-case.sh</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">#!/bin/bash</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># program:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Using case mode</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># Made by:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
VBird</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># date:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
2002/06/27</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># content:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
I will use this program to study the case mode!</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># 1. print
this program</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">echo "Press
your select one, two, three"</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">read number</font></font></font>
<p><font face="细明体"><font color="#ffffff"><font size="-1">case $number
in</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp; one)</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
echo "your choice is one"</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
;;</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp; two)</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
echo "your choice is two"</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
;;</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp; three)</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
echo "your choice is three"</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
;;</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp; *)</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
echo "Usage {one|two|three}"</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
exit 1</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">esac</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">[root @test
test]#</font><font color="#ffff00"> sh test10-case.sh</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">Press your
select one, two, three</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">two&nbsp;&nbsp;</font><font color="#ff9900">
&lt;=这一行是您输入的呦！</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">your choice
is two</font></font></font></p></td>
</tr>
</tbody></table>

</p><p>如何！很简单吧！以后对于 /etc/rc.d/init.d/ 里头的 script 就应该看的懂了吧！此外，由于还有所谓的『<font color="#3333ff">函数(function)</font>』也就是『先将需要执行的程序段写成一个小区块，而这个小区块则以一个名称来取代之』，简单的方式可以请您参考一下您系统中的
/etc/rc.d/init.d/sendmail ！注意看一下 start() 底下的那些个咚咚！你就可以知道什么意思了！由于我们这里并不教你如何写程序（基本上，
scripts 就是小程序啦！还好！ VBird 以前就有程序的底子！不然还真怕 script
呢！），所以就只好点到为止啰！</p></blockquote>

<hr width="100%"><a name="cycle"></a><font color="#000099"><font size="+1">循环：</font>for....do....done,
while...do...done, until...do...done,</font>
<blockquote>在程序段当中，最常使用到的就是循环了！循环是很重要的一项工具，尤其是具有判断形式的循环，很常被使用来判断一些事项的可行性与否！但是程序怎么知道什么时候应该要停止这个程序呢？呵呵！就需要加入判断啰！好了，最简单的判断式可以是底下几种：
<ul>
<li>
<font face="细明体"><b>for</b> <b>((</b> 条件一; 条件二; 条件三 <b>))</b></font></li>

<li>
<font face="细明体"><b>for</b> variable <b>in</b> variable1 variable2 .....</font></li>

<li>
<font face="细明体"><b>while</b> <b>[</b> condition1 <b>]</b> &amp;&amp;
{ || } [ condition2 ] ...</font></li>

<li>
<font face="细明体"><b>until</b> <b>[</b> condition1 <b>]</b> &amp;&amp;
{ || } [ condition2 ] ...</font></li>
</ul>
for 是已经知道有多少个 run 了，即是已经知道要跑几次了，至于 until 与 while
则分别是：
<ul>
<li>
『<b><font color="#3333ff">until：直到条件相同的时候才离开程序</font></b>』；</li>

<li>
『<b><font color="#3333ff">while：当条件相同的时候，就继续做！</font></b>』</li>
</ul>
这两者不太相同的啦！</blockquote>

<blockquote>好了！我们先来谈一下最简单的循环，就是利用 for 这个东西来进行！好了，假设我们计算
1 + 2 + 3 .... + 100 ，以 script 要如何写呢？有很多的方式，我们来谈一谈
do...done 好了！
<br>&nbsp;
<table width="500" bgcolor="#000000" border="1" cols="1">
<tbody><tr>
<td><font face="细明体"><font size="-1"><font color="#ffffff">[test @test
test]# </font><font color="#ffff00">vi test11-loop.sh</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">#!/bin/bash</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># Using for
and loop</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># VBird 2002/06/27</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">declare -i
s&nbsp; </font><font color="#ff9900"># &lt;==变量宣告</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">for (( i=1;
i&lt;=100; i=i+1 ))</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">do</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
s=s+i</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">done</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">echo "The count
is ==&gt; $s"</font></font></font>
<p><font face="细明体"><font size="-1"><font color="#ffffff">[test @test
test]#</font><font color="#ffff00"> sh test11-loop.sh</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">The count is
==&gt; 5050</font></font></font></p></td>
</tr>
</tbody></table>

<p>请注意！<b><font face="细明体"><font color="#000099"> for (( 条件一;
条件二; 条件三))</font></font></b> 这是必须要的！
</p><ul>
<li>
条件一：这可以看成是『初始值』，如上面的例子中，初始值是 i=1 啦！</li>

<li>
条件二：这可以看成是『符合值』，如上面的例子中，当 i&lt;=100 的时候都是符合条件的！</li>

<li>
条件三：这可以看成是『步阶』！也就是说， i 每次都加一！</li>
</ul>
<font face="细明体">所以啦！上面的例子是说：由 i=1 开始到 i&lt;= 100 ，每次
i 都加一来执行底下的程序段（就是 s=s+i ），当 i &gt;100 （也就是 i=101 ）就跳出这一段程序段</font>！怎样！不难吧！</blockquote>

<blockquote>好了！那么使用 while 或者是 until 要怎样执行呢？其实都是差不多的情况！我们使用底下的两个
script 来进行 1 ~ 100 的累加动作！
<br>&nbsp;
<table width="500" bgcolor="#000000" border="1" cols="1">
<tbody><tr>
<td><font face="细明体"><font color="#ffffcc"><font size="-1">1. 使用 while
：</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">[test @test
test]# </font><font color="#ffff00">vi test12-loop.sh</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">#!/bin/bash</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># Using while
and loop</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># VBird 2002/06/27</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">declare -i
i</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">declare -i
s</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">while [ "$i"
!= "101" ]</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">do</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
s=s+i</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
i=i+1</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">done</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">echo "The count
is ==&gt; $s"</font></font></font>
<p><font face="细明体"><font color="#ffffcc"><font size="-1">2. 使用 until
：</font></font></font>
<br><font face="细明体"><font size="-1"><font color="#ffffff">[test @test
test]# </font><font color="#ffff00">vi test13-loop.sh</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">#!/bin/bash</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># Using until
and loop</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># VBird 2002/06/27</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">declare -i
i</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">declare -i
s</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">until [ "$i"
= "101" ]</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">do</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
s=s+i</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
i=i+1</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">done</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">echo "The count
is ==&gt; $s"</font></font></font>
</p><p><font face="细明体"><font size="-1"><font color="#ffffff">[test @test
test]#</font><font color="#ffff00"> sh test12-loop.sh</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">The count is
==&gt; 5050</font></font></font></p></td>
</tr>
</tbody></table>

<p>嘻嘻嘻嘻！很简单吧！</p></blockquote>

<blockquote>第二个例子来自于网友 jony 的提供！这是另外一种循环的方式，可以用来判断非数字的类型呦！
<br>&nbsp;
<table width="500" bgcolor="#000000" border="1" cols="1">
<tbody><tr>
<td><font face="细明体"><font size="-1"><font color="#ffffff">[test @test
test]#</font><font color="#ffff00"> vi test14-for.sh</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">#!/bin/bash</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># using for...do
....done</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># VBird 2002/06/27</font></font></font>
<p><font face="细明体"><font color="#ffffff"><font size="-1">LIST="Tomy Jony
Mary Geoge"</font></font></font>
</p><p><font face="细明体"><font color="#ffffff"><font size="-1">for i in $LIST</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">do</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
echo $i</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">done</font></font></font>
</p><p><font face="细明体"><font size="-1"><font color="#ffffff">[test @test
test]# </font><font color="#ffff00">sh test5.sh</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">Tomy</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">Jony</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">Mary</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">Geoge</font></font></font></p></td>
</tr>
</tbody></table>

<p>这一种格式是以空格键当作 i 这个变量的选择项目！也就是说，上面的 $LIST
这个变量当中，以空格键来分隔的时候，共可以分离出来四个！所以啰！当以 do
..... done ... 就可以分别写出四个咚咚啦！好啦！那么有没有办法利用这个东西来将你的
Linux 主机上的账号 ( account ) 印出来呢？！很简单呀！我们利用 cut 跟 sort
以及 /etc/passwd 这个档案来完成这一支 script ，作法如下啰：
<br>&nbsp;
<table width="500" bgcolor="#000000" border="1" cols="1">
<tbody><tr>
<td><font face="细明体"><font size="-1"><font color="#ffffff">[test @test
test]# </font><font color="#ffff00">vi test15-for.sh</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">#!/bin/bash</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># Using for
and loop to read the account of this linux server!</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># VBird 2002/06/27</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">account=`cut
-d ":" -f1 /etc/passwd|sort`</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">echo "The following
is your linux server's account"</font></font></font>
<p><font face="细明体"><font color="#ffffff"><font size="-1">for i in $account</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">do</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
echo $i</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">done</font></font></font>
</p><p><font face="细明体"><font size="-1"><font color="#ffffff">[test @test
test]# </font><font color="#ffff00">sh test15-for.sh</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">The following
is your linux server's account</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">adm</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">aerosol</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">alenchan</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">amanda</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">apache</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">....</font></font></font></p></td>
</tr>
</tbody></table>

</p><p>OK！再来，我们来使用一下对谈式的循环作用吧！嗯！当我们输入 y 或 Y 时，程序就予以结束！该怎样做？！
<br>&nbsp;
<table width="500" bgcolor="#000000" border="1" cols="1">
<tbody><tr>
<td><font face="细明体"><font size="-1"><font color="#ffffff">[test @test
test]# </font><font color="#ffff00">vi test16-loop.sh</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">#!/bin/bash</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># Using until</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># VBird 2002/06/27</font></font></font>
<p><font face="细明体"><font color="#ffffff"><font size="-1">echo "Press
Y/y to stop"</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">until [ "$yn"
= "Y" ] || [ "$yn" = "y" ]</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">do</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
read yn</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">done</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">echo "Stop
here"</font></font></font>
</p><p><font face="细明体"><font size="-1"><font color="#ffffff">[test @test
test]#</font><font color="#ffff00"> sh test16-for.sh</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">Press Y/y to
stop</font></font></font>
</p><p><font face="细明体"><font color="#ffffff"><font size="-1">GDSG</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">A</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">Y</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">Stop here</font></font></font></p></td>
</tr>
</tbody></table>

</p><p>上面说的是，当输入 Y 或者是 y 时才跳出 do...done 的循环之中！而去执行底下的东西！哈哈！很好玩吧！嗯！接着下来，我们来判断一下目录是否存在好了！这是常用的呦！</p></blockquote>

<blockquote>接下来我们判别一下所谓的『<b>逻辑判断式</b>』的使用方式啦！刚刚我们不是已经知道了吗，我们可以使用条件判断来断定到底有没有档案（用
-e ）或者是该名称是属于目录或者是档案（ -d -f ），接下来我们来判断一个流程好了：
<ol>
<li>
先查看一下 /root/test/logical 这个名称是否存在；</li>

<li>
若不存在，则建立一个档案，使用 touch 来建立，建立完成后离开；</li>

<li>
如果存在的话，判断该名称是否为档案，若为档案则将之删除后建立一个档案，档名为
logical ，之后离开；</li>

<li>
如果存在的话，而且该名称为目录，则移除此目录！</li>
</ol>
看起来似乎很复杂，其实很简单的啦！我们来试试看：
<br>&nbsp;
<table width="500" bgcolor="#000000" border="1" cols="1">
<tbody><tr>
<td><font face="细明体"><font size="-1"><font color="#ffffff">[test @test
test]# </font><font color="#ffff00">vi test17-ifthen.sh</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">#!/bin/bash</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># using if
and then to select file or directory</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1"># VBird 2002/06/27</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">if [ ! -e logical
]; then</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
touch logical</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
echo "Just make a file logical"</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
exit 1</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">elif [ -e logical
] &amp;&amp; [ -f logical ]; then</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
rm logical</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
mkdir logical</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
echo "remove file ==&gt; logical"</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
echo "and make directory logical"</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
exit 1</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">elif [ -e logical
] &amp;&amp; [ -d logical ]; then</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
rm -rf logical</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
echo "remove directory ==&gt; logical"</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
exit 1</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">else</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
echo "Does here have anything?"</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">fi</font></font></font></td>
</tr>
</tbody></table>

<p>然后请你依序执行 sh test17-ifthen.sh ; ll 看看这个目录底下 logical 那个档案有什么变化状况！呵呵！了解了吗？就是这么简单！这个动作可以让我们很轻松的就判别到某个档案的存在与否！嗯！不错用！赶快来使用看看吧！</p></blockquote>

<hr width="100%"><a name="debug"></a><font color="#000099"><font size="+1">script
如何 debug </font>：</font>
<blockquote><font color="#000000">scripts 在执行之前，最怕的就是出现问题了！那么我们如何
debug 呢？有没有办法不需要透过直接执行该 scripts 就可以来判断是否有问题呢！？呵呵！当然是有的！我们就直接以
sh 来进行判断吧！</font>
<br>&nbsp;
<table width="500" bgcolor="#000000" border="1" cols="1">
<tbody><tr>
<td><font face="细明体"><font color="#ffffff"><font size="-1">[test @test
test]# sh [-nvx] scripts</font></font></font>
<br><font face="细明体"><font color="#ffff00"><font size="-1">-n ：不要执行
scripts ，查询 scripts 内的语法，若有错误则予以列出！</font></font></font>
<br><font face="细明体"><font color="#ffff00"><font size="-1">-v ：在执行
scripts 之前，先将 scripts 的内容显示在屏幕上；</font></font></font>
<br><font face="细明体"><font color="#ffff00"><font size="-1">-x ：将有使用到的
scripts 内容显示在屏幕上，与 -v 稍微不同！</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">[test @test
test]# sh -n test01-hello.sh</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">[test @test
test]# sh -v test01-hello.sh</font></font></font>
<br><font face="细明体"><font color="#ffff00"><font size="-1">#!/bin/bash</font></font></font>
<br><font face="细明体"><font color="#ffff00"><font size="-1"># This program
will print the "Hello! How are you" in your monitor</font></font></font>
<br><font face="细明体"><font color="#ffff00"><font size="-1"># Date: 2002/06/27</font></font></font>
<br><font face="细明体"><font color="#ffff00"><font size="-1"># User: VBird</font></font></font>
<br><font face="细明体"><font color="#ffff00"><font size="-1">hello="Hello!
How are you"</font></font></font>
<br><font face="细明体"><font color="#ffff00"><font size="-1">echo $hello</font></font></font>
<br><font face="细明体"><font color="#ffff00"><font size="-1">Hello! How
are you</font></font></font>
<br><font face="细明体"><font color="#ffffff"><font size="-1">[test @test
test]# sh -x test01-hello.sh</font></font></font>
<br><font face="细明体"><font color="#ffff00"><font size="-1">+ hello=Hello!
How are you</font></font></font>
<br><font face="细明体"><font color="#ffff00"><font size="-1">+ echo 'Hello!'
How are you</font></font></font>
<br><font face="细明体"><font color="#ffff00"><font size="-1">Hello! How
are you</font></font></font></td>
</tr>
</tbody></table>

<p><font color="#000000">熟悉 sh 的用法，将可以使您在管理 Linux 的过程中得心应手！</font>
<br><font color="#000000">　</font>
<br><font color="#000000">对于 Shell scripts 的学习方法上面，需要『多看、多模仿、并加以修改成自己的样式！』是最快的学习手段了！网络上有相当多的朋友在开发一些相当有用的
scripts ，若是您可以将对方的 scripts 拿来，并且改成适合自己主机的样子！那么学习的效果会是最快的呢！</font></p></blockquote>

<p>
</p><hr width="100%"><font face="新细明体"><font color="#000066"><font size="-1">2002/06/27：第一次完成</font></font></font>
<br><font face="新细明体"><font color="#000066"><font size="-1">2003/02/10：重新编排与加入
FAQ</font></font></font>
<div>﻿<div id="apDiv4">
      <p>本网页主要以Firefox配合解析度 1024x768 作为设计依据&nbsp;&nbsp;&nbsp;&nbsp; 鸟哥自由软件整合应用研究室</p></div></div>
</div></center>
</body></html>
