<html><head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf8">
	<meta name="Author" content="2011/04/18,lee">
	<meta name="Description" content="Linux 的文件权限与目录配置">
	<title>鸟哥的 Linux 私房菜 -- Linux 的文件权限与目录配置</title>
    <script src="../script/SpryMenuBar.js" type="text/javascript"></script>
	<script src="../script/index.js" type="text/javascript"></script>
	<link href="../css/SpryMenuBarHorizontal.css" rel="stylesheet" type="text/css" />
    <link href="../css/main.css" rel="stylesheet" type="text/css" />
    </head><body style="margin: 0pt; padding: 0pt;" class="table"onload="MM_preloadImages('../index-2.html','../index-2.html','../index-2.html','../index-2.html','../index-2.html','../index-2.html','../index-2.html','../index-2.html')">

<center>
<div id="apDiv5">
<div> <LINK REL="SHORTCUT ICON" HREF="../index-2.html">
<!-- ImageReady Slices (title3.ai) -->
<table id="___01" width="898" height="81" border="0" align="center" cellpadding="0" cellspacing="0";>
	<tr>
		<td colspan="15">
			<img src="image/title/title_01.png" width="900" height="1" alt=""></td>
	</tr>
	<tr>
		<td rowspan="4" bgcolor="#182448"><p><img src="http://linux.vbird.org/cgi-bin/Count.cgi?dd=C&amp;ft=5&amp;sh=T&amp;md=8&amp;pad=Y&amp;df=vbird.dic.ksu.edu.tw.dat" width="93" align="left" title="計數器" /></p>
	    <p><font color="#FFFFFF" size="-1">since2012/04/23</font></p></td>
		<td rowspan="4" align="left" valign="top"><a href="../index.html"><img src="image/title/title_03.png" alt="" width="263" height="79" border="0"></a></td>
		<td colspan="13">
			<img src="image/title/title_04.png" alt="" width="535" height="9" border="0"></td>
	</tr>
	<tr>
		<td rowspan="3">
			<img src="image/title/title_05.png" alt="" width="53" height="70" border="0"></td>
		<td colspan="2" align="left" valign="top"><a href="0110whatislinux.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image51','','image/title/title_06.png',1)"><img src="image/title/title3_06.png" name="Image51" width="106" height="25" border="0" id="Image51" alt=""/></a></td>
		<td rowspan="2">
			<img src="image/title/title_07.png" alt="" width="27" height="37" border="0"></td>
		<td colspan="3" align="left" valign="top"><a href="../linux_server/0110network_basic.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image52','','image/title/title_08.png',1)"><img src="image/title/title3_08.png" name="Image52" width="107" height="25" border="0" id="Image52" alt=""/></a></td>
		<td rowspan="2">
			<img src="image/title/title_09.png" alt="" width="37" height="37" border="0"></td>
		<td colspan="2" align="left" valign="top"><a href="../about.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image53','','image/title/title_10.png',1)"><img src="image/title/title3_10.png" name="Image53" width="75" height="25" border="0" id="Image53" alt=""/></a></td>
		<td rowspan="3">
			<img src="image/title/title_11.png" alt="" width="35" height="70" border="0"></td>
		<td align="left" valign="top"><a href="mailto:vbird@mail.vbird.idv.tw" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image54','','image/title/title_12.png',1)"><img src="image/title/title3_12.png" name="Image54" width="74" height="25" border="0" id="Image54" alt=""/></a></td>
		<td rowspan="3">
			<img src="image/title/title_13.png" alt="" width="21" height="70" border="0"></td>
	</tr>
	<tr>
		<td colspan="2">
			<img src="image/title/title_14.png" alt="" width="106" height="12" border="0"></td>
		<td colspan="3">
			<img src="image/title/title_15.png" alt="" width="107" height="12" border="0"></td>
		<td colspan="2">
			<img src="image/title/title_16.png" width="75" height="12" alt=""></td>
		<td rowspan="2">
			<img src="image/title/title_17.png" alt="" width="74" height="45" border="0"></td>
	</tr>
	<tr>
		<td>
			<img src="image/title/title_18.png" alt="" width="15" height="33" border="0"></td>
		<td colspan="3" align="left" valign="top"><ul id="MenuBar1" class="MenuBarHorizontal">
	  <li><a href="linux_basic.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image44','','image/title/title_19.png',1)"><img src="image/title/title3_19.png" name="Image44" width="123" height="33" border="0" id="Image44" /></a>
			    <ul>
			      <li><a href="Mandrake9.0/mandrake9.0.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image46','','image/title/title_26.png',1)"><img src="image/title/title_23.png" name="Image46" width="120" height="26" border="0" id="Image46" alt="" /></a></li>
                  <li><a href="fedora_4/fc4.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image47','','image/title/title_27.png',1)"><img src="image/title/title_24.png" name="Image47" width="120" height="26" border="0" id="Image47" alt="" /></a></li>
                  <li><a href="linux_basic.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image48','','image/title/title_28.png',1)"><img src="image/title/title_25.png" name="Image48" width="120" height="26" border="0" id="Image48" alt="" /></a></li>
                </ul>
		      </li>
		</ul></td>
		<td>
			<img src="image/title/title_20.png" alt="" width="42" height="33" border="0"></td>
		<td colspan="3" align="left" valign="top"><ul id="MenuBar2" class="MenuBarHorizontal">
	  <li><a href="../linux_server/index.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image45','','image/title/title_21.png',1)"><img src="image/title/title3_21.png" name="Image45" width="125" height="33" border="0" id="Image45" /></a>
			    <ul>
			      <li><a href="../linux_server/linux_redhat9/redhat9.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image43','','image/title/title_26.png',1)"><img src="image/title/title_23.png" name="Image43" width="120" height="26" border="0" id="Image43" alt=""/></a></li>
			      <li><a href="../linux_server/centos4.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image49','','image/title/title_27.png',1)"><img src="image/title/title_24.png" name="Image49" width="120" height="26" border="0" id="Image49" alt="" /></a></li>
			      <li><a href="../linux_server/index.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image50','','image/title/title_28.png',1)"><img src="image/title/title_25.png" name="Image50" width="120" height="26" border="0" id="Image50" alt="" /></a></li>
		        </ul>
		      </li>
		</ul></td>
		<td>
			<img src="image/title/title_22.png" alt="" width="47" height="33" border="0"></td>
	</tr>
	<tr>
		<td>
			<img src="image/title/Spacer.gif" width="101" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="263" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="53" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="15" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="91" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="27" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="5" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="42" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="60" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="37" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="28" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="47" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="35" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="74" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="22" height="1" alt=""></td>
	</tr>
</table>
<!-- End ImageReady Slices -->
<script type="text/javascript">
<!--
var MenuBar1 = new Spry.Widget.MenuBar("MenuBar1", {imgDown:"SpryAssets/SpryMenuBarDownHover.gif", imgRight:"SpryAssets/SpryMenuBarRightHover.gif"});
var MenuBar2 = new Spry.Widget.MenuBar("MenuBar2", {imgDown:"SpryAssets/SpryMenuBarDownHover.gif", imgRight:"SpryAssets/SpryMenuBarRightHover.gif"});
//-->
</script>
</div>
<table summary="本文内容的排版" style="width: 898px;" border="0" cellpadding="0" cellspacing="0">
<tbody><tr><td style="width: 16px; height: 16px;">　</td>
    <td style="width: 866px; height: 16px;">　</td>
    <td style="width: 16px; height: 16px;">　</td></tr>
<tr><td style="width: 16px; font-size: 6px;">　</td>
    <td width="866">

<!-- 本文的档头部分 -->
<div style="text-align: center;">
    <a href="0210filepermission.html">
    <span class="text_head0">第六章、<span class="text_head_en">Linux </span>的文件权限与目录配置</span></a><br>
</div>
    <div style="text-align: right;">
        <span class="text_history">最近更新日期：2009/08/18</span>
    </div>
<!-- 本文的连结区部分 -->
<div class="block1">
<span class="text_h1">
3. <a href="#dir">Linux目录配置</a><br>
	<span class="text_h2">
	　　3.1 <a href="#dir_fhs">Linux目录配置的依据--FHS</a>：<a href="#dir_fhs_root">/</a>, 
		<a href="#dir_fhs_usr">/usr</a>, <a href="#dir_fhs_var">/var</a><br>
	　　3.2 <a href="#dir_tree">目录树(directory tree)</a><br>
	　　3.3 <a href="#dir_path">绝对路径与相对路径</a><br>
	　　3.4 <a href="#dir_lsb">CentOS 的观察：</a> <a href="#lsb_release">lsb_release</a><br>
	</span>
</span></div>
<!-- 本文的正式部分 -->
<hr><a name="dir"></a><img src="../image/logo.png" alt="大标题的图示" width="35" align="middle" height="34"><span class="text_h1">Linux目录配置</span><br>
<div class="block1">
	<p>在了解了每个文件的相关种类与属性，以及了解了如何更改文件属性/权限的相关信息后，再来要了解的就是，
	为什么每套Linux distributions他们的配置文件啊、执行文件啊、每个目录内放置的咚咚啊，其实都差不多？
	原来是有一套标准依据的哩！我们底下就来瞧一瞧。<br><br></p>

	<hr><a name="dir_fhs"></a><img src="../image/logo.png" alt="小标题的图示" width="24" align="middle" height="23"><span class="text_h2">Linux目录配置的依据--FHS</span><br>
	<div class="block2">
		<p>因为利用Linux来开发产品或distributions的社群/公司与个人实在太多了，
		如果每个人都用自己的想法来配置文件放置的目录，那么将可能造成很多管理上的困扰。
		你能想象，你进入一个企业之后，所接触到的Linux目录配置方法竟然跟你以前学的完全不同吗？
		很难想象吧～所以，后来就有所谓的<span class="text_import2">Filesystem Hierarchy Standard (FHS)</span>标准的出炉了！</p>

		<p>根据FHS(<a href="http://www.pathname.com/fhs" target="_blank">http://www.pathname.com/fhs/</a>)的官方文件指出，
		他们的主要目的是希望<span class="text_import2">让使用者可以了解到已安装软件通常放置于那个目录下</span>，
		所以他们希望独立的软件开发商、操作系统制作者、以及想要维护系统的用户，都能够遵循FHS的标准。
		也就是说，FHS的重点在于规范每个特定的目录下应该要放置什么样子的数据而已。
		这样做好处非常多，因为Linux操作系统就能够在既有的面貌下(目录架构不变)发展出开发者想要的独特风格。</p>

		<p>事实上，FHS是根据过去的经验一直再持续的改版的，FHS依据文件系统使用的频繁与否与是否允许使用者随意更动，
		而将目录定义成为四种交互作用的形态，用表格来说有点像底下这样：</p>

<table bgcolor="lightyellow" border="1" cellpadding="3" cellspacing="0" width="85%">
<tbody><tr align="center" bgcolor="#182448"><td>　</td><td><font color="#FFFFFF">可分享的(shareable)</font></td><td><font color="#FFFFFF">不可分享的(unshareable)</font></td></tr>
<tr><td bgcolor="#182448"><font color="#FFFFFF">不变的(static)</font></td><td>/usr (软件放置处)</td><td>/etc (配置文件)</td></tr>
<tr><td bgcolor="#182448">　</td><td>/opt (第三方协力软件)</td><td>/boot (开机与核心档)</td></tr>
<tr><td bgcolor="#182448"><font color="#FFFFFF">可变动的(variable)</font></td><td>/var/mail (使用者邮件信箱)</td><td>/var/run (程序相关)</td></tr>
<tr><td bgcolor="#182448">　</td><td>/var/spool/news (新闻组)</td><td>/var/lock (程序相关)</td></tr>
</tbody></table>

		<p>上表中的目录就是一些代表性的目录，该目录底下所放置的数据在底下会谈到，这里先略过不谈。
		我们要了解的是，什么是那四个类型？</p>
		<ul>
		<li><span class="text_import2">可分享的</span>：可以分享给其他系统挂载使用的目录，所以包括执行文件与用户的邮件等数据，
		是能够分享给网络上其他主机挂载用的目录；<br><br></li>
		<li><span class="text_import2">不可分享的</span>：自己机器上面运作的装置文件或者是与程序有关的socket文件等，
		由于仅与自身机器有关，所以当然就不适合分享给其他主机了。<br><br></li>
		<li><span class="text_import2">不变的</span>：有些数据是不会经常变动的，跟随着distribution而不变动。
		例如函式库、文件说明文件、系统管理员所管理的主机服务配置文件等等；<br><br></li>
		<li><span class="text_import2">可变动的</span>：经常改变的数据，例如登录文件、一般用户可自行收受的新闻组等。</li>
		</ul>

		<p>事实上，FHS针对目录树架构仅定义出三层目录底下应该放置什么数据而已，分别是底下这三个目录的定义：</p>
		<ul class="text_import2">
		<li>/ (root, 根目录)：与开机系统有关；</li>
		<li>/usr (unix software resource)：与软件安装/执行有关；</li>
		<li>/var (variable)：与系统运作过程有关。</li>
		</ul>

		<p>为什么要定义出这三层目录呢？其实是有意义的喔！每层目录底下所应该要放置的目录也都又特定的规定喔！
		由于我们尚未介绍完整的Linux系统，所以底下的介绍你可能会看不懂！没关系，先有个概念即可，
		等到妳将基础篇全部看完后，就重头将基础篇再看一遍！到时候你就会豁然开朗啦！^_^</p>

		<div style="padding: 10pt 0pt;" align="right"><table width="90%"><tbody><tr><td><b>Tips:</b><br><span style="color: rgb(0, 144, 0);"><font size="-1">		这个 root 在 Linux 里面的意义真的很多很多～多到让人搞不懂那是啥玩意儿。
		如果以『账号』的角度来看，所谓的 root 指的是『系统管理员！』的身份，
		如果以『目录』的角度来看，所谓的 root 意即指的是根目录，就是 / 啦～
		要特别留意喔！
		</font></span></td><td><img src="0210filepermission_files/vbird_face.gif" alt="鸟哥的图示" title="鸟哥的图示"></td></tr></tbody></table></div>
		<a name="dir_fhs_root"></a>
		<hr><ul class="list1"><li class="text_import1">根目录 (/) 的意义与内容：</li></ul>

		<p>根目录是整个系统最重要的一个目录，因为不但所有的目录都是由根目录衍生出来的，
		同时<span class="text_import2">根目录也与开机/还原/系统修复等动作有关</span>。
		由于系统开机时需要特定的开机软件、核心文件、开机所需程序、
		函式库等等文件数据，若系统出现错误时，根目录也必须要包含有能够修复文件系统的程序才行。
		因为根目录是这么的重要，所以在FHS的要求方面，他希望根目录不要放在非常大的分割槽内，
		因为越大的分割槽妳会放入越多的数据，如此一来根目录所在分割槽就可能会有较多发生错误的机会。</p>

		<p>因此FHS标准建议：<span class="text_import2">根目录(/)所在分割槽应该越小越好，
		且应用程序所安装的软件最好不要与根目录放在同一个分割槽内，保持根目录越小越好。
		如此不但效能较佳，根目录所在的文件系统也较不容易发生问题。</span></p>

		<p>有鉴于上述的说明，因此FHS定义出根目录(/)底下应该要有底下这些次目录的存在才好：</p>

<table bgcolor="lightyellow" border="1" cellpadding="3" cellspacing="0" width="95%">
<tbody><tr align="center" bgcolor="#182448"><td width="80"><font color="#FFFFFF">目录</font></td><td><font color="#FFFFFF">应放置文件内容</font></td></tr>
<tr><td>/bin</td><td>
	系统有很多放置执行文件的目录，但/bin比较特殊。因为<span class="text_import2">/bin放置的是在单人维护模式下还能够被操作的指令。</span>
	在/bin底下的指令可以被root与一般账号所使用，主要有：cat, chmod, chown, date, mv, mkdir, cp, bash等等常用的指令。</td></tr>
<tr><td>/boot</td><td>
	这个目录主要在放置开机会使用到的文件，包括Linux核心文件以及开机选单与开机所需配置文件等等。
	<span class="text_import2">Linux kernel常用的档名为：vmlinuz</span>，如果使用的是grub这个开机管理程序，
	则还会存在/boot/grub/这个目录喔！</td></tr>
<tr><td>/dev</td><td>
	在Linux系统上，任何装置与接口设备都是以文件的型态存在于这个目录当中的。
	你只要透过存取这个目录底下的某个文件，就等于存取某个装置啰～
	比要重要的文件有<span class="text_import2">/dev/null, /dev/zero, /dev/tty</span>, /dev/lp*, /dev/hd*, /dev/sd*等等</td></tr>
<tr><td>/etc</td><td>
	系统主要的配置文件几乎都放置在这个目录内，例如人员的账号密码文件、
	各种服务的启始档等等。一般来说，这个目录下的各文件属性是可以让一般使用者查阅的，
	但是只有root有权力修改。<span class="text_import2">FHS建议不要放置可执行文件(binary)在这个目录中</span>喔。比较重要的文件有：
	<span class="text_import2">/etc/inittab, /etc/init.d/, /etc/modprobe.conf, 
	/etc/X11/, /etc/fstab, /etc/sysconfig/</span> 等等。另外，其下重要的目录有：
	<ul><li><span class="text_import2">/etc/init.d/</span>：所有服务的预设启动 script
		都是放在这里的，例如要启动或者关闭 iptables 的话：『 /etc/init.d/iptables start』、『/etc/init.d/iptables 
		stop』</li>
	<li><span class="text_import2">/etc/xinetd.d/</span>：这就是所谓的super daemon管理的各项服务的配置文件目录。</li>
	<li><span class="text_import2">/etc/X11/</span>：与 X Window 有关的各种配置文件都在这里，尤其是
		xorg.conf 这个 X Server 的配置文件。</li></ul></td></tr>
<tr><td>/home</td><td>
	这是系统默认的用户家目录(home directory)。在你新增一个一般使用者账号时，
	默认的用户家目录都会规范到这里来。比较重要的是，家目录有两种代号喔：<br>
	<span class="text_import2">~</span>：代表目前这个用户的家目录，而 <br>
	<span class="text_import2">~dmtsai</span> ：则代表 dmtsai 的家目录！</td></tr>
<tr><td>/lib</td><td>
	系统的函式库非常的多，而<span class="text_import2">/lib放置的则是在开机时会用到的函式库，
	以及在/bin或/sbin底下的指令会呼叫的函式库而已</span>。
	什么是函式库呢？妳可以将他想成是『外挂』，某些指令必须要有这些『外挂』才能够顺利完成程序的执行之意。
	尤其重要的是<span class="text_import2">/lib/modules/</span>这个目录，
	因为该目录会放置核心相关的模块(驱动程序)喔！</td></tr>
<tr><td>/media</td><td>
	media是『媒体』的英文，顾名思义，这个<span class="text_import2">/media底下放置的就是可移除的装置啦！</span>
	包括软盘、光盘、DVD等等装置都暂时挂载于此。常见的档名有：/media/floppy, /media/cdrom等等。</td></tr>
<tr><td>/mnt</td><td>
	如果妳想要暂时挂载某些额外的装置，一般建议妳可以放置到这个目录中。
	在古早时候，这个目录的用途与/media相同啦！只是有了/media之后，这个目录就用来暂时挂载用了。</td></tr>
<tr><td>/opt</td><td>
	这个是<span class="text_import2">给第三方协力软件放置的目录</span>。什么是第三方协力软件啊？
	举例来说，KDE这个桌面管理系统是一个独立的计划，不过他可以安装到Linux系统中，因此KDE的软件就建议放置到此目录下了。
	另外，如果妳想要自行安装额外的软件(非原本的distribution提供的)，那么也能够将你的软件安装到这里来。
	不过，以前的Linux系统中，我们还是习惯放置在/usr/local目录下呢！</td></tr>
<tr><td>/root</td><td>
	系统管理员(root)的家目录。之所以放在这里，是因为如果进入单人维护模式而仅挂载根目录时，
	该目录就能够拥有root的家目录，所以我们会希望root的家目录与根目录放置在同一个分割槽中。</td></tr>
<tr><td>/sbin</td><td>
	Linux有非常多指令是用来设定系统环境的，这些指令只有root才能够利用来『设定』系统，其他用户最多只能用来『查询』而已。
	<span class="text_import2">放在/sbin底下的为开机过程中所需要的，里面包括了开机、修复、还原系统所需要的指令。</span>
	至于某些服务器软件程序，一般则放置到/usr/sbin/当中。至于本机自行安装的软件所产生的系统执行文件(system binary)，
	则放置到/usr/local/sbin/当中了。常见的指令包括：fdisk, fsck, ifconfig, init, mkfs等等。</td></tr>
<tr><td>/srv</td><td>
	srv可以视为『service』的缩写，是一些网络服务启动之后，这些服务所需要取用的数据目录。
	常见的服务例如WWW, FTP等等。举例来说，WWW服务器需要的网页数据就可以放置在/srv/www/里面。</td></tr>
<tr><td>/tmp</td><td>
	这是让一般使用者或者是正在执行的程序暂时放置文件的地方。
	这个目录是任何人都能够存取的，所以你需要定期的清理一下。当然，重要数据不可放置在此目录啊！
	因为FHS甚至建议在开机时，应该要将/tmp下的数据都删除唷！</td></tr>
</tbody></table>

		<p>事实上FHS针对根目录所定义的标准就仅有上面的咚咚，不过我们的Linux底下还有许多目录你也需要了解一下的。
		底下是几个在Linux当中也是非常重要的目录喔：</p>

<table bgcolor="lightyellow" border="1" cellpadding="3" cellspacing="0" width="95%">
<tbody><tr align="center" bgcolor="#182448"><td width="80"><font color="#FFFFFF">目录</font></td><td><font color="#FFFFFF">应放置文件内容</font></td></tr>
<tr><td>/lost+found</td><td>
	这个目录是使用标准的ext2/ext3文件系统格式才会产生的一个目录，目的在于当文件系统发生错误时，
	将一些遗失的片段放置到这个目录下。这个目录通常会在分割槽的最顶层存在，
	例如你加装一颗硬盘于/disk中，那在这个系统下就会自动产生一个这样的目录『/disk/lost+found』</td></tr>
<tr><td>/proc</td><td>
	这个目录本身是一个『虚拟文件系统(virtual filesystem)』喔！他放置的数据都是在内存当中，
	例如系统核心、行程信息(process)、周边装置的状态及网络状态等等。因为这个目录下的数据都是在内存当中，
	所以本身不占任何硬盘空间啊！比较重要的文件例如：<span class="text_import2">/proc/cpuinfo,
	/proc/dma, /proc/interrupts, /proc/ioports, /proc/net/*</span> 等等。</td></tr>
<tr><td>/sys</td><td>
	这个目录其实跟/proc非常类似，也是一个虚拟的文件系统，主要也是记录与核心相关的信息。
	包括目前已加载的核心模块与核心侦测到的硬件装置信息等等。这个目录同样不占硬盘容量喔！</td></tr>
</tbody></table>

		<p>除了这些目录的内容之外，另外要注意的是，因为根目录与开机有关，开机过程中仅有根目录会被挂载，
		其他分割槽则是在开机完成之后才会持续的进行挂载的行为。就是因为如此，因此根目录下与开机过程有关的目录，
		就不能够与根目录放到不同的分割槽去！那哪些目录不可与根目录分开呢？有底下这些：</p>
		<ul class="text_import2">
		<li>/etc：配置文件</li>
		<li>/bin：重要执行档</li>
		<li>/dev：所需要的装置文件</li>
		<li>/lib：执行档所需的函式库与核心所需的模块</li>
		<li>/sbin：重要的系统执行文件</li>
		</ul>
		<p>这五个目录千万不可与根目录分开在不同的分割槽！请背下来啊！
		好了，谈完了根目录，接下来我们就来谈谈/usr以及/var！先看/usr里面有些什么东西：<br><br></p>

		<a name="dir_fhs_usr"></a>
		<hr><ul class="list1"><li class="text_import1">/usr 的意义与内容：</li></ul>

		<p>依据FHS的基本定义，/usr里面放置的数据属于可分享的与不可变动的(shareable, static)，
		如果你知道如何透过网络进行分割槽的挂载(例如在服务器篇会谈到的<a href="../linux_server/0330nfs.html" target="_blank">NFS服务器</a>)，那么/usr确实可以分享给局域网络内的其他主机来使用喔！</p>

		<p>很多读者都会误会/usr为user的缩写，其实<span class="text_import2">usr是Unix Software Resource的缩写</span>，
		也就是『Unix操作系统软件资源』所放置的目录，而不是用户的数据啦！这点要注意。
		FHS建议所有软件开发者，应该将他们的数据合理的分别放置到这个目录下的次目录，而不要自行建立该软件自己独立的目录。</p>

		<p>因为是所有系统默认的软件(distribution发布者提供的软件)都会放置到/usr底下，因此这个目录有点类似Windows
		系统的『C:\Windows\ + C:\Program files\』这两个目录的综合体，系统刚安装完毕时，这个目录会占用最多的硬盘容量。
		一般来说，/usr的次目录建议有底下这些：</p>

<table bgcolor="lightyellow" border="1" cellpadding="3" cellspacing="0" width="95%">
<tbody><tr align="center" bgcolor="#182448"><td width="80"><font color="#FFFFFF">目录</font></td><td><font color="#FFFFFF">应放置文件内容</font></td></tr>
<tr><td>/usr/X11R6/</td><td>
	为X Window System重要数据所放置的目录，之所以取名为X11R6是因为最后的X版本为第11版，且该版的第6次释出之意。</td></tr>
<tr><td>/usr/bin/</td><td>
	绝大部分的用户可使用指令都放在这里！请注意到他与/bin的不同之处。(是否与开机过程有关)</td></tr>
<tr><td>/usr/include/</td><td>
	c/c++等程序语言的档头(header)与包含档(include)放置处，当我们以tarball方式 
	(*.tar.gz 的方式安装软件)安装某些数据时，会使用到里头的许多包含档喔！</td></tr>
<tr><td>/usr/lib/</td><td>
	包含各应用软件的函式库、目标文件(object file)，以及<span class="text_import2">不被一般使用者惯用的执行档或脚本(script)</span>。
	某些软件会提供一些特殊的指令来进行服务器的设定，这些指令也不会经常被系统管理员操作，
	那就会被摆放到这个目录下啦。要注意的是，如果你使用的是X86_64的Linux系统，
	那可能会有/usr/lib64/目录产生喔！</td></tr>
<tr><td>/usr/local/</td><td>
	系统管理员在本机自行安装自己下载的软件(非distribution默认提供者)，建议安装到此目录，
	这样会比较便于管理。举例来说，你的distribution提供的软件较旧，你想安装较新的软件但又不想移除旧版，
	此时你可以将新版软件安装于/usr/local/目录下，可与原先的旧版软件有分别啦！
	你可以自行到/usr/local去看看，该目录下也是具有bin, etc, include, lib...的次目录喔！</td></tr>
<tr><td>/usr/sbin/</td><td>
	非系统正常运作所需要的系统指令。最常见的就是某些网络服务器软件的服务指令(daemon)啰！</td></tr>
<tr><td>/usr/share/</td><td>
	放置共享文件的地方，在这个目录下放置的数据几乎是不分硬件架构均可读取的数据，
	因为几乎都是文本文件嘛！在此目录下常见的还有这些次目录：
	<ul>
	<li>/usr/share/man：联机帮助文件</li>
	<li>/usr/share/doc：软件杂项的文件说明</li>
	<li>/usr/share/zoneinfo：与时区有关的时区文件</li></ul></td></tr>
<tr><td>/usr/src/</td><td>
	一般原始码建议放置到这里，src有source的意思。至于核心原始码则建议放置到/usr/src/linux/目录下。</td></tr>
</tbody></table><br>

		<a name="dir_fhs_var"></a>
		<hr><ul class="list1"><li class="text_import1">/var 的意义与内容：</li></ul>

		<p>如果/usr是安装时会占用较大硬盘容量的目录，那么/var就是在系统运作后才会渐渐占用硬盘容量的目录。
		因为/var目录主要针对常态性变动的文件，包括缓存(cache)、登录档(log file)以及某些软件运作所产生的文件，
		包括程序文件(lock file, run file)，或者例如MySQL数据库的文件等等。常见的次目录有：</p>

<table bgcolor="lightyellow" border="1" cellpadding="3" cellspacing="0" width="95%">
<tbody><tr align="center" bgcolor="#182448"><td width="80"><font color="#FFFFFF">目录</font></td><td><font color="#FFFFFF">应放置文件内容</font></td></tr>
<tr><td>/var/cache/</td><td>
	应用程序本身运作过程中会产生的一些暂存档；</td></tr>
<tr><td>/var/lib/</td><td>
	程序本身执行的过程中，需要使用到的数据文件放置的目录。在此目录下各自的软件应该要有各自的目录。
	举例来说，MySQL的数据库放置到/var/lib/mysql/而rpm的数据库则放到/var/lib/rpm去！</td></tr>
<tr><td>/var/lock/</td><td>
	某些装置或者是文件资源一次只能被一个应用程序所使用，如果同时有两个程序使用该装置时，
	就可能产生一些错误的状况，因此就得要将该装置上锁(lock)，以确保该装置只会给单一软件所使用。
	举例来说，刻录机正在刻录一块光盘，你想一下，会不会有两个人同时在使用一个刻录机烧片？
	如果两个人同时刻录，那片子写入的是谁的数据？所以当第一个人在刻录时该刻录机就会被上锁，
	第二个人就得要该装置被解除锁定(就是前一个人用完了)才能够继续使用啰。</td></tr>
<tr><td>/var/log/</td><td>
	重要到不行！这是登录文件放置的目录！里面比较重要的文件如/var/log/messages, /var/log/wtmp(记录登入者的信息)等。</td></tr>
<tr><td>/var/mail/</td><td>
	放置个人电子邮件信箱的目录，不过这个目录也被放置到/var/spool/mail/目录中！
	通常这两个目录是互为链接文件啦！</td></tr>
<tr><td>/var/run/</td><td>
	某些程序或者是服务启动后，会将他们的PID放置在这个目录下喔！
	至于PID的意义我们会在后续章节提到的。</td></tr>
<tr><td>/var/spool/</td><td>
	这个目录通常放置一些队列数据，<span class="text_import2">所谓的『队列』就是排队等待其他程序使用的数据啦！</span>
	这些数据被使用后通常都会被删除。举例来说，系统收到新信会放置到/var/spool/mail/中，
	但使用者收下该信件后该封信原则上就会被删除。信件如果暂时寄不出去会被放到/var/spool/mqueue/中，
	等到被送出后就被删除。如果是工作排程数据(crontab)，就会被放置到/var/spool/cron/目录中！</td></tr>
</tbody></table>

		<p>建议在你读完整个基础篇之后，可以挑战FHS官方英文文件(参考本章<a href="#reference">参考资料</a>)，相信会让你对于Linux操作系统的目录有更深入的了解喔！<br><br></p>

		<hr><ul class="list1"><li class="text_import1">针对FHS，各家distributions的异同</li></ul>

		<p>由于FHS仅是定义出最上层(/)及次层(/usr, /var)的目录内容应该要放置的文件或目录数据，
		因此，在其他次目录层级内，就可以随开发者自行来配置了。举例来说，CentOS的网络设定数据放在 
		/etc/sysconfig/network-scripts/ 目录下，但是SuSE则是将网络放置在
		/etc/sysconfig/network/ 目录下，目录名称可是不同的呢！不过只要记住大致的FHS标准，差异性其实有限啦！</p>
	</div>

	<hr><a name="dir_tree"></a><img src="../image/logo.png" alt="小标题的图示" width="24" align="middle" height="23"><span class="text_h2">目录树(directory tree)</span><br>
	<div class="block2">
		<p>另外，在Linux底下，所有的文件与目录都是由根目录开始的！那是所有目录与文件的源头～
		然后再一个一个的分支下来，有点像是树枝状啊～因此，我们也称这种目录配置方式为：『目录树(directory tree)』
		这个目录树有什么特性呢？他主要的特性有：</p>

		<ul class="text_import2">
		<li>目录树的启始点为根目录 (/, root)；</li>
		<li>每一个目录不止能使用本地端的 partition 的文件系统，也可以使用网络上的 filesystem 。举例来说，
			可以利用 Network File System (NFS) 服务器挂载某特定目录等。</li>
		<li>每一个文件在此目录树中的文件名(包含完整路径)都是独一无二的。</li></ul>

		<p>好，谈完了FHS的标准之后，实际来看看CentOS在根目录底下会有什么样子的数据吧！我们可以下达以下的指令来查询：</p>

<table class="term"><tbody><tr><td class="term"><pre>[root@www ~]# <span class="term_command">ls -l /</span>
drwxr-xr-x   2 root root  4096 Sep  5 12:34 bin
drwxr-xr-x   4 root root  1024 Sep  4 18:06 boot
drwxr-xr-x  12 root root  4320 Sep 22 12:10 dev
drwxr-xr-x 105 root root 12288 Sep 22 12:10 etc
drwxr-xr-x   4 root root  4096 Sep  5 14:08 home
drwxr-xr-x  14 root root  4096 Sep  5 12:12 lib
drwx------   2 root root 16384 Sep  5 01:49 lost+found
drwxr-xr-x   2 root root  4096 Mar 30  2007 media
drwxr-xr-x   2 root root     0 Sep 22 12:09 misc
drwxr-xr-x   2 root root  4096 Mar 30  2007 mnt
drwxr-xr-x   2 root root     0 Sep 22 12:09 net
drwxr-xr-x   2 root root  4096 Mar 30  2007 opt
dr-xr-xr-x  95 root root     0 Sep 22  2008 proc
drwxr-x---   4 root root  4096 Sep  8 14:06 root
drwxr-xr-x   2 root root 12288 Sep  5 12:33 sbin
drwxr-xr-x   4 root root     0 Sep 22  2008 selinux
drwxr-xr-x   2 root root  4096 Mar 30  2007 srv
drwxr-xr-x  11 root root     0 Sep 22  2008 sys
drwxrwxrwt   6 root root  4096 Sep 22 12:10 tmp
drwxr-xr-x  14 root root  4096 Sep  4 18:00 usr
drwxr-xr-x  26 root root  4096 Sep  4 18:19 var
</pre></td></tr></tbody></table>

		<p>上面表格中比较特殊的应该是/selinux这个目录了，这个目录的内容数据也是在内存中的信息，
		同样的不会占用任何的硬盘容量。这个/selinux是Secure Enhance Linux(SELinux)的执行目录，
		而SELinux是Linux核心的重要外挂功能之一，他可以用来作为细部权限的控管，主要针对程序(尤其是网络程序)的访问权限来限制。
		关于SELinux我们会在后续的章节继续做介绍的喔！</p>

		<p>如果我们将整个目录树以图标的方法来显示，并且将较为重要的文件数据列出来的话，那么目录树架构有点像这样：</p>

		<center><img src="0210filepermission_files/directory_tree.gif" alt="目录树架构示意图" title="目录树架构示意图" border="1"><br>
		图3.2.1、目录树架构示意图<br></center>

		<p>鸟哥只有就各目录进行简单的解释，看看就好，详细的解释请回到刚刚说明的表格中去查阅喔！
		看完了FHS标准之后，现在回到<a href="0130designlinux.html#beforeinstall_partition">第三章里面去看看安装前Linux规划的分割情况</a>，
		对于当初为何需要分割为这样的情况，有点想法了吗？^_^。根据FHS的定义，妳最好能够将/var独立出来，
		这样对于系统的数据还有一些安全性的保护呢！因为至少/var死掉时，你的根目录还会活着嘛！
		还能够进入救援模式啊！</p>
	</div>

	<hr><a name="dir_path"></a><img src="../image/logo.png" alt="小标题的图示" width="24" align="middle" height="23"><span class="text_h2">绝对路径与相对路径</span><br>
	<div class="block2">
		<p>除了需要特别注意的FHS目录配置外，在文件名部分我们也要特别注意喔！因为<span class="text_import2">根据档名写法的不同，也可将所谓的路径(path)定义为绝对路径(absolute)与相对路径(relative)</span>。
		这两种文件名/路径的写法依据是这样的：</p>
		<ul>
		<li><span class="text_import2">绝对路径</span>：由根目录(/)开始写起的文件名或目录名称，
		例如 /home/dmtsai/.bashrc；</li>
		<li><span class="text_import2">相对路径</span>：相对于目前路径的文件名写法。
		例如 ./home/dmtsai 或 ../../home/dmtsai/ 等等。反正开头不是 / 就属于相对路径的写法</li>
		</ul>
		<p>而你必须要了解，相对路径是以『你当前所在路径的相对位置』来表示的。举例来说，你目前在 /home 这个目录下，
		如果想要进入 /var/log 这个目录时，可以怎么写呢？</p>

		<ol style="font-family: '细明体';">
		<li>cd /var/log &nbsp; (absolute)</li>
		<li>cd ../var/log (relative)</li></ol>

		<p>因为你在 /home 底下，所以要回到上一层 (../) 之后，才能继续往 /var 来移动的！
		特别注意这两个特殊的目录：</p>

		<ul style="font-family: '细明体'; color: rgb(0, 0, 136);">
		<li> . &nbsp;：代表当前的目录，也可以使用 ./ 来表示；</li>
		<li>.. ：代表上一层目录，也可以 ../ 来代表。</li></ul>

		<p>这个 . 与 .. 目录概念是很重要的，你常常会看到 cd .. 或 ./command 之类的指令下达方式，
		就是代表上一层与目前所在目录的工作状态喔！很重要的吶！</p>

<table border="1" cellpadding="5" cellspacing="0" width="90%"><tbody><tr><td>
例题：<div class="block2">
如何先进入/var/spool/mail/目录，再进入到/var/spool/cron/目录内？
</div>
答：<div class="block2">
由于/var/spool/mail与/var/spool/cron是同样在/var/spool/目录中，因此最简单的指令下达方法为：
<ol style="font-family: '细明体';">
	<li>cd /var/spool/mail</li>
	<li>cd ../cron</li>
</ol>
如此就不需要在由根目录开始写起了。这个相对路径是非常有帮助的！尤其对于某些软件开发商来说。
一般来说，软件开发商会将数据放置到/usr/local/里面的各相对目录，妳可以参考图3.2.1的相对位置。
但如果用户想要安装到不同目录呢？就得要使用相对路径啰！^_^
</div>
</td></tr></tbody></table><br>

<table border="1" cellpadding="5" cellspacing="0" width="90%"><tbody><tr><td>
例题：<div class="block2">
网络文件常常提到类似『./run.sh』之类的数据，这个指令的意义为何？
</div>
答：<div class="block2">
由于指令的执行需要变量(bash章节才会提到)的支持，若你的执行文件放置在本目录，并且本目录并非正规的执行文件目录(/bin, 
/usr/bin等为正规)，此时要执行指令就得要严格指定该执行档。『./』代表『本目录』的意思，所以『./run.sh』代表『执行本目录下，
名为run.sh的文件』啰！
</div>
</td></tr></tbody></table>
	</div>

	<hr><a name="dir_lsb"></a><img src="../image/logo.png" alt="小标题的图示" width="24" align="middle" height="23"><span class="text_h2">CentOS 的观察</span><br>
	<div class="block2">
		<p>某些时刻你可能想要知道你的 distribution 使用的是那个 Linux 标准 (Linux Standard Base)，
		而且我们也知道 distribution 使用的都是 Linux 的核心！那你如何观察这些基本的信息呢？
		可以使用如下的指令来观察看看啦：</p>

<a name="lsb_release"></a>
<table class="term"><tbody><tr><td class="term"><pre>[root@www ~]# <span class="term_command">uname -r</span>
2.6.18-128.el5 <span class="term_note">&lt;==可以察看实际的核心版本</span>
[root@www ~]# <span class="term_command">lsb_release -a</span>
LSB Version:    :core-3.1-amd64:core-3.1-ia32:core-3.1-noarch:graphics-3.1-amd64:
graphics-3.1-ia32:graphics-3.1-noarch      <span class="term_note">&lt;==LSB 的版本</span>
Distributor ID: CentOS
Description:    CentOS release 5.3 (Final) <span class="term_note">&lt;==distribution 的版本</span>
Release:        5.3
Codename:       Final
</pre></td></tr></tbody></table>



	</div>
</div>
<hr />
    </td>
    <td style="width: 16px; font-size: 6px;">　</td></tr>
<tr><td style="width: 16px; height: 16px;">　</td>
    <td style="width: 866px; height: 16px;">　</td>
    <td style="width: 16px; height: 16px;">　</td></tr>
</tbody></table>

<div style="padding-top: 0px; text-align: center;">
<span style="font-size: 80%;">
	<a href="http://linux.vbird.org/" target="_top" title="前往鸟哥的首页">http://linux.vbird.org</a>
	is designed by <a href="mailto:vbird@mail.vbird.idv.tw" title="联络鸟哥(我不要广告信！)">VBird</a>
		during 2001-2011. <a href="http://www.ksu.edu.tw/" target="_blank">ksu.edu</a></span>
         ﻿<div id="apDiv4">
      <p>本网页主要以Firefox配合解析度 1024x768 作为设计依据&nbsp;&nbsp;&nbsp;&nbsp; 鸟哥自由软件整合应用研究室</p></div></div>
</div>
</center>
</body></html>
