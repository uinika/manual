<html><head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta name="Author" content="2011/04/20,white">
	<meta name="Description" content="整个 Linux 系统下的开关机流程介绍，以及启动管理软件的介绍">
	<title>鸟哥的 Linux 私房菜 -- 启动关机流程与 Loader</title>
    <script src="../script/SpryMenuBar.js" type="text/javascript"></script>
	<script src="../script/index.js" type="text/javascript"></script>
	<link href="../css/SpryMenuBarHorizontal.css" rel="stylesheet" type="text/css" />
    <link href="../css/main.css" rel="stylesheet" type="text/css" />
    </head><body style="margin: 0pt; padding: 0pt;" class="table"onload="MM_preloadImages('../index-2.html','../index-2.html','../index-2.html','../index-2.html','../index-2.html','../index-2.html','../index-2.html','../index-2.html')">

<center>
<div id="apDiv5">
<div> <LINK REL="SHORTCUT ICON" HREF="../index-2.html">
<!-- ImageReady Slices (title3.ai) -->
<table id="___01" width="898" height="81" border="0" align="center" cellpadding="0" cellspacing="0";>
	<tr>
		<td colspan="15">
			<img src="image/title/title_01.png" width="900" height="1" alt=""></td>
	</tr>
	<tr>
		<td rowspan="4" bgcolor="#182448"><p><img src="http://linux.vbird.org/cgi-bin/Count.cgi?dd=C&amp;ft=5&amp;sh=T&amp;md=8&amp;pad=Y&amp;df=vbird.dic.ksu.edu.tw.dat" width="93" align="left" title="計數器" /></p>
	    <p><font color="#FFFFFF" size="-1">since2012/04/23</font></p></td>
		<td rowspan="4" align="left" valign="top"><a href="../index.html"><img src="image/title/title_03.png" alt="" width="263" height="79" border="0"></a></td>
		<td colspan="13">
			<img src="image/title/title_04.png" alt="" width="535" height="9" border="0"></td>
	</tr>
	<tr>
		<td rowspan="3">
			<img src="image/title/title_05.png" alt="" width="53" height="70" border="0"></td>
		<td colspan="2" align="left" valign="top"><a href="0110whatislinux.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image51','','image/title/title_06.png',1)"><img src="image/title/title3_06.png" name="Image51" width="106" height="25" border="0" id="Image51" alt=""/></a></td>
		<td rowspan="2">
			<img src="image/title/title_07.png" alt="" width="27" height="37" border="0"></td>
		<td colspan="3" align="left" valign="top"><a href="../linux_server/0110network_basic.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image52','','image/title/title_08.png',1)"><img src="image/title/title3_08.png" name="Image52" width="107" height="25" border="0" id="Image52" alt=""/></a></td>
		<td rowspan="2">
			<img src="image/title/title_09.png" alt="" width="37" height="37" border="0"></td>
		<td colspan="2" align="left" valign="top"><a href="../about.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image53','','image/title/title_10.png',1)"><img src="image/title/title3_10.png" name="Image53" width="75" height="25" border="0" id="Image53" alt=""/></a></td>
		<td rowspan="3">
			<img src="image/title/title_11.png" alt="" width="35" height="70" border="0"></td>
		<td align="left" valign="top"><a href="mailto:vbird@mail.vbird.idv.tw" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image54','','image/title/title_12.png',1)"><img src="image/title/title3_12.png" name="Image54" width="74" height="25" border="0" id="Image54" alt=""/></a></td>
		<td rowspan="3">
			<img src="image/title/title_13.png" alt="" width="21" height="70" border="0"></td>
	</tr>
	<tr>
		<td colspan="2">
			<img src="image/title/title_14.png" alt="" width="106" height="12" border="0"></td>
		<td colspan="3">
			<img src="image/title/title_15.png" alt="" width="107" height="12" border="0"></td>
		<td colspan="2">
			<img src="image/title/title_16.png" width="75" height="12" alt=""></td>
		<td rowspan="2">
			<img src="image/title/title_17.png" alt="" width="74" height="45" border="0"></td>
	</tr>
	<tr>
		<td>
			<img src="image/title/title_18.png" alt="" width="15" height="33" border="0"></td>
		<td colspan="3" align="left" valign="top"><ul id="MenuBar1" class="MenuBarHorizontal">
	  <li><a href="linux_basic.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image44','','image/title/title_19.png',1)"><img src="image/title/title3_19.png" name="Image44" width="123" height="33" border="0" id="Image44" /></a>
			    <ul>
			      <li><a href="Mandrake9.0/mandrake9.0.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image46','','image/title/title_26.png',1)"><img src="image/title/title_23.png" name="Image46" width="120" height="26" border="0" id="Image46" alt="" /></a></li>
                  <li><a href="fedora_4/fc4.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image47','','image/title/title_27.png',1)"><img src="image/title/title_24.png" name="Image47" width="120" height="26" border="0" id="Image47" alt="" /></a></li>
                  <li><a href="linux_basic.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image48','','image/title/title_28.png',1)"><img src="image/title/title_25.png" name="Image48" width="120" height="26" border="0" id="Image48" alt="" /></a></li>
                </ul>
		      </li>
		</ul></td>
		<td>
			<img src="image/title/title_20.png" alt="" width="42" height="33" border="0"></td>
		<td colspan="3" align="left" valign="top"><ul id="MenuBar2" class="MenuBarHorizontal">
	  <li><a href="../linux_server/index.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image45','','image/title/title_21.png',1)"><img src="image/title/title3_21.png" name="Image45" width="125" height="33" border="0" id="Image45" /></a>
			    <ul>
			      <li><a href="../linux_server/linux_redhat9/redhat9.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image43','','image/title/title_26.png',1)"><img src="image/title/title_23.png" name="Image43" width="120" height="26" border="0" id="Image43" alt=""/></a></li>
			      <li><a href="../linux_server/centos4.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image49','','image/title/title_27.png',1)"><img src="image/title/title_24.png" name="Image49" width="120" height="26" border="0" id="Image49" alt="" /></a></li>
			      <li><a href="../linux_server/index.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image50','','image/title/title_28.png',1)"><img src="image/title/title_25.png" name="Image50" width="120" height="26" border="0" id="Image50" alt="" /></a></li>
		        </ul>
		      </li>
		</ul></td>
		<td>
			<img src="image/title/title_22.png" alt="" width="47" height="33" border="0"></td>
	</tr>
	<tr>
		<td>
			<img src="image/title/Spacer.gif" width="101" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="263" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="53" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="15" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="91" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="27" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="5" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="42" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="60" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="37" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="28" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="47" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="35" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="74" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="22" height="1" alt=""></td>
	</tr>
</table>
<!-- End ImageReady Slices -->
<script type="text/javascript">
<!--
var MenuBar1 = new Spry.Widget.MenuBar("MenuBar1", {imgDown:"SpryAssets/SpryMenuBarDownHover.gif", imgRight:"SpryAssets/SpryMenuBarRightHover.gif"});
var MenuBar2 = new Spry.Widget.MenuBar("MenuBar2", {imgDown:"SpryAssets/SpryMenuBarDownHover.gif", imgRight:"SpryAssets/SpryMenuBarRightHover.gif"});
//-->
</script>
</div>
<table summary="本文内容的排版" style="width: 898px;" border="0" cellpadding="0" cellspacing="0">
<tbody><tr><td style="width: 16px; height: 16px;">　</td>
    <td style="width: 866px; height: 16px;">　</td>
    <td style="width: 16px; height: 16px;">　</td></tr>
<tr><td style="width: 16px; font-size: 6px;">　</td>
    <td width="866">
<!-- 本文的档头部分 -->
<div style="text-align: center;">
    <a href="0510osloader.html">
    <span class="text_head0">第二十章、启动流程、模块管理与<span class="text_head_en"> Loader</span></span></a><br>
</div>
    <div style="text-align: right;">
        <span class="text_history">最近升级日期：2009/09/14</span>
    </div>
<!-- 本文的连结区部分 -->
<div class="block1">
<span class="text_h1">
2. <a href="#kernel">核心与核心模块</a><br>
	<span class="text_h2">
	　　2.1 <a href="#kernel_depmod">核心模块与相依性</a>： <a href="#depmod">depmod</a><br>
	　　2.2 <a href="#kernel_look">核心模块的观察</a>： <a href="#lsmod">lsmod</a>, <a href="#modinfo">modinfo</a><br>
	　　2.3 <a href="#kernel_load">核心模块的加载与移除</a>：<a href="#insmod">insmod</a>, 
		<a href="#modprobe">modprobe</a>, <a href="#rmmod">rmmod</a><br>
	　　2.4 <a href="#kernel_modprobe">核心模块的额外参数配置：/etc/modprobe.conf</a><br>
	</span>
</span></div>
<!-- 本文的正式部分 -->
<hr><a name="kernel"></a><img src="../image/logo.png" alt="大标题的图示" width="35" align="middle" height="34"><span class="text_h1">核心与核心模块</span><br>
<div class="block1">
	<p>谈完了整个启动的流程，您应该会知道，在整个启动的过程当中，是否能够成功的驱动我们主机的硬件配备，
	是核心 (kernel) 的工作！而核心一般都是压缩档，因此在使用核心之前，就得要将他解压缩后，
	才能加载主内存当中。</p>

	<p>另外，为了应付日新月异的硬件，目前的核心都是具有『可读取模块化驱动程序』的功能，
	亦即是所谓的『 modules (模块化)』的功能啦！所谓的模块化可以将他想成是一个『外挂程序』，
	该外挂程序可能由硬件开发厂商提供，也有可能我们的核心本来就支持～不过，较新的硬件，
	通常都需要硬件开发商提供驱动程序模块啦！</p>

	<p>那么核心与核心模块放在哪？</p>

	<ul>
	<li>核心： /boot/vmlinuz 或 /boot/vmlinuz-version；</li>
	<li>核心解压缩所需 RAM Disk： /boot/initrd (/boot/initrd-version)；</li>
	<li>核心模块： /lib/modules/version/kernel 或 /lib/modules/$(uname -r)/kernel；</li>
	<li>核心原始码： /usr/src/linux 或 /usr/src/kernels/ (要安装才会有，默认不安装)</li>
	</ul>

	<p>如果该核心被顺利的加载系统当中了，那么就会有几个资讯纪录下来：</p>

	<ul>
	<li>核心版本： /proc/version</li>
	<li>系统核心功能： /proc/sys/kernel</li>
	</ul>

	<p>问题来啦，如果我有个新的硬件，偏偏我的操作系统不支持，该怎么办？很简单啊！</p>

	<ul>
	<li>重新编译核心，并加入最新的硬件驱动程序原始码；</li>
	<li>将该硬件的驱动程序编译成为模块，在启动时加载该模块</li>
	</ul>

	<p>上面第一点还很好理解，反正就是重新编译核心就是了。不过，核心编译很不容易啊！
	我们会在后续章节约略介绍核心编译的整个程序。比较有趣的则是将该硬件的驱动程序编译成为模块啦！
	关於编译的方法，可以参考后续的<a href="0520source_code_and_tarball.html">第二十二章、原始码与 tarball</a>的介绍。
	我们这个章节仅是说明一下，如果想要加载一个已经存在的模块时，该如何是好？<br><br></p>

	<hr><a name="kernel_depmod"></a><img src="../image/logo.png" alt="小标题的图示" width="24" align="middle" height="23"><span class="text_h2">核心模块与相依性</span><br>
	<div class="block2">
		<p>既然要处理核心模块，自然就得要了解了解我们核心提供的模块之间的相关性啦！
		基本上，核心模块的放置处是在 /lib/modules/$(uname -r)/kernel 当中，里面主要还分成几个目录：</p>

<table class="term"><tbody><tr><td class="term"><pre>arch	：与硬件平台有关的项目，例如 CPU 的等级等等；
crypto	：核心所支持的加密的技术，例如 md5 或者是 des 等等；
drivers	：一些硬件的驱动程序，例如显卡、网络卡、PCI 相关硬件等等；
fs	：核心所支持的 filesystems ，例如 vfat, reiserfs, nfs 等等；
lib	：一些函式库；
net	：与网络有关的各项协议数据，还有防火墙模块 (net/ipv4/netfilter/*) 等等；
sound	：与音效有关的各项模块；
</pre></td></tr></tbody></table>

		<p>如果要我们一个一个的去检查这些模块的主要资讯，然后定义出他们的相依性，
		我们可能会疯掉吧！所以说，我们的 Linux 当然会提供一些模块相依性的解决方案罗～
		对啦！那就是检查 <span class="text_import2">/lib/modules/$(uname -r)/modules.dep</span>
		这个文件啦！他记录了在核心支持的模块的各项相依性。</p>

		<p>那么这个文件如何创建呢？挺简单！利用 depmod 这个命令就可以达到创建该文件的需求了！</p>

<a name="depmod"></a>
<table class="term"><tbody><tr><td class="term"><pre>[root@www ~]# <span class="term_command">depmod [-Ane]</span>
<span class="term_say">选项与参数：
-A  ：不加任何参数时， depmod 会主动的去分析目前核心的模块，并且重新写入
      /lib/modules/$(uname -r)/modules.dep 当中。若加入 -A 参数时，则 depmod
      会去搜寻比 modules.dep 内还要新的模块，如果真找到新模块，才会升级。
-n  ：不写入 modules.dep ，而是将结果输出到萤幕上(standard out)；
-e  ：显示出目前已加载的不可运行的模块名称</span>

<span class="term_hd">范例一：若我做好一个网络卡驱动程序，档名为 a.ko，该如何升级核心相依性？</span>
[root@www ~]# <span class="term_command">cp a.ko /lib/modules/$(uname -r)/kernel/drivers/net</span>
[root@www ~]# <span class="term_command">depmod</span>
</pre></td></tr></tbody></table>

		<p>以上面的范例一为例，我们的 Linux kernel 2.6.x 版本的核心模块扩展名一定是 .ko 结尾的，
		当你使用 depmod 之后，该程序会跑到模块标准放置目录 /lib/modules/$(uname -r)/kernel ，
		并依据相关目录的定义将全部的模块捉出来分析，最终才将分析的结果写入 modules.dep 文件中的呐！
		这个文件很重要喔！因为他会影响到本章稍后会介绍的 <a href="#modprobe">modprobe</a> 命令的应用！</p>
	</div>

	<hr><a name="kernel_look"></a><img src="../image/logo.png" alt="小标题的图示" width="24" align="middle" height="23"><span class="text_h2">核心模块的观察</span><br>
	<div class="block2">
		<p>那你到底晓不晓得目前核心加载了多少的模块呢？粉简单啦！利用 lsmod 即可！</p>

<a name="lsmod"></a>
<table class="term"><tbody><tr><td class="term"><pre>[root@www ~]# <span class="term_command">lsmod</span>
Module                  Size  Used by
autofs4                24517  2
hidp                   23105  2
<span class="term_say">....(中间省略)....</span>
8139too                28737  0
8139cp                 26305  0
mii                     9409  2 8139too,8139cp <span class="term_note">&lt;==mii 还被 8139cp, 8139too 使用</span>
<span class="term_say">....(中间省略)....</span>
uhci_hcd               25421  0  <span class="term_note">&lt;==底下三个是 U盘 相关的模块！</span>
ohci_hcd               23261  0
ehci_hcd               33357  0
</pre></td></tr></tbody></table>

		<p>使用 lsmod 之后，系统会显示出目前已经存在於核心当中的模块，显示的内容包括有：</p>

		<ul class="text_import2">
		<li>模块名称(Module)；</li>
		<li>模块的大小(size)；</li>
		<li>此模块是否被其他模块所使用 (Used by)。</li></ul>

		<p>也就是说，模块其实真的有相依性喔！举上表为例， mii 这个模块会被 8139too 所使用。
		简单的说，就是『当你要加载 8139too 时，需要先加载 mii 这个模块才可以顺利的加载 8139too』的意思。
		那么除了显示出目前的模块外，我还可以查阅每个模块的资讯吗？举例来说，我们知道 8139too
		是螃蟹卡的驱动程序，那么 mii 是什么咚咚？就用 modinfo 来观察吧！</p>

<a name="modinfo"></a>
<table class="term"><tbody><tr><td class="term"><pre>[root@www ~]# <span class="term_command">modinfo [-adln] [module_name|filename]</span>
<span class="term_say">选项与参数：
-a  ：仅列出作者名称；
-d  ：仅列出该 modules 的说明 (description)；
-l  ：仅列出授权 (license)；
-n  ：仅列出该模块的详细路径。</span>

<span class="term_hd">范例一：由上个表格当中，请列出 mii 这个模块的相关资讯：</span>
[root@www ~]# <span class="term_command">modinfo mii</span>
<span class="term_write">filename:       /lib/modules/2.6.18-92.el5/kernel/drivers/net/mii.ko</span>
license:        GPL
<span class="term_write">description:    MII hardware support library</span>
author:         Jeff Garzik &lt;jgarzik@pobox.com&gt;
srcversion:     16DCEDEE4B5629C222C352D
depends:
vermagic:       2.6.18-92.el5 SMP mod_unload 686 REGPARM 4KSTACKS gcc-4.1
<span class="term_say"># 可以看到这个模块的来源，以及该模块的简易说明！(是硬件支持函式库)</span>

<span class="term_hd">范例二：我有一个模块名称为 a.ko ，请问该模块的资讯为？</span>
[root@www ~]# <span class="term_command">modinfo a.ko</span>
<span class="term_say">....(省略)....</span>
</pre></td></tr></tbody></table>

		<p>事实上，这个 modinfo 除了可以『查阅在核心内的模块』之外，还可以检查『某个模块文件』，
		因此，如果你想要知道某个文件代表的意义为何，利用 modinfo 加上完整档名吧！
		看看就晓得是啥玩意儿罗！ ^_^</p>
	</div>

	<hr><a name="kernel_load"></a><img src="../image/logo.png" alt="小标题的图示" width="24" align="middle" height="23"><span class="text_h2">核心模块的加载与移除</span><br>
	<div class="block2">
		<p>好了，如果我想要自行手动加载模块，又该如何是好？有很多方法啦，最简单而且建议的，是使用 modprobe 这个命令来加载模块，
		这是因为 modprobe 会主动的去搜寻 modules.dep 的内容，先克服了模块的相依性后，
		才决定需要加载的模块有哪些，很方便。至於 insmod 则完全由使用者自行加载一个完整档名的模块，
		并不会主动的分析模块相依性啊！</p>

<a name="insmod"></a>
<table class="term"><tbody><tr><td class="term"><pre>[root@www ~]# <span class="term_command">insmod [/full/path/module_name] [parameters]</span>

<span class="term_hd">范例一：请尝试加载 cifs.ko 这个『文件系统』模块</span>
[root@www ~]# <span class="term_command">insmod /lib/modules/$(uname -r)/kernel/fs/cifs/cifs.ko</span>
[root@www ~]# <span class="term_command">lsmod | grep cifs</span>
cifs                  212789  0
</pre></td></tr></tbody></table>

		<p>他立刻就将该模块加载罗～但是 insmod 后面接的模块必须要是完整的『档名』才行！那如何移除这个模块呢？</p>

<a name="rmmod"></a>
<table class="term"><tbody><tr><td class="term"><pre>[root@www ~]# <span class="term_command">rmmod [-fw] module_name</span>
<span class="term_say">选项与参数：
-f  ：强制将该模块移除掉，不论是否正被使用；
-w  ：若该模块正被使用，则 rmmod 会等待该模块被使用完毕后，才移除他！</span>

<span class="term_hd">范例一：将刚刚加载的 cifs 模块移除！</span>
[root@www ~]# <span class="term_command">rmmod cifs</span>

<span class="term_hd">范例二：请加载 vfat 这个『文件系统』模块</span>
[root@www ~]# <span class="term_command">insmod /lib/modules/$(uname -r)/kernel/fs/vfat/vfat.ko</span>
insmod: error inserting '/lib/modules/2.6.18-92.el5/kernel/fs/vfat/vfat.ko': 
-1 Unknown symbol in module
<span class="term_say"># 无法加载 vfat 这个模块啊！伤脑筋！</span>
</pre></td></tr></tbody></table>

		<p>使用 insmod 与 rmmod 的问题就是，你必须要自行找到模块的完整档名才行，而且如同上述范例二的结果，
		万一模块有相依属性的问题时，你将无法直接加载或移除该模块呢！所以近年来我们都建议直接使用 modprobe 
		来处理模块加载的问题，这个命令的用法是：</p>

<a name="modprobe"></a>
<table class="term"><tbody><tr><td class="term"><pre>[root@www ~]# <span class="term_command">modprobe [-lcfr] module_name</span>
<span class="term_say">选项与参数：
-c  ：列出目前系统所有的模块！(更详细的代号对应表)
-l  ：列出目前在 /lib/modules/`uname -r`/kernel 当中的所有模块完整档名；
-f  ：强制加载该模块；
-r  ：类似 rmmod ，就是移除某个模块罗～</span>

<span class="term_hd">范例一：加载 cifs 模块</span>
[root@www ~]# <span class="term_command">modprobe cifs</span>
<span class="term_say"># 很方便吧！不需要知道完整的模块档名，这是因为该完整档名已经记录到
# /lib/modules/`uname -r`/modules.dep 当中的缘故啊！如果要移除的话：</span>
[root@www ~]# <span class="term_command">modprobe -r cifs</span>
</pre></td></tr></tbody></table>

		<p>使用 modprobe 真的是要比 insmod 方便很多！因为他是直接去搜寻 modules.dep 的纪录，
		所以罗，当然可以克服模块的相依性问题，而且还不需要知道该模块的详细路径呢！
		好方便！ ^_^</p>

<table border="1" cellpadding="5" cellspacing="0" width="90%"><tbody><tr><td>
例题：<div class="block2">
尝试使用 modprobe 加载 vfat 这个模块，并且观察该模块的相关模块是哪个？
</div>
答：<div class="block2">
我们使用 modprobe 来加载，再以 lsmod 来观察与 grep 撷取关键字看看：<br>

<table class="term"><tbody><tr><td class="term"><pre>[root@www ~]# <span class="term_command">modprobe vfat</span>
[root@www ~]# <span class="term_command">lsmod | grep vfat</span>
vfat                   15809  0
fat                    51165  1 vfat <span class="term_note">&lt;==原来就是 fat 这个模块啊！</span>

[root@www ~]# <span class="term_command">modprobe -r vfat</span> <span class="term_note">&lt;==测试完移除此模块</span>
</pre></td></tr></tbody></table>
</div>
</td></tr></tbody></table><br>
	</div>

	<hr><a name="kernel_modprobe"></a><img src="../image/logo.png" alt="小标题的图示" width="24" align="middle" height="23"><span class="text_h2">核心模块的额外参数配置：
	/etc/modprobe.conf</span><br>
	<div class="block2">
		<p>这个文件我们之前已经谈过了，这里只是再强调一下而已，如果您想要修改某些模块的额外参数配置，
		就在这个文件内配置吧！我们假设一个案例好了，假设我的网络卡 eth0 是使用 ne ，
		但是 eth1 同样也使用 ne ，为了避免同一个模块会导致网络卡的错乱，
		因此，我可以先找到 eth0 与 eth1 的 I/O 与 IRQ ，假设：</p>
		<ul>
		<li>eth0 ： I/O (0x300) 且 IRQ=5</li>
		<li>eth1 ： I/O (0x320) 且 IRQ=7</li>
		</ul>
		<p>则：</p>

<table class="term"><tbody><tr><td class="term"><pre>[root@www ~]# <span class="term_command">vi /etc/modprobe.conf</span>
alias eth0 ne
alias eth1 ne
options eth0 io=0x300 irq=5
options eth1 io=0x320 irq=7
</pre></td></tr></tbody></table>

		<p>嘿嘿！如此一来，我的 Linux 就不会捉错网络卡的对应罗！因为被我强制指定某个 I/O 咯嘛！ ^_^</p>
	</div>
</div>
<hr />
    </td>
    <td style="width: 16px; font-size: 6px;">　</td></tr>
<tr><td style="width: 16px; height: 16px;">　</td>
    <td style="width: 866px; height: 16px;">　</td>
    <td style="width: 16px; height: 16px;">　</td></tr>
</tbody></table>

<div style="padding-top: 0px; text-align: center;">
<span style="font-size: 80%;">
	<a href="http://linux.vbird.org/" target="_top" title="前往鸟哥的首页">http://linux.vbird.org</a>
	is designed by <a href="mailto:vbird@mail.vbird.idv.tw" title="联络鸟哥(我不要广告信！)">VBird</a>
		during 2001-2011. <a href="http://www.ksu.edu.tw/" target="_blank">ksu.edu</a></span>
         ﻿<div id="apDiv4">
      <p>本网页主要以Firefox配合解析度 1024x768 作为设计依据&nbsp;&nbsp;&nbsp;&nbsp; 鸟哥自由软件整合应用研究室</p></div></div>
</div>
</center>
</body></html>
