<html><head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf8">
	<meta name="Author" content="2011/04/18,lee">
	<meta name="Description" content="介绍正规表示法的应用与相关技巧">
	<title>鸟哥的 Linux 私房菜 -- 正规表示法 (regular expression, RE) 与文件格式化处理</title>
    <script src="../script/SpryMenuBar.js" type="text/javascript"></script>
	<script src="../script/index.js" type="text/javascript"></script>
	<link href="../css/SpryMenuBarHorizontal.css" rel="stylesheet" type="text/css" />
    <link href="../css/main.css" rel="stylesheet" type="text/css" />
    </head><body style="margin: 0pt; padding: 0pt;" class="table"onload="MM_preloadImages('../index-2.html','../index-2.html','../index-2.html','../index-2.html','../index-2.html','../index-2.html','../index-2.html','../index-2.html')">

<center>
<div id="apDiv5">
<div> <LINK REL="SHORTCUT ICON" HREF="../index-2.html">
<!-- ImageReady Slices (title3.ai) -->
<table id="___01" width="898" height="81" border="0" align="center" cellpadding="0" cellspacing="0";>
	<tr>
		<td colspan="15">
			<img src="image/title/title_01.png" width="900" height="1" alt=""></td>
	</tr>
	<tr>
		<td rowspan="4" bgcolor="#182448"><p><img src="http://linux.vbird.org/cgi-bin/Count.cgi?dd=C&amp;ft=5&amp;sh=T&amp;md=8&amp;pad=Y&amp;df=vbird.dic.ksu.edu.tw.dat" width="93" align="left" title="計數器" /></p>
	    <p><font color="#FFFFFF" size="-1">since2012/04/23</font></p></td>
		<td rowspan="4" align="left" valign="top"><a href="../index.html"><img src="image/title/title_03.png" alt="" width="263" height="79" border="0"></a></td>
		<td colspan="13">
			<img src="image/title/title_04.png" alt="" width="535" height="9" border="0"></td>
	</tr>
	<tr>
		<td rowspan="3">
			<img src="image/title/title_05.png" alt="" width="53" height="70" border="0"></td>
		<td colspan="2" align="left" valign="top"><a href="0110whatislinux.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image51','','image/title/title_06.png',1)"><img src="image/title/title3_06.png" name="Image51" width="106" height="25" border="0" id="Image51" alt=""/></a></td>
		<td rowspan="2">
			<img src="image/title/title_07.png" alt="" width="27" height="37" border="0"></td>
		<td colspan="3" align="left" valign="top"><a href="../linux_server/0110network_basic.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image52','','image/title/title_08.png',1)"><img src="image/title/title3_08.png" name="Image52" width="107" height="25" border="0" id="Image52" alt=""/></a></td>
		<td rowspan="2">
			<img src="image/title/title_09.png" alt="" width="37" height="37" border="0"></td>
		<td colspan="2" align="left" valign="top"><a href="../about.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image53','','image/title/title_10.png',1)"><img src="image/title/title3_10.png" name="Image53" width="75" height="25" border="0" id="Image53" alt=""/></a></td>
		<td rowspan="3">
			<img src="image/title/title_11.png" alt="" width="35" height="70" border="0"></td>
		<td align="left" valign="top"><a href="mailto:vbird@mail.vbird.idv.tw" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image54','','image/title/title_12.png',1)"><img src="image/title/title3_12.png" name="Image54" width="74" height="25" border="0" id="Image54" alt=""/></a></td>
		<td rowspan="3">
			<img src="image/title/title_13.png" alt="" width="21" height="70" border="0"></td>
	</tr>
	<tr>
		<td colspan="2">
			<img src="image/title/title_14.png" alt="" width="106" height="12" border="0"></td>
		<td colspan="3">
			<img src="image/title/title_15.png" alt="" width="107" height="12" border="0"></td>
		<td colspan="2">
			<img src="image/title/title_16.png" width="75" height="12" alt=""></td>
		<td rowspan="2">
			<img src="image/title/title_17.png" alt="" width="74" height="45" border="0"></td>
	</tr>
	<tr>
		<td>
			<img src="image/title/title_18.png" alt="" width="15" height="33" border="0"></td>
		<td colspan="3" align="left" valign="top"><ul id="MenuBar1" class="MenuBarHorizontal">
	  <li><a href="linux_basic.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image44','','image/title/title_19.png',1)"><img src="image/title/title3_19.png" name="Image44" width="123" height="33" border="0" id="Image44" /></a>
			    <ul>
			      <li><a href="Mandrake9.0/mandrake9.0.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image46','','image/title/title_26.png',1)"><img src="image/title/title_23.png" name="Image46" width="120" height="26" border="0" id="Image46" alt="" /></a></li>
                  <li><a href="fedora_4/fc4.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image47','','image/title/title_27.png',1)"><img src="image/title/title_24.png" name="Image47" width="120" height="26" border="0" id="Image47" alt="" /></a></li>
                  <li><a href="linux_basic.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image48','','image/title/title_28.png',1)"><img src="image/title/title_25.png" name="Image48" width="120" height="26" border="0" id="Image48" alt="" /></a></li>
                </ul>
		      </li>
		</ul></td>
		<td>
			<img src="image/title/title_20.png" alt="" width="42" height="33" border="0"></td>
		<td colspan="3" align="left" valign="top"><ul id="MenuBar2" class="MenuBarHorizontal">
	  <li><a href="../linux_server/index.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image45','','image/title/title_21.png',1)"><img src="image/title/title3_21.png" name="Image45" width="125" height="33" border="0" id="Image45" /></a>
			    <ul>
			      <li><a href="../linux_server/linux_redhat9/redhat9.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image43','','image/title/title_26.png',1)"><img src="image/title/title_23.png" name="Image43" width="120" height="26" border="0" id="Image43" alt=""/></a></li>
			      <li><a href="../linux_server/centos4.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image49','','image/title/title_27.png',1)"><img src="image/title/title_24.png" name="Image49" width="120" height="26" border="0" id="Image49" alt="" /></a></li>
			      <li><a href="../linux_server/index.html" onmouseout="MM_swapImgRestore()" onmouseover="MM_swapImage('Image50','','image/title/title_28.png',1)"><img src="image/title/title_25.png" name="Image50" width="120" height="26" border="0" id="Image50" alt="" /></a></li>
		        </ul>
		      </li>
		</ul></td>
		<td>
			<img src="image/title/title_22.png" alt="" width="47" height="33" border="0"></td>
	</tr>
	<tr>
		<td>
			<img src="image/title/Spacer.gif" width="101" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="263" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="53" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="15" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="91" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="27" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="5" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="42" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="60" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="37" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="28" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="47" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="35" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="74" height="1" alt=""></td>
		<td>
			<img src="image/title/Spacer.gif" width="22" height="1" alt=""></td>
	</tr>
</table>
<!-- End ImageReady Slices -->
<script type="text/javascript">
<!--
var MenuBar1 = new Spry.Widget.MenuBar("MenuBar1", {imgDown:"SpryAssets/SpryMenuBarDownHover.gif", imgRight:"SpryAssets/SpryMenuBarRightHover.gif"});
var MenuBar2 = new Spry.Widget.MenuBar("MenuBar2", {imgDown:"SpryAssets/SpryMenuBarDownHover.gif", imgRight:"SpryAssets/SpryMenuBarRightHover.gif"});
//-->
</script>
</div>
<table summary="本文内容的排版" style="width: 898px;" border="0" cellpadding="0" cellspacing="0">
<tbody><tr><td style="width: 16px; height: 16px;">　</td>
    <td style="width: 866px; height: 16px;">　</td>
    <td style="width: 16px; height: 16px;">　</td></tr>
<tr><td style="width: 16px; font-size: 6px;">　</td>
    <td width="866">

<!-- 本文的档头部分 -->
<div style="text-align: center;">
    <a href="0330regularex.html">
    <span class="text_head0">第十二章、正规表示法与文件格式化处理</span></a><br>
</div>
    <div style="text-align: right;">
        <span class="text_history">最近升级日期：2009/08/26</span>
    </div>
<!-- 本文的连结区部分 -->
<div class="block1">
<span class="text_h1">
1. <a href="#before">前言： 什么是正规表示法</a><br>
	<span class="text_h2">
	　　1.1 <a href="#before_1">什么是正规表示法</a><br>
	　　1.2 <a href="#before_2">正规表示法对於系统管理员的用途</a><br>
	　　1.3 <a href="#before_3">正规表示法的广泛用途</a><br>
	　　1.4 <a href="#before_4">正规表示法与 Shell 在 Linux 当中的角色定位</a><br>
	　　1.5 <a href="#before_5">延伸的正规表示法</a><br>
	</span>
</span></div>
<!-- 本文的正式部分 -->
<hr>
<a name="before"></a><img src="../image/logo.png" alt="大标题的图示" width="35" align="middle" height="34"><span class="text_h1">前言：什么是正规表示法</span><br>
<div class="block1">
	<p>约略了解了 Linux 的基本命令 (<a href="0320bash.html">BASH</a>) 并且熟悉了
	<a href="0310vi.html">vim</a> 之后，相信你对於敲击键盘的打字与命令下达比较不陌生了吧？
	接下来，底下要开始介绍一个很重要的观念，那就是所谓的『<span class="text_import2">正规表示法
	(Regular Expression)</span>』罗！<br><br></p>

	<a name="before_1"></a><hr><img src="../image/logo.png" alt="小标题的图示" width="24" align="middle" height="23"><span class="text_h2">什么是正规表示法</span><br>
	<div class="block2">
		<p>任何一个有经验的系统管理员，都会告诉你：『<span class="text_import2">正规表示法真是挺重要的</span>！』
		为什么很重要呢？因为日常生活就使用的到啊！举个例子来说，
		在你日常使用 <a href="0310vi.html">vim</a> 作文书处理或程序撰写时使用到的『搜寻/取代』等等的功能，
		这些举动要作的漂亮，就得要配合正规表示法来处理罗！</p>

		<p class="text_import2">简单的说，正规表示法就是处理字串的方法，他是以行为单位来进行字串的处理行为，
		正规表示法透过一些特殊符号的辅助，可以让使用者轻易的达到『搜寻/删除/取代』某特定字串的处理程序！</p>

		<p>举例来说，我只想找到 VBird(前面两个大写字节) 或 Vbird(仅有一个大写字节) 这个字样，但是不要其他的字串 (例如 VBIRD, vbird 
		等不需要)，该如何办理？如果在没有正规表示法的环境中(例如 MS word)，你或许就得要使用忽略大小写的办法，
		或者是分别以 VBird 及 Vbird 搜寻两遍。但是，忽略大小写可能会搜寻到 VBIRD/vbird/VbIrD 等等的不需要的字串而造成困扰。</p>

		<p>再举个系统常见的例子好了，假设你发现系统在启动的时候，老是会出现一个关於 mail 程序的错误，
		而启动过程的相关程序都是在 /etc/init.d/ 底下，也就是说，在该目录底下的某个文件内具有 mail 
		这个关键字，你想要将该文件捉出来进行查询修改的动作。此时你怎么找出来含有这个关键字的文件？
		你当然可以一个文件一个文件的开启，然后去搜寻 mail 这个关键字，只是.....该目录底下的文件可能不止 100 个说～
		如果了解正规表示法的相关技巧，那么只要一行命令就找出来啦：『grep 'mail' /etc/init.d/*』
		那个 grep 就是支持正规表示法的工具程序之一！如何～很简单吧！</p>

		<p>谈到这里就得要进一步说明了，<span class="text_import2">正规表示法基本上是一种『表示法』，
		只要工具程序支持这种表示法，那么该工具程序就可以用来作为正规表示法的字串处理之用。</span>
		例如 vi, grep, awk ,sed 等等工具，因为她们有支持正规表示法，
		所以，这些工具就可以使用正规表示法的特殊字节来进行字串的处理。但例如 cp, ls 等命令并未支持正规表示法，
		所以就只能使用 <a href="0320bash.html#settings_wildcard">bash 自己本身的万用字节</a>而已。</p>
	</div>

	<a name="before_2"></a><hr><img src="../image/logo.png" alt="小标题的图示" width="24" align="middle" height="23"><span class="text_h2">正规表示法对於系统管理员的用途</span><br>
	<div class="block2">
		<p>那么为何我需要学习正规表示法呢？对於一般使用者来说，由於使用到正规表示法的机会可能不怎么多，
		因此感受不到他的魅力，不过，对於身为系统管理员的你来说，<span class="text_import2">正规表示法则是一个『不可不学的好东西！</span>』
		怎么说呢？由於系统如果在繁忙的情况之下，每天产生的信息资讯会多到你无法想像的地步，
		而我们也都知道，系统的『<a href="0570syslog.html">错误信息登录文件 (第十九章)</a>』
		的内容记载了系统产生的所有信息，当然，这包含你的系统是否被『入侵』的记录数据。</p>

		<p>但是系统的数据量太大了，要身为系统管理员的你每天去看这么多的信息数据，
		从千百行的数据里面找出一行有问题的信息，呵呵～光是用肉眼去看，想不疯掉都很难！
		这个时候，我们就可以透过『正规表示法』的功能，将这些登录的资讯进行处理，
		仅取出『有问题』的资讯来进行分析，哈哈！如此一来，你的系统管理工作将会
		『快乐得不得了』啊！当然，正规表示法的优点还不止於此，等你有一定程度的了解之后，你会爱上他喔！</p>
	</div>

	<a name="before_3"></a><hr><img src="../image/logo.png" alt="小标题的图示" width="24" align="middle" height="23"><span class="text_h2">正规表示法的广泛用途</span><br>
	<div class="block2">
		<p>正规表示法除了可以让系统管理员管理主机更为便利之外，事实上，由於正规表示法强大的字串处理能力，
		目前一堆软件都支持正规表示法呢！最常见的就是『邮件服务器』啦！</p>

		<p>如果你留意网际网络上的消息，那么应该不能发现，目前造成网络大塞车的主因之一就是『垃圾/广告信件』了，
		而如果我们可以在服务器端，就将这些问题邮件剔除的话，用户端就会减少很多不必要的频宽耗损了。
		那么如何剔除广告信件呢？由於广告信件几乎都有一定的标题或者是内容，因此，
		只要每次有来信时，都先将来信的标题与内容进行特殊字串的比对，发现有不良信件就予以剔除！
		嘿！这个工作怎么达到啊？就使用正规表示法啊！目前两大邮件服务器软件 sendmail 与 postfix 
		以及支持邮件服务器的相关分析软件，都支持正规表示法的比对功能！</p>

		<p>当然还不止於此啦，很多的服务器软件都支持正规表示法呢！当然，
		虽然各家软件都支持他，不过，这些『字串』的比对还是需要系统管理员来加入比对守则的，
		所以啦！身为系统管理员的你，为了自身的工作以及用户端的需求，
		正规表示法实在是很需要也很值得学习的一项工具呢！</p>
	</div>

	<a name="before_4"></a><hr><img src="../image/logo.png" alt="小标题的图示" width="24" align="middle" height="23"><span class="text_h2">正规表示法与 Shell 在 Linux 当中的角色定位</span><br>
	<div class="block2">
		<p>说实在的，我们在学数学的时候，一个很重要、但是粉难的东西是一定要『背』的，
		那就是九九乘法表，背成功了之后，未来在数学应用的路途上，真是一帆风顺啊！
		这个九九乘法表我们在小学的时候几乎背了一整年才背下来，并不是这么好背的呢！
		但他却是基础当中的基础！你现在一定受惠相当的多呢 ^_^！</p>

		<p>而我们谈到的这个正规表示法，与前一章的 <a href="0320bash.html">BASH</a> 
		就有点像是数学的九九乘法表一样，是 Linux 基础当中的基础，虽然也是最难的部分，
		不过，如果学成了之后，一定是『大大的有帮助』的！这就好像是金庸小说里面的学武难关：任督二脉！
		打通任督二脉之后，武功立刻成倍成长！所以啦，
		不论是对於系统的认识与系统的管理部分，他都有很棒的辅助啊！请好好的学习这个基础吧！ ^_^</p>
	</div>

	<a name="before_5"></a><hr><img src="../image/logo.png" alt="小标题的图示" width="24" align="middle" height="23"><span class="text_h2">延伸的正规表示法</span><br>
	<div class="block2">
		<p>唔！正规表示法还有分喔？没错喔！<span class="text_import2">正规表示法的字串表示方式依照不同的严谨度而分为：
		基础正规表示法与延伸正规表示法</span>。延伸型正规表示法除了简单的一组字串处理之外，还可以作群组的字串处理，
		例如进行搜寻 VBird 或 netman 或 lman 的搜寻，注意，是『或(or)』而不是『和(and)』的处理，
		此时就需要延伸正规表示法的帮助啦！藉由特殊的『 ( 』与『 | 』等字节的协助，
		就能够达到这样的目的！不过，我们在这里主力仅是介绍最基础的基础正规表示法而已啦！好啦！清清脑门，咱们用功去罗！</p>
	</div>

	<div style="padding: 10pt 0pt;" align="right"><table width="90%"><tbody><tr><td><b>Tips:</b><br><span style="color: rgb(0, 144, 0);"><font size="-1">		有一点要向大家报告的，那就是：『<b>正规表示法与万用字节是完全不一样的东西！</b>』
		这很重要喔！因为『万用字节 (wildcard) 代表的是 bash 操作介面的一个功能』，但正规表示法则是一种字串处理的表示方式！
		这两者要分的很清楚才行喔！所以，学习本章，请将前一章 bash 的万用字节意义先忘掉吧！<br><br>
		老实说，鸟哥以前刚接触正规表示法时，老想著要将这两者归纳在一起，结果就是...错误认知一大堆～
		所以才会建议您学习本章先忘记万用字节再来学习吧！
	</font></span></td><td><img src="0330regularex_files/vbird_face.gif" alt="鸟哥的图示" title="鸟哥的图示"></td></tr></tbody></table></div></div>
<hr />
    </td>
    <td style="width: 16px; font-size: 6px;">　</td></tr>
<tr><td style="width: 16px; height: 16px;">　</td>
    <td style="width: 866px; height: 16px;">　</td>
    <td style="width: 16px; height: 16px;">　</td></tr>
</tbody></table>

<div style="padding-top: 0px; text-align: center;">
<span style="font-size: 80%;">
	<a href="http://linux.vbird.org/" target="_top" title="前往鸟哥的首页">http://linux.vbird.org</a>
	is designed by <a href="mailto:vbird@mail.vbird.idv.tw" title="联络鸟哥(我不要广告信！)">VBird</a>
		during 2001-2011. <a href="http://www.ksu.edu.tw/" target="_blank">ksu.edu</a></span>
         ﻿<div id="apDiv4">
      <p>本网页主要以Firefox配合解析度 1024x768 作为设计依据&nbsp;&nbsp;&nbsp;&nbsp; 鸟哥自由软件整合应用研究室</p></div></div>
</div>
</center>
</body></html>
